{"version":3,"sources":["webpack:///./src/assets/img/604.png","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./src/views/Home.vue?477d","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./src/assets/img/guanggao.png","webpack:///./src/assets/img/logo.png","webpack:///./src/assets/img/xc.png","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./src/views/Home.vue?1ffb","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/@antv/f2/dist/f2.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"],"names":["module","exports","global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","callbackfn","this","arguments","length","undefined","$","target","proto","forced","$filter","filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","fails","METHOD_NAME","argument","method","call","toObject","nativeKeys","FAILS_ON_PRIMITIVES","stat","keys","it","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","swiperOption","_l","item","key","id","img","_v","_s","weatherTodayData","province","city","date","nightweather","daytemp","daywind","_e","_m","staticRenderFns","staticStyle","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","source","getOwnPropertyDescriptors","defineProperties","name","components","Swiper","SwiperSlide","props","data","loop","autoplay","disableOnInteraction","pagination","el","spaceBetween","swiperList","weather_loading","created","getAd","mounted","initChart","methods","$http","get","getWeatherData","extensions","res","forecasts","document","getElementById","style","width","$refs","chartFoo","offsetWidth","height","pixelRatio","window","devicePixelRatio","chart","tickCount","min","type","range","tooltip","custom","showXTip","showYTip","snap","crosshairsType","crosshairsStyle","lineDash","axis","label","text","index","total","textCfg","textAlign","line","position","component","DESCRIPTORS","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","sham","descriptor","O","f","result","factory","isArrayLike","isFinite","contains","arr","indexOf","func","toString","isType","isFunction","isNil","isArray","Array","isObject","each","elements","rst","len","k","hasOwnProperty","isMatch","_keys","isObjectLike","isPlainObject","getPrototypeOf","find","predicate","_predicate","a","getRange","values","filterValues","v","isNaN","max","tmp","concat","Math","isString","str","uniq","resultArr","head","o","last","fixedBase","base","round","substr","parseFloat","toFixed","isNumber","toString$1","lowerFirst","charAt","toLowerCase","substring","upperFirst","toUpperCase","toString$2","getType","replace","isBoolean","isDate","objectProto","isPrototype","Ctor","constructor","_mix","dist","mix","src1","src2","src3","MAX_MIX_LEVEL","_deepMix","src","level","maxLevel","deepMix","args","_i","m","isEmpty","size","isEqual","other","valueKeys","otherKeys","map","merge","dataArray","tmpMap","val","firstValue","groupToMap","fields","0","callback","row","unique","l","groups","group","appendConditions","array","_values","remove","splice","getRange$1","freeze","__proto__","supportsEventListenerOptions","supports","options","addEventListener","e","eventListenerOptions","passive","isWx","wx","getSystemInfoSync","isMy","my","isNode","isBrowser","sessionStorage","isCanvasElement","nodeType","nodeName","getPixelRatio","getStyle","property","currentStyle","defaultView","getComputedStyle","getPropertyValue","getWidth","getHeight","offsetHeight","getDomById","getRelativePosition","point","canvas","canvasDom","_canvasDom$getBoundin","getBoundingClientRect","top","right","bottom","left","paddingLeft","paddingTop","paddingRight","paddingBottom","mouseX","x","mouseY","y","listener","removeEventListener","createEventObj","nativeEvent","createEvent","event","clientPoint","touches","touch","changedTouches","clientX","clientY","measureText","font","ctx","createElement","getContext","isObjectValueEqual","b","assign","aProps","getOwnPropertyNames","bProps","propName","parsePadding","padding","directionEnabled","mode","dir","toTimeStamp","Date","getTime","Util","color1","color2","defaultAxis","fill","fontSize","stroke","lineWidth","grid","tickLine","labelOffset","Theme","fontFamily","defaultColor","appendPadding","colors","shapes","sizes","common","circle","radius","shape","lineJoin","lineCap","area","fillOpacity","_defaultAxis","Global","version","scales","widthRatio","column","rose","multiplePie","_extends","_inheritsLoose","subClass","superClass","create","_assertThisInitialized","self","ReferenceError","setTheme","theme","EVENT_AFTER_INIT","EVENT_BEFORE_RENDER","EVENT_AFTER_RENDER","EVENT_BEFORE_DATA_CHANGE","EVENT_AFTER_DATA_CHANGE","EVENT_AFTER_SIZE_CHANGE","EVENT_AFTER_GEOM_INIT","EVENT_BEFORE_GEOM_DRAW","EVENT_AFTER_GEOM_DRAW","EVENT_CLEAR","EVENT_CLEAR_INNER","EVENT_REPAINT","EventEmit","__events","_proto","on","events","emit","_this","off","Base","_Emit","cfg","defaultCfg","getDefaultCfg","_attrs","set","destroy","destroyed","Plot","_init","start","end","xMin","xMax","yMin","yMax","tl","tr","bl","br","reset","isInRange","Matrix","generateDefault","isChanged","multiply","m1","m2","m11","m12","m21","m22","dx","dy","scale","out","rotate","radian","c","cos","s","sin","translate","transform","actions","action","Vector2","sqrt","normalize","add","v1","v2","sub","dot","direction","angle","theta","acos","angleTo","angleLargeThanPI","PI","zero","distance","clone","transformMat2d","defaultMatrix","Base$1","_initDefaultCfg","plot","init","_scale","s1","s2","matrix","center","convertPoint","_this$_convertPoint","_convertPoint","vector","invertPoint","_invertPoint","Cartesian","_Base","transposed","isRect","xDim","yDim","toScaleString","invert","Rect","AttributeBase","linear","mixedCallback","defaultCallback","userCallback","_len","params","_key","ret","_getAttrValue","isCategory","percent","getLinearValue","steps","step","floor","leftPercent","rstValue","getNames","names","getFields","field","getScale","mapping","_len2","_key2","_toOriginParam","param","isLinear","Position","rstX","rstY","coord","scaleX","scaleY","j","xLen","yLen","yVal","xVal","Shape","gradient","Size","getValue","arr2hex","toRGBValue","calColor","rgb","hex2arr","parseInt","colorCache","black","blue","grey","green","orange","pink","purple","red","white","yellow","toHex","color","hex","r","g","match","shift","points","split","Color","gradient$1","Attr","Shape$1","ShapeBase","_coord","draw","container","drawShape","setCoord","parsePoint","isPolar","parsePoints","ShapeFactoryBase","defaultShapeType","getShape","getShapePoints","fn","getPoints","getDefaultPoints","_mix$1","registerFactory","factoryName","className","geomObj","registerShape","shapeType","shapeObj","registShape","getShapeFactory","mix$1","mix_1","Adjust","adjustNames","processAdjust","GROUP_ATTRS","FIELD_ORIGIN","FIELD_ORIGIN_Y","parseFields","Geom","styleOptions","generatePoints","attrOptions","sortable","startOnZero","visible","connectNulls","ignoreEmptyGroup","isInit","_initAttrs","_processData","_getGroupScales","attrName","attr","getAttr","attrScales","_groupData","colDefs","groupScales","_setAttrOptions","attrCfg","_createAttr","_createAttrOption","defaultValues","option","_createScale","yScale","hasAdjust","change","nice","createScale","groupedArray","getYScale","some","subData","tempData","_saveOrigin","_numberic","_adjustData","_sort","origin","positionAttr","count","adjust","adjustType","Error","xScale","getXScale","xField","yField","adjustObject","_updateStackRange","mergeArray","tmpMin","tmpMax","mappedArray","itemArr","sort","obj1","obj2","paint","shapeFactory","_beforeMapping","mappedData","_mapping","mappedCache","record","mappedRecord","_getAttrValues","_name","getAttrValue","_generatePoints","isInCircle","getCallbackCfg","tmpCfg","getDrawCfg","opacity","nextPoints","_origin","shapeData","gShape","shapeAttr","createShapePointsCfg","nextData","_normalizeValues","y0","getYMinValue","_getSnap","getSnapRecords","xfield","invertPointX","rangeMax","rangeMin","xValue","originValue","_isEqual","yValue","getRecords","animate","changeData","clearInner","clear","_display","show","hide","methodCache","getTickMethod","registerTickMethod","Scale","isContinuous","isIdentity","ticks","__cfg__","initCfg","getTicks","tick","idx","getText","tickValue","formatter","getConfig","setDomain","calculateTicks","tickMethod","calcPercent","NaN","calcValue","extendStatics","d","setPrototypeOf","p","__extends","__","__spreadArrays","il","jl","Category","_super","order","scaledValue","domainRange","includes","token","twoDigitsOptional","twoDigits","threeDigits","fourDigits","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","lowerCaseArr","origObj","_a","args_1","dayNames","monthNames","monthNamesShort","dayNamesShort","defaultI18n","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","String","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","h","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","offset","getTimezoneOffset","abs","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","now","cent","globalMasks","default","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","format","mask","literals","$0","$1","combinedI18nSettings","parse","dateStr","today","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","info","regex","requiredField","matches","RegExp","parser","dateWithoutTZ","validateFields","UTC","fecha","fecha1","bisector","getter","_lo","_hi","lo","hi","mid","FORMAT_METHOD","timeFormat","time","toTimeStamp$1","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","intervals","getTickInterval","interval","TimeCat","tickIndex","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","getInvertPercent","Linear","calBase","E","pow","log","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","exponent","factor","Time","numberValue","minConfig","maxConfig","timeStamps_1","min_1","Infinity","secondMin_1","max_1","timeStamp","TypeError","minTickInterval","Quantize","minIndex","minTick","nextTick","minIndexPercent","maxIndexPercent","unshift","Quantile","map$1","getClass","registerClass","cls","Identity","DEFAULT_Q","eps","Number","EPSILON","mod","n","simplicity","q","Q","lmin","lmax","lstep","simplicityMax","density","dmin","dmax","rt","densityMax","coverage","coverageMax","span","half","legibility","extended","onlyLoose","w","best","score","Q_1","sm","dm","delta","z","ceil","log10","cm","minStart","maxStart","isInteger","calculateCatTicks","tickInterval","ticks_1","valid","slice","d3Linear","D3Linear","domain","DEFAULT_COUNT","e10","e5","e2","_domain","from","_b","i0","i1","stop","tickIncrement","d3ArrayTicks","reverse","power","LN10","snapMultiple","snapType","div","intervalTicks","maxTick","strictLimit","defaultMin","defaultMax","tickMin","tickMax","d3LinearTickMethod","calculateLogTicks","avg","pretty","h5","unit","nu","ns","calculatePowTicks","quantileSorted","sorted","linearPretty","calculateTimeTicks","ratio","calculateTimeCatTicks","lastValue","getYear","createYear","diffMonth","minYear","maxYear","minMonth","maxMonth","creatMonth","diffDay","diffHour","diffMinus","timePretty","yearInterval","monthInterval","mmMoth","dMonths","mday","ddays","hours","dHours","dMinus","minSecond","dSeconds","seconds","console","warn","CatTick","SNAP_COUNT_ARRAY","DEFAULT_COUNT$1","LinearTick","_ref","_ref2","getBestInterval","intervalCount","tickLength","fixedLength","getFixedLength","DECIMAL_LENGTH","getFactor","number","_ref3","avgInterval","calInterval","calMax","calMin","similarityIndex","similarityInterval","getInterval","startIndex","verify","intervalIsVerify","_ref4","num","indexOfExp","Linear$1","Identity$1","Category$1","TimeCat$1","isFullCircle","startAngle","endAngle","clearObj","Cat","ScaleController","defs","setFieldDef","updateScales","_getDef","def","_getDefaultType","_getScaleDef","values$1","_Array$getRange","isRounding","_adjustRange","_getScaleCfg","firstObj","firstValue$1","_this$_getScaleCfg","newScale","_updateScale","_getScaleData","_this$_getScaleCfg2","adjustStartZero","Abastract","offsetFactor","frontContainer","backContainer","gridPoints","drawGrid","drawTicks","drawLine","drawLabels","tickCfg","getContainer","getOffsetPoint","getSidePoint","addShape","x1","y1","x2","y2","_id","labels","labelShape","_self$getSidePoint","getTextAlignInfo","gridCfg","subPoints","executedGrid","getAxisVector","getOffsetVector","axisVector","normal","verticalVector","offsetVector","align","baseLine","textBaseline","isTop","Line","_Abstract","lineCfg","calcDirection","xDistance","yDistance","calcDistance","point1","point2","getCenter","convertPoints","ev","_point","PRESS_DELAY","EventController","emitEvent","startTime","startPoints","startDistance","pressTimeout","setTimeout","eventType","emitStart","clearPressTimeout","currentDistance","zoom","deltaX","deltaY","getEventType","prevMoveTime","lastMoveTime","prevMovePoints","lastMovePoints","emitEnd","intervalTime","velocity","_start","delegateEvent","processEvent","canvasEl","_click","_move","_end","_cancel","panEventListeners","pan","enable","isProcess","_this2","clearTimeout","pinch","CanvasElement","_EventEmit","context","dispatchEvent","supportEventListener","support","Event","CanvasElement$1","_mod","_addStop","addColorStop","_parseLineGradient","_shape$getBBox","getBBox","minX","minY","maxX","maxY","tanTheta","tan","tanTheta2","createLinearGradient","_parseRadialGradient","circleCfg","fx","fy","fr","_color","_shape$getBBox2","createRadialGradient","parseStyle","firstCode","ALIAS_ATTRS_MAP","SHAPE_ATTRS","CLIP_SHAPES","Element","_initProperties","initAttrs","initTransform","zIndex","isGroup","isShape","getDefaultAttrs","_setAttr","_setAttrClip","alias","_getAttr","clip","argumentsLen","bbox","_afterAttrsSet","getParent","setContext","drawInner","restoreContext","save","resetTransform","createPath","resetContext","restore","elAttrs","setLineDash","hasFill","fillStyle","hasStroke","strokeStyle","isVisible","_removeFromParent","parent","children","getMatrix","setMatrix","setTransform","rad","sx","sy","moveTo","cx","cy","mo","isDestroyed","Shape$2","_Element","originOpacity","globalAlpha","strokeOpacity","calculateBox","SHAPE_MAP","INDEX","getComparer","compare","Container","getGroupClass","getChildren","addGroup","groupClass","contain","child","items","descendants","_setEvn","Group","box","leftTop","leftBottom","rightTop","rightBottom","requestAnimationFrame","Canvas","_initPixelRatio","_initCanvas","beforeDraw","clearRect","changeSize","eventController","canvasDOM","getPointByClient","_beginDraw","toDraw","_endDraw","parseRadius","minWidth","minHeight","_Shape","canFill","canStroke","beginPath","lineTo","arc","closePath","rect","ImageShape","loading","image","drawImage","Image","_image","crossOrigin","onload","swidth","sheight","Circle","extremity","getCubicBezierXYatT","startPt","controlPt1","controlPt2","endPt","T","CubicN","t2","t3","cubicBezierBounds","c1","c2","t","pt","getBBoxFromPoints","getBBoxFromLine","x0","getBBoxFromArc","anticlockwise","diff","getBBoxFromBezierGroup","Line$1","Polygon","getPoint","smoothBezier","smooth","isLoop","constraint","prevPoint","nextPoint","cps","hasConstraint","d0","d1","sum","cp0","cp1","catmullRom2bezier","pointList","cp2","controlPointList","_filterPoints","filteredPoints","Polyline","constaint","sps","sp","bezierCurveTo","newPoints","lastPoint","Arc","Sector","r0","unitX","unitY","outerBBox","innerBBox","Rect$1","calcRotatedBox","absRotate","textWidthCacheCounter","textWidthCache","TEXT_CACHE_MAX","Text","lineCount","fontStyle","fontWeight","fontVariant","lineHeight","textArr","_getFontStyle","_getTextHeight","spaceingY","_getSpaceingY","subY","subText","fillText","_subText","strokeText","_getTextWidth","rotatedBox","Custom","G","formatTicks","first","AxisController","axisCfg","frontPlot","backPlot","axes","_isHide","_getLinePosition","dimType","_getLineCfg","_getCircleCfg","circleRadius","_getRadiusCfg","_getAxisCfg","verticalScale","maxWidth","maxHeight","labelCfg","executedLabel","textStyle","axisLabel","_axisLabel$getBBox","_createAxis","coordType","createAxis","yScales","_isAutoPadding","userPadding","legendRange","circleAxis","_axes$right","_maxWidth","_labelOffset","_axes$left","_maxWidth2","_labelOffset2","_axes$bottom","_maxHeight","_labelOffset3","_updateLayout","appendCfg","verticalTicks","verticalTick","getClip","margin","isClip","isPointInPlot","Helper","_isScaleExist","compareScale","flag","scaleValues","compareScaleValues","Chart","initPlugins","_plugins","_cacheId","register","plugins","plugin","unregister","getAll","notify","hook","descriptors","ilen","cache","geomConstructor","methodName","geom","addGeom","rendered","geoms","filters","_syncYScales","syncY","syncScales","_getFieldsForLegend","filteredData","legendFields","_adjustScale","scaleController","_removeGeoms","_clearGeoms","_clearInner","_initFilteredData","_changeGeomsData","_initGeom","middlePlot","_initGeoms","_initCoord","coordCfg","C","_initLayout","newPlot","_initLayers","_initEvents","_initScaleController","_clearScaleController","axisController","condition","_renderAxis","repaint","_interactions","interaction","getPosition","getYScales","getRecord","getLegendItems","legendItems","colorAttr","scaleValue","join","marker","symbol","dataValue","checked","registerPlugins","chartPlugins","track","splitPoints","yItem","splitArray","SHAPES","pointInfo","getPointsCfg","pointCfg","Point$1","_Geom","Point","hasStack","getStyle$1","drawLines","topPoints","bottomPoints","isStack","topShape","bottomShape","SHAPES$1","Path","splitArrayObj","splitedIndex","Line$3","_Path","equals","notEmpty","filterPoints","equalsCenter","eqls","drawRectShape","isSmooth","pointsLen","topSps","bottomSps","_n","_sp","drawShape$1","SHAPES$2","Area$1","Area","splitArrayfn","SizeMixin","initEvent","getDefaultSize","defaultSize","normalizeSize","getDimWidth","dimName","_getWidth","_toNormalizedSize","_toCoordSize","getNormalizedSize","getSize","getRectPoints","xmin","xmax","ymin","ymax","getRectRange","xValues","yValues","getMiddlePoint","_cfg$center","v0","rectCfg","polygonPoints","Interval$1","Interval","Polygon$2","temp","xCount","yCount","xOffset","yOffset","_sortValue","getCandlePoints","Schema$1","Schema","toString$3","isType$1","isType_1","isArray$1","isArray_1","isNil$1","isNil_1","_inheritsLoose$1","Stack","_Adjust","processStack","stackCache","positive","negative","reverseOrder","xkey","_typeof","Symbol","iterator","isObject$1","isObject_1","each$1","each_1","_inheritsLoose$2","MARGIN_RATIO","DODGE_RATIO","Dodge","marginRatio","dodgeRatio","getDodgeOffset","pre","next","dodgeValue","isFunction$1","isFunction_1","maxBy","maxData","maxBy_1","merge$1","merge_1","_inheritsLoose$3","ArrayUtil","Symmetric","cacheMax","groupFields","_getMax","dim","mergeData","maxRecord","maxValue","_getXValuesMax","_processSymmetric","valueMax","subVal","Polar","inner","innerRadius","maxRadius","startV","pointV","percentX","percentY","Circle$1","_getCirclePoint","KEYWORDS_PERCENT","median","GuideBase","_getNormalizedValue","parsePercentPoint","xPercent","yPercent","limitInPlot","element","changeVisible","display","Arc$1","_GuideBase","coordCenter","atan2","getOffsetFromAlign","alignX","alignY","modifyCSS","DOM","CSS","createDom","innerHTML","childNodes","Html","offsetX","offsetY","html","myNode","visibility","parentNode","wrapperNode","appendChild","canvasOffsetTop","offsetTop","canvasOffsetLeft","offsetLeft","newOffset","removeChild","Line$4","Rect$2","Text$1","content","Tag","direct","autoAdjust","side","background","withPoint","pointStyle","_getDirect","tagWidth","tagHeight","clientWidth","clientHeight","vertical","horizontal","wrapperContainer","pointShape","tagContainer","tagText","textBBox","tagBg","arrowPoints","sideShape","Point$2","SYMBOLS","square","Marker","MARKER_RADIUS","List","_renderTitle","_renderItems","showTitle","title","titleGap","itemGap","itemMarginBottom","itemFormatter","itemWidth","wordSpace","layout","joinString","wrapper","itemsGroup","titleShape","titleHeight","titleStyle","_titleHeight","reversed","_addItem","_adjustItems","_renderBackground","_wrapper$getBBox","backShape","nameText","itemGroup","unCheckStyle","unCheckColor","nameStyle","valueStyle","startX","markerAttrs","markerShape","_formatItemValue","valueX","_getMaxItemWidth","maxItemWidth","_children$i$getBBox","_width","maxLength","twoAvgWidth","threeAvgWidth","_adjustHorizontal","rowWidth","legendHitBoxes","childHeight","childWidth","_adjustVertical","colHeight","totalWidth","setItems","clearItems","setTitle","TextBox","updateContent","updatePosition","backgroundShape","textShape","_getBBox","_this$_getBBox","tipWidth","tipHeight","_height","_this$_getBBox2","GAP","Tooltip","fixed","tooltipArrow","xTipBackground","xTipTextStyle","xTipBox","yTipBackground","yTipTextStyle","yTipBox","showCrosshairs","_renderCrosshairs","xTip","yTip","setContent","setYTipContent","setYTipPosition","pos","plotRange","crosshairsShapeX","yTipHeight","yTipWidth","posX","posY","setXTipContent","setXTipPosition","crosshairsShapeY","canvasHeight","xTipWidth","xTipHeight","setXCrosshairPosition","setYCrosshairPosition","setPosition","containerBBox","_x","setMarkers","_cfg","markerGroup","_getMarkerGroup","clearMarkers","_getTooltipValueScale","colorScale","getTooltipName","nameScale","valueScale","getTooltipValue","getTooltipTitle","_indexOfArray","_uniqItems","isEqual$1","arr1","arr2","JSON","stringify","triggerOn","triggerOff","alwaysShow","showTooltipMarker","showItemMarker","itemMarkerStyle","TooltipController","_tooltipCfg","lastTimeStamp","showTooltip","hideTooltip","_chart","_setCrosshairsCfg","_getMaxLength","tooltipCfg","prePoint","bindEvents","unBindEvents","_lastActive","_getTooltipMarkerStyle","_cfg2","_chart$get","firstItem","lastItem","intervalWidth","tooltipMarkerStyle","_setTooltip","tooltipMarkerCfg","lastActive","tip","onShow","onChange","xTipPosX","yTipPosY","markerItems","tooltipMarkerType","tooltipMarkerItems","records","tooltipItem","onHide","_handleEvent","aMethod","handleShowEvent","handleHideEvent","tooltipController","afterGeomDraw","Tooltip$1","guide","tag","GuideController","guides","guideShapes","_toString","_getId","_createGuide","ClassName","regionFilter","init$1","guideController","afterGeomDraw$1","Guide","LEGEND_GAP","MARKER_SIZE","DEFAULT_CFG","selectedMode","getPaddingByPos","legend","LegendController","findItem","legends","legendPosX","legendPosY","clickedItem","clickedLegend","_createEvent","clicked","clickable","onClick","filteredVals","isSingeSelected","legendCfg","addLegend","fieldCfg","addCustomLegend","_addCategoryLegend","_isFiltered","lastCfg","_alignLegend","_self$plotRange","chartWidth","chartHeight","legendHeight","legendWidth","verticalAlign","preWidth","alignLegends","handleEvent","init$2","legendController","beforeGeomDraw","afterGeomDraw$2","clearInner$1","Legend","clock","performance","Timeline","anims","playing","play","update","pushAnim","animInfo","currentTime","propertyAnim","hasEnded","startState","endState","interpolate","duration","hasStarted","onStart","easing","onFrame","newValue","aLen","onUpdate","endTime","onEnd","linear$1","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","elasticIn","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","Easing","plainArray","interpolateNumber","interpolateArray","nb","na","Animator","timeline","to","delay","startValue","endValue","frame","defaultAnimationCfg","appear","enter","leave","Animate","Action","getAnimation","geomType","animationType","geomAnimateCfg","animation","getAnimateCfg","geomConfig","registerAnimation","animationName","animationFun","_extends2","getCoordInfo","getScaledMatrix","scaledMatrix","_matrix","_matrix2","getAnimateParam","animateCfg","doAnimation","_getAnimateParam","anim","fadeIn","ShapeAction","_groupScaleIn","zeroY","_getCoordInfo","endMatrix","_shapeScale","groupScaleInX","groupScaleInY","groupScaleInXY","shapesScaleInX","shapesScaleInY","shapesScaleInXY","groupWaveIn","isTransposed","GroupAction","path","GROUP_ANIMATION","schema","fromAttrs","toAttrs","_getShapeId","dataObj","geomIdx","groupScale","getShapes","geomContainer","geomShapes","_getAnimateCfgByShapeType","getAnimate","addAnimate","updateShapes","newShapes","deletedShape","tempShape","updateShape","cacheAttrs","newShape","lastShape","afterCanvasInit","beforeCanvasDraw","isUpdate","caches","cacheShapes","axisShapes","componentShapes","geomCfg","appearCfg","_animate","afterCanvasDestroyed","detail","Animation","isValuesEqual","newValues","lastIndex","_Interactions","registerInteraction","getInteraction","interactions","interact","clearInteraction","defaultRange","Context","getPinchScale","minScale","minCount","updateRange","updateTicks","_initEvent","_afterinit","_afterdatachange","getFollowScale","startRange","lastTickCount","doZoom","leftScale","rightScale","zoomOffset","rangeLen","rangeOffset","leftOffset","rightOffset","newStart","newEnd","newRange","doMove","valueStart","valueEnd","currentValues","updateScale","updateFollowScale","pinchScale","pinchValues","followScale","pinchField","pinchScaleType","followField","pinchValueMap","_getRange","newTickCount","catTicks","Base$2","preStart","preProcess","process","onProcess","preEnd","preReset","onReset","getInteractionContext","_bindEvents","interactionContext","startEvent","endEvent","resetEvent","_process","_reset","_clearEvents","Pan","preventDefault","coordWidth","Pinch","_assertThisInitialize","leftLen","rightLen","Component","nativeGetOwnPropertyDescriptor","FORCED"],"mappings":"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","file":"js/chunk-8294c94a.730c2366.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/604.c29eeb63.png\";","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=4f5a0fe0&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFMzM5RkEzRTMxRkQxMUVCOTREQThFRTZCMDE2MjdGMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFMzM5RkEzRjMxRkQxMUVCOTREQThFRTZCMDE2MjdGMyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkUzMzlGQTNDMzFGRDExRUI5NERBOEVFNkIwMTYyN0YzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkUzMzlGQTNEMzFGRDExRUI5NERBOEVFNkIwMTYyN0YzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SxT3ogAAA75JREFUeNrsnDFIalEYxyvelEGLFU4+uDgobkkIOYiTRIuLIFKLg00O7UqbW0ObuNnW4iLipA0FIo2Rk6C4aUsQrvf96cDFd3v5TL97r8n/Gw7H2/Xec37n+77z/07Rpq7rG7T5bIsICIuwCIuwCIuwiICwCIuwCIuwCIsICIuwCIuwCIuwiICwCIuwCIuwCIsICIuwCIuwCIuw1mMa9/f3r6+v6wALM6nVapZOptlsxuPx8/NzS99iB6z39/erqytMBsgsekUqlUL78vJyc3Pzs2Gdnp4CFjpou92upe9S1H52zgqHw9ls9qdnxl/2vMbtdqfTaXS2t7eNi8gv4/EYnb29Pdzw3TyI6MYafPeLKwRrMBi4XK6vJhCJRCaTCSKx1+t1Op1+v48sg+uBQKBSqSyQB/HF6+tr23jJe9bl5WUymdQ0DX0FRV1/e3t7fHw0bsM8f3+YYKI5Pj72er3oYEmwbOj4/X7BqW2K/2l3KBRCe3JyYroei8UODg6MjwuE3nT8YknglY1GQz0E3np2dgZYwWBwOBwaCwPvw/ayurDK5XKpVHp6erIuHNQrppfE5Lagtru7q3xW0Lnkw9Dj8ViaOBBfIKW0iBHjBqOLiwt0EIzTO8nqwjJNQNYQgPl83gguI8QQhvAseJNskrIcVr1et45Uu922c/tzRmdJiTXBbL3msGYYNApaCDdVft7d3SkF99lQSCQSicV80xLpILthm1S78VHl+K8MG+XR0dE/b154eKvrWfCR+XHs7OxEo9HZxfzKhWGhUBA8qwCCarWKbc7QTZlMRmn09clZqG9FngNnge9AWH1LN1lU6wjDwiihpNW2JfVMMPo8Z6gqU7UEOng7Og8PD8/Pz0rNI05zuZzgYCRhYcQYpQ3nVigDVR1uXEF15fP5VKii3d/fH41GUHzYHwV1mSQsrCpaDNpqWFgPVDwQB7e3t+oKasDpUEXqNLQxHG127ncAFtwKyRiZWGpkMwxCSRXS/81KsnJ/SzBhwfNVHWuDlJ/TAWULIxlYqNqKxSISqqV17PyDQara+DiYlX2yDCzUt2ix9dhGZIZeHY/HqtZZRemgpDbMkcOA6d9FmkpC/Ei26lq2NlQnvMlk0v7zAHV+PZ2hTOeOmqYJO5e+hMHh8/k8Wt0JOzw8hB/Z+calYLVaLd05s5kUbJP/uMcBnUVYNMIiLMIiLMIiLBphERZhERZhERaNsAiLsAiLsAiLRliERViERViERSMswiIswiIswqIRFmERFmERFmHR/rI/AgwAmPvX9e4RHOYAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"img/logo.bfae1c46.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1QTk1QzE3MDMxRjUxMUVCOTMzRkY2Q0Q5NUE1QTZCRCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1QTk1QzE3MTMxRjUxMUVCOTMzRkY2Q0Q5NUE1QTZCRCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjVBOTVDMTZFMzFGNTExRUI5MzNGRjZDRDk1QTVBNkJEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjVBOTVDMTZGMzFGNTExRUI5MzNGRjZDRDk1QTVBNkJEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+0XP7zAAABCBJREFUeNrsnMtKI1EQhicz4w0VVFDHoAREkSzES0AjcRMQQiALn8KH8incuRECIoiC14UXlJiFKKgYUUTEzfxYUDSnu890gh27h78W4aStTnO+VP1VdYQkMpnMD1ow+0kEhEVYhEVYhEVYREBYhEVYhEVYhEUEhEVYhEVYhEVYREBYhEVYhEVYhEUEhEVYhEVYhEVYREBYodjvJjyjr69vfHxc1js7OwGdLy4uHh8f633W/Px8kKdEFxY2PzU1hcXd3Z0d0+zs7OjoqLyVWzY2NiqVSnBScldIsEJPw46OjlQqJevNzU2LWzabVVJqCwsLgBjkQclkcmxsLN5pmMvlenp6sDg6OvJLK+BYWloSt+vr67OzMywAbnBwsLOzs1gsrq+v21MSrBcXF+EcY4FPp9MjIyNYPD09WVID2aekyuVy5dOQgGCEi0AABzupfD4vnxBXWNjD5ORkS0vLx8fH1taWxVOyD26Hh4dvb296HdEkguVOT6dNTEwMDw/Hu3XQBDw4OLi5ufFzm56elkWtVnO77e/vG25uqZqZmZHgDV4KogULe5AERGadn59bPNva2mRRrVbdf1WpUjcjeAFRg/fl5SWWsEAKe8ACau3MLIs9Pz/X+5ShoSFJwJOTE0vwRroaQmKk33l9fcUalU6uoyDe398bySKeFkN3NjAwAC7uGorGQhxCaqyaEVlKB4XMqc3ggj95qjU27Kc4t7e3eAUvd6+Lz8f3YWnfoh5Zy8vLusb+Hx4eUOOgLBAdCSLwqqsv9/s+BPrl5WUDU1FUIktDAEkHKCCFNV6RKaurq0boNZzmQgqPaE4ChgJL5liLjmB7hmfDaY4ExLD9PxzRHB8fe15vOBCAxojK7e3tpiVgKLC6u7sbo9Db24vWzNNBxmNok1RASUBIngh/jM+zMPrWewsoQPjRlLW3t3s6OMdjPRfr6uoqFAp+nlpkdnd3v7D/+mJYsnP7oZVx5f39XWXbXSLVX92MMmIvMn5fQLSOaDx37gwN3TwK5dzcnHDB+GK0+3reIFUVio629p9VElXY2aNFFBY2I5GFcSedTp+enhphIgIEnZLNazuGTWLqzufz5XJZeTkVSkdFi6j39/frB8ZA4PVQBRqUzWYNzS4WiyIrotbuowUMerlczulvOHyvfX0aSpgIr1KphCASNKpl7hYMiJE40hPg3pWVFWMSanKL4Ge//Ap2w1ar1a6urqCs6AbwtrW19c+n6c7X1tb87kqlUvA3SHn6exoCUx60t7cXBqxEeL/r4PwPmJj7yMFtMkUG9zcEXmQrpBkowR/B+P5xh7AIi0ZYhEVYhEVYhEUjLMIiLMIiLMKiERZhERZhERZh0QiLsAiLsAiLsGiERViERViERVg0wiIswiIswiIsGmERFmHFx/4KMAByf75eVpAEPQAAAABJRU5ErkJggg==\"","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"banxin home\"},[_c('div',{staticClass:\"banner\"},[_c('swiper',{ref:\"swiper\",staticClass:\"swiper-container\",attrs:{\"options\":_vm.swiperOption}},_vm._l((_vm.swiperList),function(item){return _c('swiper-slide',{key:item.id},[_c('img',{attrs:{\"src\":item.img,\"alt\":\"\",\"width\":\"100%\"}})])}),1)],1),_c('div',{staticClass:\"block-white block-row block-weather\"},[_c('div',{staticClass:\"l flex1\"},[_vm._v(\" \"+_vm._s(_vm.weatherTodayData.province + '-' + _vm.weatherTodayData.city)+\" \"),_c('div',[_vm._v(_vm._s(_vm.weatherTodayData.date))])]),_c('div',{staticClass:\"c\"},[_vm._v(_vm._s(_vm.weatherTodayData.nightweather))]),_c('div',{staticClass:\"r flex1 tx-r\"},[_vm._v(\" \"+_vm._s(_vm.weatherTodayData.daytemp + '℃')+\" \"),_c('div',[_vm._v(_vm._s('风向: ' + _vm.weatherTodayData.daywind))])]),(_vm.weather_loading)?_c('div',{staticClass:\"loading-mask\"}):_vm._e()]),_vm._m(0),_vm._m(1),_vm._m(2),_c('div',{staticClass:\"article-list-foo mt10\"},[_vm._l((1),function(item){return _c('div',{key:item,staticClass:\"article-list\"},[_c('div',{staticClass:\"article-title\"},[_vm._v(\"广而告之\")]),_vm._m(3,true)])}),_vm._l((1),function(item){return _c('div',{key:item,staticClass:\"article-list\"},[_c('div',{staticClass:\"article-title\"},[_vm._v(\"三国志之走为上计 公众号\")]),_vm._m(4,true)])}),_vm._l((1),function(item){return _c('div',{key:item,staticClass:\"article-list\"},[_c('div',{staticClass:\"article-title\"},[_vm._v(\"三国志之走为上计 公众号\")]),_vm._m(5,true)])})],2),_c('div',{staticClass:\"article-list-foo mt10\"},_vm._l((2),function(item){return _c('div',{key:item,staticClass:\"article-list\"},[_vm._m(6,true),_c('div',{staticClass:\"article-title mt10\"},[_vm._v(\"三国志之走为上计\")]),_vm._m(7,true)])}),0),_vm._l((3),function(item){return _c('div',{key:item,staticClass:\"article-list-foo mt10 pa0\"},[_vm._m(8,true)])}),_c('div',{ref:\"chartFoo\",staticClass:\"mt10 block-white\"},[_c('div',{staticClass:\"block-title\"},[_vm._v(\"访客统计\")]),_c('canvas',{ref:\"myChart\",attrs:{\"id\":\"myChart\",\"height\":\"260px\"}})])],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-white block-row flex\"},[_c('img',{staticClass:\"mr10\",attrs:{\"src\":\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ad9aa37f80844f0a8dfa675dc7437af~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1\",\"alt\":\"\"}}),_c('div',{staticClass:\"article-content\"},[_c('div',{staticClass:\"article-scri\"},[_vm._v(\"生活坏到一定程度就会好起来的, 因为它无法更坏. 努力过后, 才知道许多事情, 坚持坚持, 救过来了\")]),_c('div',{staticClass:\"article-auth fr\"},[_vm._v(\"--- 龙猫\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-white block-row flex\"},[_c('img',{staticClass:\"mr10\",attrs:{\"src\":\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e04c99427b38421dae4a6550eab7be68~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1\",\"alt\":\"\"}}),_c('div',{staticClass:\"article-content\"},[_c('div',{staticClass:\"article-scri\"},[_vm._v(\"一条路不能回头，就是一生要走许多路，有成长之路。很多事情不能自己掌控，即使再孤单再寂寞，仍要继续走下去，不许停也不能回头。\")]),_c('div',{staticClass:\"article-auth fr\"},[_vm._v(\"--- 千与千寻\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-white block-row flex\"},[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"auto\"},attrs:{\"src\":\"http://image.aligames.com/s/y9s/g/2020/5/22/448543138499278852.png\",\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-c\"},[_c('div',{staticClass:\"article-content\"},[_c('div',{staticClass:\"article-scri clear\"},[_vm._v(\"众筹服务器众筹服务器众筹服务器众筹服务器众筹服务器众筹服务器\")]),_c('div',{staticClass:\"article-b\"},[_c('span',{staticClass:\"article-time\"},[_vm._v(\"1993.07.10\")]),_c('span',{staticClass:\"article-prim ml10\"},[_vm._v(\"❤1993\")]),_c('span',{staticClass:\"article-prim ml10\"},[_c('i',{staticClass:\"fz14\"},[_vm._v(\"★\")]),_vm._v(\"710\")]),_c('span',{staticClass:\"article-auth\"},[_vm._v(\"--- 众筹服务器\")])])]),_c('div',{staticClass:\"imgFoo ml10\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/guanggao.png\"),\"alt\":\"\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-c\"},[_c('div',{staticClass:\"article-content\"},[_c('div',{staticClass:\"article-scri clear\"},[_vm._v(\"打开微信, 搜索公众号 \\\" 三国志之走为上计 \\\" 或 \\\" 三国志604 \\\", 关注我们自己的公众号\")]),_c('div',{staticClass:\"article-b\"},[_c('span',{staticClass:\"article-time\"},[_vm._v(\"1993.07.10\")]),_c('span',{staticClass:\"article-prim ml10\"},[_vm._v(\"❤1993\")]),_c('span',{staticClass:\"article-prim ml10\"},[_c('i',{staticClass:\"fz14\"},[_vm._v(\"★\")]),_vm._v(\"710\")]),_c('span',{staticClass:\"article-auth\"},[_vm._v(\"--- 走为上计\")])])]),_c('div',{staticClass:\"imgFoo ml10\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/logo.png\"),\"alt\":\"\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-c\"},[_c('div',{staticClass:\"article-content\"},[_c('div',{staticClass:\"article-scri clear\"},[_vm._v(\"我们每天会发一篇关于配将-攻略-活动-领赏等等大家比较关注的信息\")]),_c('div',{staticClass:\"article-b\"},[_c('span',{staticClass:\"article-time\"},[_vm._v(\"1993.07.10\")]),_c('span',{staticClass:\"article-prim ml10\"},[_vm._v(\"❤1993\")]),_c('span',{staticClass:\"article-prim ml10\"},[_c('i',{staticClass:\"fz14\"},[_vm._v(\"★\")]),_vm._v(\"710\")]),_c('span',{staticClass:\"article-auth\"},[_vm._v(\"--- 走为上计\")])])]),_c('div',{staticClass:\"imgFoo ml10\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/logo.png\"),\"alt\":\"\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"imgFoo imgFooW\"},[_c('img',{attrs:{\"width\":\"100%\",\"src\":require(\"@/assets/img/604.png\"),\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-c\"},[_c('div',{staticClass:\"article-content\"},[_c('div',{staticClass:\"article-scri clear\"},[_vm._v(\"我们自己的公众号, 欢迎大家踊跃关注并提出宝贵意见, thanks all baby\")]),_c('div',{staticClass:\"article-b\"},[_c('span',{staticClass:\"article-time\"},[_vm._v(\"1993.07.10\")]),_c('span',{staticClass:\"article-prim ml10\"},[_vm._v(\"❤1993\")]),_c('span',{staticClass:\"article-prim ml10\"},[_c('i',{staticClass:\"fz14\"},[_vm._v(\"★\")]),_vm._v(\"710\")]),_c('span',{staticClass:\"article-auth\"},[_vm._v(\"--- 伏特人族\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-list\"},[_c('div',{staticClass:\"article-c\"},[_c('div',{staticClass:\"imgFoo mr10\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/xc.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"article-content\"},[_c('div',{staticClass:\"article-title\"},[_vm._v(\"重要通知及基本法\")])])])])}]\n\nexport { render, staticRenderFns }","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","<template>\n  <div class=\"banxin home\">\n    <div class=\"banner\">\n      <swiper ref=\"swiper\" :options=\"swiperOption\" class=\"swiper-container\">\n        <swiper-slide v-for=\"item in swiperList\" :key=\"item.id\">\n          <img :src=\"item.img\" alt=\"\" width=\"100%\">\n        </swiper-slide>\n      </swiper>\n    </div>\n    <!-- 天气 -->\n    <div class=\"block-white block-row block-weather\">\n      <div class=\"l flex1\">\n        {{ weatherTodayData.province + '-' + weatherTodayData.city }}\n        <div>{{ weatherTodayData.date }}</div>\n      </div>\n      <div class=\"c\">{{ weatherTodayData.nightweather }}</div>\n      <!-- <img class=\"c\" :src=\"weatherTodayData.weather_icon\" alt=\"\"> -->\n      <div class=\"r flex1 tx-r\">\n        {{ weatherTodayData.daytemp + '℃' }}\n        <div>{{ '风向: ' + weatherTodayData.daywind }}</div>\n      </div>\n      <div class=\"loading-mask\" v-if=\"weather_loading\"></div>\n    </div>\n    <!-- 语录 -->\n    <div class=\"block-white block-row flex\">\n      <img class=\"mr10\" src=\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ad9aa37f80844f0a8dfa675dc7437af~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1\" alt=\"\">\n      <div class=\"article-content\">\n        <div class=\"article-scri\">生活坏到一定程度就会好起来的, 因为它无法更坏. 努力过后, 才知道许多事情, 坚持坚持, 救过来了</div>\n        <div class=\"article-auth fr\">--- 龙猫</div>\n      </div>\n    </div>\n    <div class=\"block-white block-row flex\">\n      <img class=\"mr10\" src=\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e04c99427b38421dae4a6550eab7be68~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1\" alt=\"\">\n      <div class=\"article-content\">\n        <div class=\"article-scri\">一条路不能回头，就是一生要走许多路，有成长之路。很多事情不能自己掌控，即使再孤单再寂寞，仍要继续走下去，不许停也不能回头。</div>\n        <div class=\"article-auth fr\">--- 千与千寻</div>\n      </div>\n    </div>\n    <div class=\"block-white block-row flex\">\n      <img style=\"width: 100%;height: auto;\" src=\"http://image.aligames.com/s/y9s/g/2020/5/22/448543138499278852.png\" alt=\"\">\n    </div>\n    <!-- 文章列表 -->\n    <div class=\"article-list-foo mt10\">\n      <div class=\"article-list\" v-for=\"item in 1\" :key=\"item\">\n        <div class=\"article-title\">广而告之</div>\n        <div class=\"article-c\">\n          <div class=\"article-content\">\n            <div class=\"article-scri clear\">众筹服务器众筹服务器众筹服务器众筹服务器众筹服务器众筹服务器</div>\n            <div class=\"article-b\">\n              <span class=\"article-time\">1993.07.10</span>\n              <span class=\"article-prim ml10\">❤1993</span>\n              <span class=\"article-prim ml10\"><i class=\"fz14\">★</i>710</span>\n              <span class=\"article-auth\">--- 众筹服务器</span>\n            </div>\n          </div>\n          <div class=\"imgFoo ml10\">\n            <img src=\"@/assets/img/guanggao.png\" alt=\"\">\n          </div>\n        </div>\n      </div>\n      <div class=\"article-list\" v-for=\"item in 1\" :key=\"item\">\n        <div class=\"article-title\">三国志之走为上计 公众号</div>\n        <div class=\"article-c\">\n          <div class=\"article-content\">\n            <div class=\"article-scri clear\">打开微信, 搜索公众号 \" 三国志之走为上计 \" 或 \" 三国志604 \", 关注我们自己的公众号</div>\n            <div class=\"article-b\">\n              <span class=\"article-time\">1993.07.10</span>\n              <span class=\"article-prim ml10\">❤1993</span>\n              <span class=\"article-prim ml10\"><i class=\"fz14\">★</i>710</span>\n              <span class=\"article-auth\">--- 走为上计</span>\n            </div>\n          </div>\n          <div class=\"imgFoo ml10\">\n            <img src=\"@/assets/img/logo.png\" alt=\"\">\n          </div>\n        </div>\n      </div>\n      <div class=\"article-list\" v-for=\"item in 1\" :key=\"item\">\n        <div class=\"article-title\">三国志之走为上计 公众号</div>\n        <div class=\"article-c\">\n          <div class=\"article-content\">\n            <div class=\"article-scri clear\">我们每天会发一篇关于配将-攻略-活动-领赏等等大家比较关注的信息</div>\n            <div class=\"article-b\">\n              <span class=\"article-time\">1993.07.10</span>\n              <span class=\"article-prim ml10\">❤1993</span>\n              <span class=\"article-prim ml10\"><i class=\"fz14\">★</i>710</span>\n              <span class=\"article-auth\">--- 走为上计</span>\n            </div>\n          </div>\n          <div class=\"imgFoo ml10\">\n            <img src=\"@/assets/img/logo.png\" alt=\"\">\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"article-list-foo mt10\">\n      <div class=\"article-list\" v-for=\"item in 2\" :key=\"item\">\n        <div class=\"imgFoo imgFooW\">\n          <img width=\"100%\" src=\"@/assets/img/604.png\" alt=\"\">\n        </div>\n        <div class=\"article-title mt10\">三国志之走为上计</div>\n        <div class=\"article-c\">\n          <div class=\"article-content\">\n            <div class=\"article-scri clear\">我们自己的公众号, 欢迎大家踊跃关注并提出宝贵意见, thanks all baby</div>\n            <div class=\"article-b\">\n              <span class=\"article-time\">1993.07.10</span>\n              <span class=\"article-prim ml10\">❤1993</span>\n              <span class=\"article-prim ml10\"><i class=\"fz14\">★</i>710</span>\n              <span class=\"article-auth\">--- 伏特人族</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"article-list-foo mt10 pa0\" v-for=\"item in 3\" :key=\"item\">\n      <div class=\"article-list\">\n        <div class=\"article-c\">\n          <div class=\"imgFoo mr10\">\n            <img src=\"@/assets/img/xc.png\" alt=\"\">\n          </div>\n          <div class=\"article-content\">\n            <div class=\"article-title\">重要通知及基本法</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"mt10 block-white\" ref=\"chartFoo\">\n      <div class=\"block-title\">访客统计</div>\n      <canvas ref=\"myChart\" id=\"myChart\" height=\"260px\"></canvas>\n    </div>\n  </div>\n</template>\n\n<script>\nimport  { Swiper, SwiperSlide} from 'vue-awesome-swiper'\nimport 'swiper/swiper.scss'\n\nimport F2 from '@antv/f2';\n\nexport default {\n  name: \"Home\",\n  components: {\n    Swiper,\n    SwiperSlide\n  },\n  props: {},\n  data() {\n    return {\n      swiperOption: {\n        loop: true,\n        autoplay: {\n          disableOnInteraction: false,\n        },\n        pagination: {\n          el: '.swiper-pagination',\n        },\n        spaceBetween : 10,\n      },\n      swiperList: [\n        { id: 2, scr: '赵云', img: 'https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e2777f578c8643c882a8e43a0da03da7~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1' },\n        { id: 5, scr: '诸葛', img: 'https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c0c77d73e2274ed984a7ec4c00aeb0aa~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1' },\n        { id: 3, scr: '曹操', img: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/baab071eef1444eb98d59b7d8147b214~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1' },\n        { id: 1, scr: '孙权', img: 'https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/aef565fb1f1e4c0d913276a8128ccd4a~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1' },\n        { id: 7, scr: '刘备', img: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/706a378cbbce484b943a2794521934e1~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1' },\n        { id: 6, scr: '关羽', img: 'https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b33b6ce541554f89ba28aedd0c2463d6~tplv-k3u1fbpfcp-watermark.image?imageView2/2/w/480/h/480/q/85/interlace/1' },\n      ],\n      weatherTodayData: {},\n      weather_loading: true,\n    }\n  },\n  created() {\n    this.getAd()\n  },\n  mounted() {\n    this.initChart()\n  },\n  methods: {\n    getAd() {\n      this.weather_loading = true\n\n      let params = {\n        key: '523630f6e97e4a4c08fcd91e9f005dd2',\n      }\n      this.$http.get('https://restapi.amap.com/v3/ip', {params}).then(res => {\n        this.weatherTodayData.city = res.data.city\n        this.getWeatherData(res.data.adcode)\n      })\n    },\n    getWeatherData(city) {\n      let params = {\n        key: '523630f6e97e4a4c08fcd91e9f005dd2',\n        city,\n        extensions: 'all'\n      }\n      this.$http.get('https://restapi.amap.com/v3/weather/weatherInfo', {params}).then(res => {\n        this.weatherTodayData = {\n          ...res.data.forecasts[0].casts[0],\n          province: res.data.forecasts[0].province,\n          city: res.data.forecasts[0].city\n        }\n        this.weather_loading = false\n      })\n    },\n    initChart() {\n      document.getElementById('myChart').style.width = this.$refs.chartFoo.offsetWidth + 'px'\n      document.getElementById('myChart').style.height = '260px'\n      const data = [\n        { date: '2020-11-25', value: 3 },\n        { date: '2020-11-26', value: 6 },\n        { date: '2020-11-27', value: 15 },\n        { date: '2020-11-28', value: 29 },\n        { date: '2020-11-29', value: 35 },\n        \n      ];\n\n      const chart = new F2.Chart({\n        id: 'myChart',\n        pixelRatio: window.devicePixelRatio\n      });\n\n      chart.source(data, {\n        value: {\n          tickCount: 5,\n          min: 0\n        },\n        date: {\n          type: 'timeCat',\n          range: [ 0, 1 ],\n          tickCount: 3\n        }\n      });\n      chart.tooltip({\n        custom: true,\n        showXTip: true,\n        showYTip: true,\n        snap: true,\n        crosshairsType: 'xy',\n        crosshairsStyle: {\n          lineDash: [ 2 ]\n        }\n      });\n      chart.axis('date', {\n        label: function label(text, index, total) {\n          const textCfg = {};\n          if (index === 0) {\n            textCfg.textAlign = 'left';\n          } else if (index === total - 1) {\n            textCfg.textAlign = 'right';\n          }\n          return textCfg;\n        }\n      });\n      chart.line().position('date*value');\n      chart.render();\n\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n.banxin{\n  // padding: 0;\n  .banner{\n    height: 150px;\n    margin-bottom: 10px;\n    .swiper-container{\n      height: 100%;\n      img{\n        width: 100%;\n        height: auto;\n        min-height: 100%;\n      }\n    }\n  }\n  .block-row{\n    margin-top: 1px;\n    padding: 10px;\n  }\n  .block-weather{\n    position: relative;\n    min-height: 60px;\n    margin: 10px 0;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    .flex1{\n      flex: 1;\n    }\n  }\n  .flex{\n    display: flex;\n    img{\n      width: 80px;\n      height: 80px;\n    }\n    .article-content{\n      flex: 1;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=4f5a0fe0&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=4f5a0fe0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f5a0fe0\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.F2 = {}));\n}(this, (function (exports) { 'use strict';\n\n    var isArrayLike = function (value) {\n      /**\n       * isArrayLike([1, 2, 3]) => true\n       * isArrayLike(document.body.children) => true\n       * isArrayLike('abc') => true\n       * isArrayLike(Function) => false\n       */\n      return value !== null && typeof value !== 'function' && isFinite(value.length);\n    };\n\n    var contains = function (arr, value) {\n      if (!isArrayLike(arr)) {\n        return false;\n      }\n\n      return arr.indexOf(value) > -1;\n    };\n\n    var filter = function (arr, func) {\n      if (!isArrayLike(arr)) {\n        return arr;\n      }\n\n      var result = [];\n\n      for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n\n        if (func(value, index)) {\n          result.push(value);\n        }\n      }\n\n      return result;\n    };\n\n    var toString = {}.toString;\n\n    var isType = function (value, type) {\n      return toString.call(value) === '[object ' + type + ']';\n    };\n\n    /**\n     * 是否为函数\n     * @param  {*} fn 对象\n     * @return {Boolean}  是否函数\n     */\n    var isFunction = (function (value) {\n      return isType(value, 'Function');\n    });\n\n    // isFinite,\n    var isNil = function (value) {\n      /**\n       * isNil(null) => true\n       * isNil() => true\n       */\n      return value === null || value === undefined;\n    };\n\n    var isArray = (function (value) {\n      return Array.isArray ? Array.isArray(value) : isType(value, 'Array');\n    });\n\n    var isObject = (function (value) {\n      /**\n       * isObject({}) => true\n       * isObject([1, 2, 3]) => true\n       * isObject(Function) => true\n       * isObject(null) => false\n       */\n      var type = typeof value;\n      return value !== null && type === 'object' || type === 'function';\n    });\n\n    function each(elements, func) {\n      if (!elements) {\n        return;\n      }\n\n      var rst;\n\n      if (isArray(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n          rst = func(elements[i], i);\n\n          if (rst === false) {\n            break;\n          }\n        }\n      } else if (isObject(elements)) {\n        for (var k in elements) {\n          if (elements.hasOwnProperty(k)) {\n            rst = func(elements[k], k);\n\n            if (rst === false) {\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    var keys = Object.keys ? function (obj) {\n      return Object.keys(obj);\n    } : function (obj) {\n      var result = [];\n      each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n          result.push(key);\n        }\n      });\n      return result;\n    };\n\n    function isMatch(obj, attrs) {\n      var _keys = keys(attrs);\n\n      var length = _keys.length;\n      if (isNil(obj)) return !length;\n\n      for (var i = 0; i < length; i += 1) {\n        var key = _keys[i];\n\n        if (attrs[key] !== obj[key] || !(key in obj)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    var isObjectLike = function (value) {\n      /**\n       * isObjectLike({}) => true\n       * isObjectLike([1, 2, 3]) => true\n       * isObjectLike(Function) => false\n       * isObjectLike(null) => false\n       */\n      return typeof value === 'object' && value !== null;\n    };\n\n    var isPlainObject = function (value) {\n      /**\n       * isObjectLike(new Foo) => false\n       * isObjectLike([1, 2, 3]) => false\n       * isObjectLike({ x: 0, y: 0 }) => true\n       * isObjectLike(Object.create(null)) => true\n       */\n      if (!isObjectLike(value) || !isType(value, 'Object')) {\n        return false;\n      }\n\n      if (Object.getPrototypeOf(value) === null) {\n        return true;\n      }\n\n      var proto = value;\n\n      while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n      }\n\n      return Object.getPrototypeOf(value) === proto;\n    };\n\n    function find(arr, predicate) {\n      if (!isArray(arr)) return null;\n\n      var _predicate;\n\n      if (isFunction(predicate)) {\n        _predicate = predicate;\n      }\n\n      if (isPlainObject(predicate)) {\n        _predicate = function (a) {\n          return isMatch(a, predicate);\n        };\n      }\n\n      if (_predicate) {\n        for (var i = 0; i < arr.length; i += 1) {\n          if (_predicate(arr[i])) {\n            return arr[i];\n          }\n        }\n      }\n\n      return null;\n    }\n\n    var getRange = function (values) {\n      // 存在 NaN 时，min,max 判定会出问题\n      var filterValues = values.filter(function (v) {\n        return !isNaN(v);\n      });\n\n      if (!filterValues.length) {\n        // 如果没有数值则直接返回0\n        return {\n          min: 0,\n          max: 0\n        };\n      }\n\n      if (isArray(values[0])) {\n        var tmp = [];\n\n        for (var i = 0; i < values.length; i++) {\n          tmp = tmp.concat(values[i]);\n        }\n\n        filterValues = tmp;\n      }\n\n      var max = Math.max.apply(null, filterValues);\n      var min = Math.min.apply(null, filterValues);\n      return {\n        min: min,\n        max: max\n      };\n    };\n\n    var isString = (function (str) {\n      return isType(str, 'String');\n    });\n\n    var uniq = function (arr) {\n      var resultArr = [];\n      each(arr, function (item) {\n        if (!contains(resultArr, item)) {\n          resultArr.push(item);\n        }\n      });\n      return resultArr;\n    };\n\n    function head(o) {\n      if (isArrayLike(o)) {\n        return o[0];\n      }\n\n      return undefined;\n    }\n\n    function last(o) {\n      if (isArrayLike(o)) {\n        var arr = o;\n        return arr[arr.length - 1];\n      }\n\n      return undefined;\n    }\n\n    var fixedBase = function (v, base) {\n      var str = base.toString();\n      var index = str.indexOf('.');\n\n      if (index === -1) {\n        return Math.round(v);\n      }\n\n      var length = str.substr(index + 1).length;\n\n      if (length > 20) {\n        length = 20;\n      }\n\n      return parseFloat(v.toFixed(length));\n    };\n\n    /**\n     * 判断是否数字\n     * @return {Boolean} 是否数字\n     */\n\n    var isNumber = function (value) {\n      return isType(value, 'Number');\n    };\n\n    var toString$1 = (function (value) {\n      if (isNil(value)) return '';\n      return value.toString();\n    });\n\n    var lowerFirst = function (value) {\n      var str = toString$1(value);\n      return str.charAt(0).toLowerCase() + str.substring(1);\n    };\n\n    var upperFirst = function (value) {\n      var str = toString$1(value);\n      return str.charAt(0).toUpperCase() + str.substring(1);\n    };\n\n    var toString$2 = {}.toString;\n\n    var getType = function (value) {\n      return toString$2.call(value).replace(/^\\[object /, '').replace(/]$/, '');\n    };\n\n    /**\n     * 是否是布尔类型\n     *\n     * @param {Object} value 测试的值\n     * @return {Boolean}\n     */\n\n    var isBoolean = function (value) {\n      return isType(value, 'Boolean');\n    };\n\n    var isDate = function (value) {\n      return isType(value, 'Date');\n    };\n\n    var objectProto = Object.prototype;\n\n    var isPrototype = function (value) {\n      var Ctor = value && value.constructor;\n      var proto = typeof Ctor === 'function' && Ctor.prototype || objectProto;\n      return value === proto;\n    };\n\n    // FIXME: Mutable param should be forbidden in static lang.\n    function _mix(dist, obj) {\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n          dist[key] = obj[key];\n        }\n      }\n    }\n\n    function mix(dist, src1, src2, src3) {\n      if (src1) _mix(dist, src1);\n      if (src2) _mix(dist, src2);\n      if (src3) _mix(dist, src3);\n      return dist;\n    }\n\n    var MAX_MIX_LEVEL = 5;\n\n    function _deepMix(dist, src, level, maxLevel) {\n      level = level || 0;\n      maxLevel = maxLevel || MAX_MIX_LEVEL;\n\n      for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n          var value = src[key];\n\n          if (value !== null && isPlainObject(value)) {\n            if (!isPlainObject(dist[key])) {\n              dist[key] = {};\n            }\n\n            if (level < maxLevel) {\n              _deepMix(dist[key], value, level + 1, maxLevel);\n            } else {\n              dist[key] = src[key];\n            }\n          } else if (isArray(value)) {\n            dist[key] = [];\n            dist[key] = dist[key].concat(value);\n          } else if (value !== undefined) {\n            dist[key] = value;\n          }\n        }\n      }\n    } // todo 重写\n\n\n    var deepMix = function (rst) {\n      var args = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n      }\n\n      for (var i = 0; i < args.length; i += 1) {\n        _deepMix(rst, args[i]);\n      }\n\n      return rst;\n    };\n\n    var indexOf = function (arr, obj) {\n      if (!isArrayLike(arr)) {\n        return -1;\n      }\n\n      var m = Array.prototype.indexOf;\n\n      if (m) {\n        return m.call(arr, obj);\n      }\n\n      var index = -1;\n\n      for (var i = 0; i < arr.length; i++) {\n        if (arr[i] === obj) {\n          index = i;\n          break;\n        }\n      }\n\n      return index;\n    };\n\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n    function isEmpty(value) {\n      /**\n       * isEmpty(null) => true\n       * isEmpty() => true\n       * isEmpty(true) => true\n       * isEmpty(1) => true\n       * isEmpty([1, 2, 3]) => false\n       * isEmpty('abc') => false\n       * isEmpty({ a: 1 }) => false\n       */\n      if (isNil(value)) {\n        return true;\n      }\n\n      if (isArrayLike(value)) {\n        return !value.length;\n      }\n\n      var type = getType(value);\n\n      if (type === 'Map' || type === 'Set') {\n        return !value.size;\n      }\n\n      if (isPrototype(value)) {\n        return !Object.keys(value).length;\n      }\n\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    var isEqual = function (value, other) {\n      if (value === other) {\n        return true;\n      }\n\n      if (!value || !other) {\n        return false;\n      }\n\n      if (isString(value) || isString(other)) {\n        return false;\n      }\n\n      if (isArrayLike(value) || isArrayLike(other)) {\n        if (value.length !== other.length) {\n          return false;\n        }\n\n        var rst = true;\n\n        for (var i = 0; i < value.length; i++) {\n          rst = isEqual(value[i], other[i]);\n\n          if (!rst) {\n            break;\n          }\n        }\n\n        return rst;\n      }\n\n      if (isObjectLike(value) || isObjectLike(other)) {\n        var valueKeys = Object.keys(value);\n        var otherKeys = Object.keys(other);\n\n        if (valueKeys.length !== otherKeys.length) {\n          return false;\n        }\n\n        var rst = true;\n\n        for (var i = 0; i < valueKeys.length; i++) {\n          rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n\n          if (!rst) {\n            break;\n          }\n        }\n\n        return rst;\n      }\n\n      return false;\n    };\n\n    var map = function (arr, func) {\n      if (!isArrayLike(arr)) {\n        // @ts-ignore\n        return arr;\n      }\n\n      var result = [];\n\n      for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n        result.push(func(value, index));\n      }\n\n      return result;\n    };\n\n    function size(o) {\n      if (isNil(o)) {\n        return 0;\n      }\n\n      if (isArrayLike(o)) {\n        return o.length;\n      }\n\n      return Object.keys(o).length;\n    }\n\n    function merge(dataArray) {\n      var rst = [];\n\n      for (var i = 0, len = dataArray.length; i < len; i++) {\n        rst = rst.concat(dataArray[i]);\n      }\n\n      return rst;\n    }\n\n    function values(data, name) {\n      var rst = [];\n      var tmpMap = {};\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        var obj = data[i];\n        var value = obj[name];\n\n        if (!isNil(value)) {\n          if (!isArray(value)) {\n            if (!tmpMap[value]) {\n              rst.push(value);\n              tmpMap[value] = true;\n            }\n          } else {\n            each(value, function (val) {\n              if (!tmpMap[val]) {\n                rst.push(val);\n                tmpMap[val] = true;\n              }\n            });\n          }\n        }\n      }\n\n      return rst;\n    }\n\n    function firstValue(data, name) {\n      var rst = null;\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        var obj = data[i];\n        var value = obj[name];\n\n        if (!isNil(value)) {\n          if (isArray(value)) {\n            rst = value[0];\n          } else {\n            rst = value;\n          }\n\n          break;\n        }\n      }\n\n      return rst;\n    }\n\n    function groupToMap(data, fields) {\n      if (!fields) {\n        return {\n          0: data\n        };\n      }\n\n      var callback = function callback(row) {\n        var unique = '_';\n\n        for (var i = 0, l = fields.length; i < l; i++) {\n          unique += row[fields[i]] && row[fields[i]].toString();\n        }\n\n        return unique;\n      };\n\n      var groups = {};\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        var row = data[i];\n        var key = callback(row);\n\n        if (groups[key]) {\n          groups[key].push(row);\n        } else {\n          groups[key] = [row];\n        }\n      }\n\n      return groups;\n    }\n\n    function group(data, fields, appendConditions) {\n      if (appendConditions === void 0) {\n        appendConditions = {};\n      }\n\n      if (!fields) {\n        return [data];\n      }\n\n      var groups = groupToMap(data, fields);\n      var array = [];\n\n      if (fields.length === 1 && appendConditions[fields[0]]) {\n        var _values = appendConditions[fields[0]];\n        each(_values, function (value) {\n          value = '_' + value;\n          array.push(groups[value]);\n        });\n      } else {\n        for (var i in groups) {\n          array.push(groups[i]);\n        }\n      }\n\n      return array;\n    }\n\n    function remove(arr, obj) {\n      if (!arr) {\n        return;\n      }\n\n      var index = arr.indexOf(obj);\n\n      if (index !== -1) {\n        arr.splice(index, 1);\n      }\n    }\n\n    function getRange$1(values) {\n      if (!values.length) {\n        return {\n          min: 0,\n          max: 0\n        };\n      }\n\n      var max = Math.max.apply(null, values);\n      var min = Math.min.apply(null, values);\n      return {\n        min: min,\n        max: max\n      };\n    }\n\n    var array = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        merge: merge,\n        values: values,\n        firstValue: firstValue,\n        group: group,\n        groupToMap: groupToMap,\n        remove: remove,\n        getRange: getRange$1\n    });\n\n    /**\n     * Detects support for options object argument in addEventListener.\n     * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n     * @private\n     */\n    var supportsEventListenerOptions = function () {\n      var supports = false;\n\n      try {\n        var options = Object.defineProperty({}, 'passive', {\n          get: function get() {\n            supports = true;\n          }\n        });\n        window.addEventListener('e', null, options);\n      } catch (e) {// continue regardless of error\n      }\n\n      return supports;\n    }(); // Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\n    // https://github.com/chartjs/Chart.js/issues/4287\n\n\n    var eventListenerOptions = supportsEventListenerOptions ? {\n      passive: true\n    } : false;\n    /* global wx, my */\n    // weixin miniprogram\n\n    var isWx = typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function'; // ant miniprogram\n\n    var isMy = typeof my === 'object' && typeof my.getSystemInfoSync === 'function'; // in node\n\n    var isNode = typeof global && !typeof window; // in browser\n\n    var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.sessionStorage !== 'undefined';\n\n    function isCanvasElement(el) {\n      if (!el || typeof el !== 'object') return false;\n\n      if (el.nodeType === 1 && el.nodeName) {\n        // HTMLCanvasElement\n        return true;\n      } // CanvasElement\n\n\n      return !!el.isCanvasElement;\n    }\n\n    function getPixelRatio() {\n      return window && window.devicePixelRatio || 1;\n    }\n\n    function getStyle(el, property) {\n      return el.currentStyle ? el.currentStyle[property] : document.defaultView.getComputedStyle(el, null).getPropertyValue(property);\n    }\n\n    function getWidth(el) {\n      var width = getStyle(el, 'width');\n\n      if (width === 'auto') {\n        width = el.offsetWidth;\n      }\n\n      return parseFloat(width);\n    }\n\n    function getHeight(el) {\n      var height = getStyle(el, 'height');\n\n      if (height === 'auto') {\n        height = el.offsetHeight;\n      }\n\n      return parseFloat(height);\n    }\n\n    function getDomById(id) {\n      if (!id) {\n        return null;\n      }\n\n      return document.getElementById(id);\n    }\n\n    function getRelativePosition(point, canvas) {\n      var canvasDom = canvas.get('el');\n      if (!canvasDom) return point;\n\n      var _canvasDom$getBoundin = canvasDom.getBoundingClientRect(),\n          top = _canvasDom$getBoundin.top,\n          right = _canvasDom$getBoundin.right,\n          bottom = _canvasDom$getBoundin.bottom,\n          left = _canvasDom$getBoundin.left;\n\n      var paddingLeft = parseFloat(getStyle(canvasDom, 'padding-left'));\n      var paddingTop = parseFloat(getStyle(canvasDom, 'padding-top'));\n      var paddingRight = parseFloat(getStyle(canvasDom, 'padding-right'));\n      var paddingBottom = parseFloat(getStyle(canvasDom, 'padding-bottom'));\n      var width = right - left - paddingLeft - paddingRight;\n      var height = bottom - top - paddingTop - paddingBottom;\n      var pixelRatio = canvas.get('pixelRatio');\n      var mouseX = (point.x - left - paddingLeft) / width * canvasDom.width / pixelRatio;\n      var mouseY = (point.y - top - paddingTop) / height * canvasDom.height / pixelRatio;\n      return {\n        x: mouseX,\n        y: mouseY\n      };\n    }\n\n    function addEventListener(source, type, listener) {\n      source.addEventListener(type, listener, eventListenerOptions);\n    }\n\n    function removeEventListener(source, type, listener) {\n      source.removeEventListener(type, listener, eventListenerOptions);\n    }\n\n    function createEventObj(type, chart, x, y, nativeEvent) {\n      return {\n        type: type,\n        chart: chart,\n        \"native\": nativeEvent || null,\n        x: x !== undefined ? x : null,\n        y: y !== undefined ? y : null\n      };\n    }\n\n    function createEvent(event, chart) {\n      var type = event.type;\n      var clientPoint; // 说明是touch相关事件\n\n      if (event.touches) {\n        // https://developer.mozilla.org/zh-CN/docs/Web/API/TouchEvent/changedTouches\n        // 这里直接拿changedTouches就可以了，不管是touchstart, touchmove, touchend changedTouches 都是有的\n        // 为了以防万一，做个空判断\n        var touch = event.changedTouches[0] || {}; // x, y: 相对canvas原点的位置，clientX, clientY 相对于可视窗口的位置\n\n        var x = touch.x,\n            y = touch.y,\n            clientX = touch.clientX,\n            clientY = touch.clientY; // 小程序环境会有x,y，这里就直接返回\n\n        if (x && y) {\n          return createEventObj(type, chart, x, y, event);\n        }\n\n        clientPoint = {\n          x: clientX,\n          y: clientY\n        };\n      } else {\n        // mouse相关事件\n        clientPoint = {\n          x: event.clientX,\n          y: event.clientY\n        };\n      } // 理论上应该是只有有在浏览器环境才会走到这里\n\n\n      var canvas = chart.get('canvas'); // 通过clientX, clientY 计算x, y\n\n      var point = getRelativePosition(clientPoint, canvas);\n      return createEventObj(type, chart, point.x, point.y, event);\n    }\n\n    function measureText(text, font, ctx) {\n      if (!ctx) {\n        ctx = document.createElement('canvas').getContext('2d');\n      }\n\n      ctx.font = font || '12px sans-serif';\n      return ctx.measureText(text);\n    }\n\n    /**\n     * @fileOverview Utility for F2\n     * @author dxq613 @gmail.com\n     * @author sima.zhang1990@gmail.com\n     */\n\n    function isObjectValueEqual(a, b) {\n      // for vue.js\n      a = Object.assign({}, a);\n      b = Object.assign({}, b);\n      var aProps = Object.getOwnPropertyNames(a);\n      var bProps = Object.getOwnPropertyNames(b);\n\n      if (aProps.length !== bProps.length) {\n        return false;\n      }\n\n      for (var i = 0, len = aProps.length; i < len; i++) {\n        var propName = aProps[i];\n\n        if (a[propName] !== b[propName]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function parsePadding(padding) {\n      var top;\n      var right;\n      var bottom;\n      var left;\n\n      if (isNumber(padding) || isString(padding)) {\n        top = bottom = left = right = padding;\n      } else if (isArray(padding)) {\n        top = padding[0];\n        right = !isNil(padding[1]) ? padding[1] : padding[0];\n        bottom = !isNil(padding[2]) ? padding[2] : padding[0];\n        left = !isNil(padding[3]) ? padding[3] : right;\n      }\n\n      return [top, right, bottom, left];\n    }\n\n    function directionEnabled(mode, dir) {\n      if (mode === undefined) {\n        return true;\n      } else if (typeof mode === 'string') {\n        return mode.indexOf(dir) !== -1;\n      }\n\n      return false;\n    }\n\n    function toTimeStamp(value) {\n      if (isString(value)) {\n        if (value.indexOf('T') > 0) {\n          value = new Date(value).getTime();\n        } else {\n          // new Date('2010/01/10') 和 new Date('2010-01-10') 的差别在于:\n          // 如果仅有年月日时，前者是带有时区的: Fri Jan 10 2020 02:40:13 GMT+0800 (中国标准时间)\n          // 后者会格式化成 Sun Jan 10 2010 08:00:00 GMT+0800 (中国标准时间)\n          value = new Date(value.replace(/-/gi, '/')).getTime();\n        }\n      }\n\n      if (isDate(value)) {\n        value = value.getTime();\n      }\n\n      return value;\n    }\n\n    var Util = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        Array: array,\n        upperFirst: upperFirst,\n        lowerFirst: lowerFirst,\n        isString: isString,\n        isNumber: isNumber,\n        isBoolean: isBoolean,\n        isFunction: isFunction,\n        isDate: isDate,\n        isArray: isArray,\n        isNil: isNil,\n        isObject: isObject,\n        isPlainObject: isPlainObject,\n        isEqual: isEqual,\n        deepMix: deepMix,\n        mix: mix,\n        each: each,\n        uniq: uniq,\n        find: find,\n        isObjectValueEqual: isObjectValueEqual,\n        parsePadding: parsePadding,\n        directionEnabled: directionEnabled,\n        toTimeStamp: toTimeStamp,\n        isWx: isWx,\n        isMy: isMy,\n        isNode: isNode,\n        isBrowser: isBrowser,\n        isCanvasElement: isCanvasElement,\n        getPixelRatio: getPixelRatio,\n        getStyle: getStyle,\n        getWidth: getWidth,\n        getHeight: getHeight,\n        getDomById: getDomById,\n        getRelativePosition: getRelativePosition,\n        addEventListener: addEventListener,\n        removeEventListener: removeEventListener,\n        createEvent: createEvent,\n        measureText: measureText\n    });\n\n    /**\n     * @fileOverview default theme\n     * @author dxq613@gail.com\n     */\n    var color1 = '#E8E8E8'; // color of axis-line and axis-grid\n\n    var color2 = '#808080'; // color of axis label\n\n    var defaultAxis = {\n      label: {\n        fill: color2,\n        fontSize: 10\n      },\n      line: {\n        stroke: color1,\n        lineWidth: 1\n      },\n      grid: {\n        type: 'line',\n        stroke: color1,\n        lineWidth: 1,\n        lineDash: [2]\n      },\n      tickLine: null,\n      labelOffset: 7.5\n    };\n    var Theme = {\n      fontFamily: '\"Helvetica Neue\", \"San Francisco\", Helvetica, Tahoma, Arial, \"PingFang SC\", \"Hiragino Sans GB\", \"Heiti SC\", \"Microsoft YaHei\", sans-serif',\n      defaultColor: '#1890FF',\n      pixelRatio: 1,\n      padding: 'auto',\n      appendPadding: 15,\n      colors: ['#1890FF', '#2FC25B', '#FACC14', '#223273', '#8543E0', '#13C2C2', '#3436C7', '#F04864'],\n      shapes: {\n        line: ['line', 'dash'],\n        point: ['circle', 'hollowCircle']\n      },\n      sizes: [4, 10],\n      axis: {\n        common: defaultAxis,\n        // common axis configuration\n        bottom: mix({}, defaultAxis, {\n          grid: null\n        }),\n        left: mix({}, defaultAxis, {\n          line: null\n        }),\n        right: mix({}, defaultAxis, {\n          line: null\n        }),\n        circle: mix({}, defaultAxis, {\n          line: null\n        }),\n        radius: mix({}, defaultAxis, {\n          labelOffset: 4\n        })\n      },\n      shape: {\n        line: {\n          lineWidth: 2,\n          lineJoin: 'round',\n          lineCap: 'round'\n        },\n        point: {\n          lineWidth: 0,\n          size: 3\n        },\n        area: {\n          fillOpacity: 0.1\n        }\n      },\n      _defaultAxis: defaultAxis\n    };\n\n    var Global = {\n      version: '3.7.8',\n      scales: {},\n      widthRatio: {\n        column: 1 / 2,\n        rose: 0.999999,\n        multiplePie: 3 / 4\n      },\n      lineDash: [4, 4]\n    };\n\n    Global.setTheme = function (theme) {\n      deepMix(Global, theme);\n    };\n\n    Global.setTheme(Theme);\n\n    function _defineProperty(obj, key, value) {\n      if (key in obj) {\n        Object.defineProperty(obj, key, {\n          value: value,\n          enumerable: true,\n          configurable: true,\n          writable: true\n        });\n      } else {\n        obj[key] = value;\n      }\n\n      return obj;\n    }\n\n    function _extends() {\n      _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];\n\n          for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }\n\n        return target;\n      };\n\n      return _extends.apply(this, arguments);\n    }\n\n    function _inheritsLoose(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    function _assertThisInitialized(self) {\n      if (self === void 0) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      }\n\n      return self;\n    }\n\n    var EVENT_AFTER_INIT = 'afterinit';\n    var EVENT_BEFORE_RENDER = 'beforerender';\n    var EVENT_AFTER_RENDER = 'afterrender';\n    var EVENT_BEFORE_DATA_CHANGE = 'beforedatachange';\n    var EVENT_AFTER_DATA_CHANGE = 'afterdatachange';\n    var EVENT_AFTER_SIZE_CHANGE = '_aftersizechange';\n    var EVENT_AFTER_GEOM_INIT = '_aftergeominit';\n    var EVENT_BEFORE_GEOM_DRAW = 'beforegeomdraw';\n    var EVENT_AFTER_GEOM_DRAW = 'aftergeomdraw';\n    var EVENT_CLEAR = 'clear';\n    var EVENT_CLEAR_INNER = 'clearinner';\n    var EVENT_REPAINT = 'repaint';\n\n    // 实现简单的事件机制\n\n    var EventEmit = /*#__PURE__*/function () {\n      function EventEmit() {\n        this.__events = {};\n      }\n\n      var _proto = EventEmit.prototype;\n\n      _proto.on = function on(type, listener) {\n        if (!type || !listener) {\n          return;\n        }\n\n        var events = this.__events[type] || [];\n        events.push(listener);\n        this.__events[type] = events;\n      };\n\n      _proto.emit = function emit(type, e) {\n        var _this = this;\n\n        if (isObject(type)) {\n          e = type;\n          type = e && e.type;\n        }\n\n        if (!type) {\n          return;\n        }\n\n        var events = this.__events[type];\n\n        if (!events || !events.length) {\n          return;\n        }\n\n        events.forEach(function (listener) {\n          listener.call(_this, e);\n        });\n      };\n\n      _proto.off = function off(type, listener) {\n        var __events = this.__events;\n        var events = __events[type];\n\n        if (!events || !events.length) {\n          return;\n        } // 如果没有指定方法，则删除所有项\n\n\n        if (!listener) {\n          delete __events[type];\n          return;\n        } // 删除指定的 listener\n\n\n        for (var i = 0, len = events.length; i < len; i++) {\n          if (events[i] === listener) {\n            events.splice(i, 1);\n            i--;\n          }\n        }\n      };\n\n      return EventEmit;\n    }();\n\n    var Base = /*#__PURE__*/function (_Emit) {\n      _inheritsLoose(Base, _Emit);\n\n      var _proto = Base.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {};\n      };\n\n      function Base(cfg) {\n        var _this;\n\n        _this = _Emit.call(this) || this;\n        var attrs = {};\n\n        var defaultCfg = _this.getDefaultCfg();\n\n        _this._attrs = attrs;\n        mix(attrs, defaultCfg, cfg);\n        return _this;\n      }\n\n      _proto.get = function get(name) {\n        return this._attrs[name];\n      };\n\n      _proto.set = function set(name, value) {\n        this._attrs[name] = value;\n      };\n\n      _proto.destroy = function destroy() {\n        this._attrs = {};\n        this.destroyed = true;\n      };\n\n      return Base;\n    }(EventEmit);\n\n    var Plot = /*#__PURE__*/function () {\n      function Plot(cfg) {\n        mix(this, cfg);\n\n        this._init();\n      }\n\n      var _proto = Plot.prototype;\n\n      _proto._init = function _init() {\n        var self = this;\n        var start = self.start;\n        var end = self.end;\n        var xMin = Math.min(start.x, end.x);\n        var xMax = Math.max(start.x, end.x);\n        var yMin = Math.min(start.y, end.y);\n        var yMax = Math.max(start.y, end.y);\n        this.tl = {\n          x: xMin,\n          y: yMin\n        };\n        this.tr = {\n          x: xMax,\n          y: yMin\n        };\n        this.bl = {\n          x: xMin,\n          y: yMax\n        };\n        this.br = {\n          x: xMax,\n          y: yMax\n        };\n        this.width = xMax - xMin;\n        this.height = yMax - yMin;\n      }\n      /**\n       * reset\n       * @param  {Object} start start point\n       * @param  {Object} end end point\n       */\n      ;\n\n      _proto.reset = function reset(start, end) {\n        this.start = start;\n        this.end = end;\n\n        this._init();\n      }\n      /**\n       * check the point is in the range of plot\n       * @param  {Number}  x x value\n       * @param  {[type]}  y y value\n       * @return {Boolean} return the result\n       */\n      ;\n\n      _proto.isInRange = function isInRange(x, y) {\n        if (isObject(x)) {\n          y = x.y;\n          x = x.x;\n        }\n\n        var tl = this.tl;\n        var br = this.br;\n        return tl.x <= x && x <= br.x && tl.y <= y && y <= br.y;\n      };\n\n      return Plot;\n    }();\n\n    var Matrix = {\n      generateDefault: function generateDefault() {\n        return [1, 0, 0, 1, 0, 0];\n      },\n      isChanged: function isChanged(m) {\n        return m[0] !== 1 || m[1] !== 0 || m[2] !== 0 || m[3] !== 1 || m[4] !== 0 || m[5] !== 0;\n      },\n      multiply: function multiply(m1, m2) {\n        var m11 = m1[0] * m2[0] + m1[2] * m2[1];\n        var m12 = m1[1] * m2[0] + m1[3] * m2[1];\n        var m21 = m1[0] * m2[2] + m1[2] * m2[3];\n        var m22 = m1[1] * m2[2] + m1[3] * m2[3];\n        var dx = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n        var dy = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n        return [m11, m12, m21, m22, dx, dy];\n      },\n      scale: function scale(out, m, v) {\n        out[0] = m[0] * v[0];\n        out[1] = m[1] * v[0];\n        out[2] = m[2] * v[1];\n        out[3] = m[3] * v[1];\n        out[4] = m[4];\n        out[5] = m[5];\n        return out;\n      },\n      rotate: function rotate(out, m, radian) {\n        var c = Math.cos(radian);\n        var s = Math.sin(radian);\n        var m11 = m[0] * c + m[2] * s;\n        var m12 = m[1] * c + m[3] * s;\n        var m21 = m[0] * -s + m[2] * c;\n        var m22 = m[1] * -s + m[3] * c;\n        out[0] = m11;\n        out[1] = m12;\n        out[2] = m21;\n        out[3] = m22;\n        out[4] = m[4];\n        out[5] = m[5];\n        return out;\n      },\n      translate: function translate(out, m, v) {\n        out[0] = m[0];\n        out[1] = m[1];\n        out[2] = m[2];\n        out[3] = m[3];\n        out[4] = m[4] + m[0] * v[0] + m[2] * v[1];\n        out[5] = m[5] + m[1] * v[0] + m[3] * v[1];\n        return out;\n      },\n      transform: function transform(m, actions) {\n        var out = [].concat(m);\n\n        for (var i = 0, len = actions.length; i < len; i++) {\n          var action = actions[i];\n\n          switch (action[0]) {\n            case 't':\n              Matrix.translate(out, out, [action[1], action[2]]);\n              break;\n\n            case 's':\n              Matrix.scale(out, out, [action[1], action[2]]);\n              break;\n\n            case 'r':\n              Matrix.rotate(out, out, action[1]);\n              break;\n          }\n        }\n\n        return out;\n      }\n    };\n\n    /**\n     * 2 Dimensional Vector\n     * @module vector2\n     */\n    var Vector2 = {\n      /**\n       * Creates a new, empty vector2\n       *\n       * @return {vector2} a new 2D vector\n       */\n      create: function create() {\n        return [0, 0];\n      },\n\n      /**\n       * Calculates the length of a vector2\n       *\n       * @param {vector2} v vector to calculate length of\n       * @return {Number} length of v\n       */\n      length: function length(v) {\n        var x = v[0];\n        var y = v[1];\n        return Math.sqrt(x * x + y * y);\n      },\n\n      /**\n       * Normalize a vector2\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v vector to normalize\n       * @return {vector2} out\n       */\n      normalize: function normalize(out, v) {\n        var len = this.length(v);\n\n        if (len === 0) {\n          out[0] = 0;\n          out[1] = 0;\n        } else {\n          out[0] = v[0] / len;\n          out[1] = v[1] / len;\n        }\n\n        return out;\n      },\n\n      /**\n       * Adds two vector2's\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      add: function add(out, v1, v2) {\n        out[0] = v1[0] + v2[0];\n        out[1] = v1[1] + v2[1];\n        return out;\n      },\n\n      /**\n       * Subtracts vector v2 from vector v1\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      sub: function sub(out, v1, v2) {\n        out[0] = v1[0] - v2[0];\n        out[1] = v1[1] - v2[1];\n        return out;\n      },\n\n      /**\n       * Scales a vector2 by a scalar number\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v the vector to scale\n       * @param {Number} s amount to scale the vector by\n       * @return {vector2} out\n       */\n      scale: function scale(out, v, s) {\n        out[0] = v[0] * s;\n        out[1] = v[1] * s;\n        return out;\n      },\n\n      /**\n       * Calculates the dot product of two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Number} dot product of v1 and v2\n       */\n      dot: function dot(v1, v2) {\n        return v1[0] * v2[0] + v1[1] * v2[1];\n      },\n\n      /**\n       * Calculates the direction of two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Boolean} the direction of v1 and v2\n       */\n      direction: function direction(v1, v2) {\n        return v1[0] * v2[1] - v2[0] * v1[1];\n      },\n\n      /**\n       * Calculates the angle of two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Number} angle of v1 and v2\n       */\n      angle: function angle(v1, v2) {\n        var theta = this.dot(v1, v2) / (this.length(v1) * this.length(v2));\n        return Math.acos(theta);\n      },\n\n      /**\n       * Calculates the angle of two vector2's with direction\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @param {Boolean} direction the direction of two vector2's\n       * @return {Number} angle of v1 and v2\n       */\n      angleTo: function angleTo(v1, v2, direction) {\n        var angle = this.angle(v1, v2);\n        var angleLargeThanPI = this.direction(v1, v2) >= 0;\n\n        if (direction) {\n          if (angleLargeThanPI) {\n            return Math.PI * 2 - angle;\n          }\n\n          return angle;\n        }\n\n        if (angleLargeThanPI) {\n          return angle;\n        }\n\n        return Math.PI * 2 - angle;\n      },\n\n      /**\n       * whether a vector2 is zero vector\n       *\n       * @param  {vector2} v vector to calculate\n       * @return {Boolean}   is or not a zero vector\n       */\n      zero: function zero(v) {\n        return v[0] === 0 && v[1] === 0;\n      },\n\n      /**\n       * Calculates the euclidian distance between two vector2's\n       *\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {Number} distance between a and b\n       */\n      distance: function distance(v1, v2) {\n        var x = v2[0] - v1[0];\n        var y = v2[1] - v1[1];\n        return Math.sqrt(x * x + y * y);\n      },\n\n      /**\n       * Creates a new vector2 initialized with values from an existing vector\n       *\n       * @param {vector2} v vector to clone\n       * @return {Array} a new 2D vector\n       */\n      clone: function clone(v) {\n        return [v[0], v[1]];\n      },\n\n      /**\n       * Return the minimum of two vector2's\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      min: function min(out, v1, v2) {\n        out[0] = Math.min(v1[0], v2[0]);\n        out[1] = Math.min(v1[1], v2[1]);\n        return out;\n      },\n\n      /**\n       * Return the maximum of two vector2's\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v1 the first operand\n       * @param {vector2} v2 the second operand\n       * @return {vector2} out\n       */\n      max: function max(out, v1, v2) {\n        out[0] = Math.max(v1[0], v2[0]);\n        out[1] = Math.max(v1[1], v2[1]);\n        return out;\n      },\n\n      /**\n       * Transforms the vector2 with a mat2d\n       *\n       * @param {vector2} out the receiving vector\n       * @param {vector2} v the vector to transform\n       * @param {mat2d} m matrix to transform with\n       * @return {vector2} out\n       */\n      transformMat2d: function transformMat2d(out, v, m) {\n        var x = v[0];\n        var y = v[1];\n        out[0] = m[0] * x + m[2] * y + m[4];\n        out[1] = m[1] * x + m[3] * y + m[5];\n        return out;\n      }\n    };\n\n    var defaultMatrix = [1, 0, 0, 1, 0, 0];\n\n    var Base$1 = /*#__PURE__*/function () {\n      var _proto = Base.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {};\n\n      function Base(cfg) {\n        this._initDefaultCfg();\n\n        mix(this, cfg);\n        var start;\n        var end;\n\n        if (this.plot) {\n          start = this.plot.bl;\n          end = this.plot.tr;\n          this.start = start;\n          this.end = end;\n        } else {\n          start = this.start;\n          end = this.end;\n        }\n\n        this.init(start, end);\n      }\n\n      _proto._scale = function _scale(s1, s2) {\n        var matrix = this.matrix;\n        var center = this.center;\n        Matrix.translate(matrix, matrix, [center.x, center.y]);\n        Matrix.scale(matrix, matrix, [s1, s2]);\n        Matrix.translate(matrix, matrix, [-center.x, -center.y]);\n      };\n\n      _proto.init = function init(start, end) {\n        this.matrix = [].concat(defaultMatrix); // 设置中心点\n\n        this.center = {\n          x: (end.x - start.x) / 2 + start.x,\n          y: (end.y - start.y) / 2 + start.y\n        };\n\n        if (this.scale) {\n          this._scale(this.scale[0], this.scale[1]);\n        }\n      };\n\n      _proto.convertPoint = function convertPoint(point) {\n        var _this$_convertPoint = this._convertPoint(point),\n            x = _this$_convertPoint.x,\n            y = _this$_convertPoint.y;\n\n        if (!Matrix.isChanged(this.matrix)) {\n          return {\n            x: x,\n            y: y\n          };\n        }\n\n        var vector = [x, y];\n        Vector2.transformMat2d(vector, vector, this.matrix);\n        return {\n          x: vector[0],\n          y: vector[1]\n        };\n      };\n\n      _proto.invertPoint = function invertPoint(point) {\n        return this._invertPoint(point);\n      };\n\n      _proto._convertPoint = function _convertPoint(point) {\n        return point;\n      };\n\n      _proto._invertPoint = function _invertPoint(point) {\n        return point;\n      };\n\n      _proto.reset = function reset(plot) {\n        this.plot = plot;\n        var bl = plot.bl,\n            tr = plot.tr;\n        this.start = bl;\n        this.end = tr;\n        this.init(bl, tr);\n      };\n\n      return Base;\n    }();\n\n    var Cartesian = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Cartesian, _Base);\n\n      function Cartesian() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Cartesian.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'cartesian';\n        this.transposed = false;\n        this.isRect = true;\n      };\n\n      _proto.init = function init(start, end) {\n        _Base.prototype.init.call(this, start, end);\n\n        this.x = {\n          start: start.x,\n          end: end.x\n        };\n        this.y = {\n          start: start.y,\n          end: end.y\n        };\n      };\n\n      _proto._convertPoint = function _convertPoint(point) {\n        var self = this;\n        var transposed = self.transposed;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var x = self.x;\n        var y = self.y;\n        return {\n          x: x.start + (x.end - x.start) * point[xDim],\n          y: y.start + (y.end - y.start) * point[yDim]\n        };\n      };\n\n      _proto._invertPoint = function _invertPoint(point) {\n        var self = this;\n        var transposed = self.transposed;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var x = self.x;\n        var y = self.y;\n        var rst = {};\n        rst[xDim] = (point.x - x.start) / (x.end - x.start);\n        rst[yDim] = (point.y - y.start) / (y.end - y.start);\n        return rst;\n      };\n\n      return Cartesian;\n    }(Base$1);\n\n    Base$1.Cartesian = Cartesian;\n    Base$1.Rect = Cartesian;\n\n    /**\n     * @fileOverview the Attribute base class\n     */\n\n    function toScaleString(scale, value) {\n      if (isString(value)) {\n        return value;\n      }\n\n      return scale.invert(scale.scale(value));\n    }\n    /**\n     * 所有视觉通道属性的基类\n     * @class Attr\n     */\n\n\n    var AttributeBase = /*#__PURE__*/function () {\n      function AttributeBase(cfg) {\n        var _this = this;\n\n        /**\n         * 属性的类型\n         * @type {String}\n         */\n        this.type = 'base';\n        /**\n         * 属性的名称\n         * @type {String}\n         */\n\n        this.name = null;\n        /**\n         * 回调函数\n         * @type {Function}\n         */\n\n        this.method = null;\n        /**\n         * 备选的值数组\n         * @type {Array}\n         */\n\n        this.values = [];\n        /**\n         * 属性内部的度量\n         * @type {Array}\n         */\n\n        this.scales = [];\n        /**\n         * 是否通过线性取值, 如果未指定，则根据数值的类型判定\n         * @type {Boolean}\n         */\n\n        this.linear = null;\n        /**\n         * 当用户设置的 callback 返回 null 时, 应该返回默认 callback 中的值\n         */\n\n        var mixedCallback = null;\n        var defaultCallback = this.callback;\n\n        if (cfg.callback) {\n          var userCallback = cfg.callback;\n\n          mixedCallback = function mixedCallback() {\n            for (var _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) {\n              params[_key] = arguments[_key];\n            }\n\n            var ret = userCallback.apply(void 0, params);\n\n            if (isNil(ret)) {\n              ret = defaultCallback.apply(_this, params);\n            }\n\n            return ret;\n          };\n        }\n\n        mix(this, cfg);\n\n        if (mixedCallback) {\n          mix(this, {\n            callback: mixedCallback\n          });\n        }\n      } // 获取属性值，将值映射到视觉通道\n\n\n      var _proto = AttributeBase.prototype;\n\n      _proto._getAttrValue = function _getAttrValue(scale, value) {\n        var values = this.values;\n\n        if (scale.isCategory && !this.linear) {\n          var index = scale.translate(value);\n          return values[index % values.length];\n        }\n\n        var percent = scale.scale(value);\n        return this.getLinearValue(percent);\n      }\n      /**\n       * 如果进行线性映射，返回对应的映射值\n       * @protected\n       * @param  {Number} percent 百分比\n       * @return {*}  颜色值、形状、大小等\n       */\n      ;\n\n      _proto.getLinearValue = function getLinearValue(percent) {\n        var values = this.values;\n        var steps = values.length - 1;\n        var step = Math.floor(steps * percent);\n        var leftPercent = steps * percent - step;\n        var start = values[step];\n        var end = step === steps ? start : values[step + 1];\n        var rstValue = start + (end - start) * leftPercent;\n        return rstValue;\n      }\n      /**\n       * 默认的回调函数\n       * @param {*} value 回调函数的值\n       * @type {Function}\n       * @return {Array} 返回映射后的值\n       */\n      ;\n\n      _proto.callback = function callback(value) {\n        var self = this;\n        var scale = self.scales[0];\n        var rstValue = null;\n\n        if (scale.type === 'identity') {\n          rstValue = scale.value;\n        } else {\n          rstValue = self._getAttrValue(scale, value);\n        }\n\n        return rstValue;\n      }\n      /**\n       * 根据度量获取属性名\n       * @return {Array} dims of this Attribute\n       */\n      ;\n\n      _proto.getNames = function getNames() {\n        var scales = this.scales;\n        var names = this.names;\n        var length = Math.min(scales.length, names.length);\n        var rst = [];\n\n        for (var i = 0; i < length; i++) {\n          rst.push(names[i]);\n        }\n\n        return rst;\n      }\n      /**\n       * 根据度量获取维度名\n       * @return {Array} dims of this Attribute\n       */\n      ;\n\n      _proto.getFields = function getFields() {\n        var scales = this.scales;\n        var rst = [];\n        each(scales, function (scale) {\n          rst.push(scale.field);\n        });\n        return rst;\n      }\n      /**\n       * 根据名称获取度量\n       * @param  {String} name the name of scale\n       * @return {Scale} scale\n       */\n      ;\n\n      _proto.getScale = function getScale(name) {\n        var scales = this.scales;\n        var names = this.names;\n        var index = names.indexOf(name);\n        return scales[index];\n      }\n      /**\n       * 映射数据\n       * @param {*} param1...paramn 多个数值\n       * @return {Array} 映射的值组成的数组\n       */\n      ;\n\n      _proto.mapping = function mapping() {\n        var scales = this.scales;\n        var callback = this.callback;\n\n        for (var _len2 = arguments.length, params = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          params[_key2] = arguments[_key2];\n        }\n\n        var values = params;\n\n        if (callback) {\n          for (var i = 0, len = params.length; i < len; i++) {\n            params[i] = this._toOriginParam(params[i], scales[i]);\n          }\n\n          values = callback.apply(this, params);\n        }\n\n        values = [].concat(values);\n        return values;\n      } // 原始的参数\n      ;\n\n      _proto._toOriginParam = function _toOriginParam(param, scale) {\n        var rst = param;\n\n        if (!scale.isLinear) {\n          if (isArray(param)) {\n            rst = [];\n\n            for (var i = 0, len = param.length; i < len; i++) {\n              rst.push(toScaleString(scale, param[i]));\n            }\n          } else {\n            rst = toScaleString(scale, param);\n          }\n        }\n\n        return rst;\n      };\n\n      return AttributeBase;\n    }();\n\n    var Position = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Position, _Base);\n\n      function Position(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['x', 'y'];\n        _this.type = 'position';\n        return _this;\n      }\n\n      var _proto = Position.prototype;\n\n      _proto.mapping = function mapping(x, y) {\n        var scales = this.scales;\n        var coord = this.coord;\n        var scaleX = scales[0];\n        var scaleY = scales[1];\n        var rstX;\n        var rstY;\n        var obj;\n\n        if (isNil(x) || isNil(y)) {\n          return [];\n        }\n\n        if (isArray(y) && isArray(x)) {\n          rstX = [];\n          rstY = [];\n\n          for (var i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i++, j++) {\n            obj = coord.convertPoint({\n              x: scaleX.scale(x[i]),\n              y: scaleY.scale(y[j])\n            });\n            rstX.push(obj.x);\n            rstY.push(obj.y);\n          }\n        } else if (isArray(y)) {\n          x = scaleX.scale(x);\n          rstY = [];\n          each(y, function (yVal) {\n            yVal = scaleY.scale(yVal);\n            obj = coord.convertPoint({\n              x: x,\n              y: yVal\n            });\n\n            if (rstX && rstX !== obj.x) {\n              if (!isArray(rstX)) {\n                rstX = [rstX];\n              }\n\n              rstX.push(obj.x);\n            } else {\n              rstX = obj.x;\n            }\n\n            rstY.push(obj.y);\n          });\n        } else if (isArray(x)) {\n          y = scaleY.scale(y);\n          rstX = [];\n          each(x, function (xVal) {\n            xVal = scaleX.scale(xVal);\n            obj = coord.convertPoint({\n              x: xVal,\n              y: y\n            });\n\n            if (rstY && rstY !== obj.y) {\n              if (!isArray(rstY)) {\n                rstY = [rstY];\n              }\n\n              rstY.push(obj.y);\n            } else {\n              rstY = obj.y;\n            }\n\n            rstX.push(obj.x);\n          });\n        } else {\n          x = scaleX.scale(x);\n          y = scaleY.scale(y);\n          var point = coord.convertPoint({\n            x: x,\n            y: y\n          });\n          rstX = point.x;\n          rstY = point.y;\n        }\n\n        return [rstX, rstY];\n      };\n\n      return Position;\n    }(AttributeBase);\n\n    var Shape = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Shape, _Base);\n\n      function Shape(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['shape'];\n        _this.type = 'shape';\n        _this.gradient = null;\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      var _proto = Shape.prototype;\n\n      _proto.getLinearValue = function getLinearValue(percent) {\n        var values = this.values;\n        var index = Math.round((values.length - 1) * percent);\n        return values[index];\n      };\n\n      return Shape;\n    }(AttributeBase);\n\n    var Size = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Size, _Base);\n\n      function Size(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['size'];\n        _this.type = 'size';\n        _this.gradient = null;\n        return _this;\n      }\n\n      return Size;\n    }(AttributeBase);\n\n    function getValue(start, end, percent, index) {\n      var value = start[index] + (end[index] - start[index]) * percent;\n      return value;\n    } // convert to hex\n\n\n    function arr2hex(arr) {\n      return '#' + toRGBValue(arr[0]) + toRGBValue(arr[1]) + toRGBValue(arr[2]);\n    }\n\n    function toRGBValue(value) {\n      value = Math.round(value);\n      value = value.toString(16);\n\n      if (value.length === 1) {\n        value = '0' + value;\n      }\n\n      return value;\n    }\n\n    function calColor(colors, percent) {\n      var steps = colors.length - 1;\n      var step = Math.floor(steps * percent);\n      var left = steps * percent - step;\n      var start = colors[step];\n      var end = step === steps ? start : colors[step + 1];\n      var rgb = arr2hex([getValue(start, end, left, 0), getValue(start, end, left, 1), getValue(start, end, left, 2)]);\n      return rgb;\n    }\n\n    function hex2arr(str) {\n      var arr = [];\n      arr.push(parseInt(str.substr(1, 2), 16));\n      arr.push(parseInt(str.substr(3, 2), 16));\n      arr.push(parseInt(str.substr(5, 2), 16));\n      return arr;\n    }\n\n    var colorCache = {\n      black: '#000000',\n      blue: '#0000ff',\n      grey: '#808080',\n      green: '#008000',\n      orange: '#ffa500',\n      pink: '#ffc0cb',\n      purple: '#800080',\n      red: '#ff0000',\n      white: '#ffffff',\n      yellow: '#ffff00'\n    };\n    /**\n     * Returns a hexadecimal string representing this color in RGB space, such as #f7eaba.\n     * @param  {String} color color value\n     * @return {String} Returns a hexadecimal string\n     */\n\n    function toHex(color) {\n      if (colorCache[color]) {\n        return colorCache[color];\n      }\n\n      if (color[0] === '#') {\n        if (color.length === 7) {\n          return color;\n        }\n\n        var hex = color.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, function (m, r, g, b) {\n          return '#' + r + r + g + g + b + b;\n        }); // hex3 to hex6\n\n        colorCache[color] = hex;\n        return hex;\n      } // rgb/rgba to hex\n\n\n      var rst = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n      rst.shift();\n      rst = arr2hex(rst);\n      colorCache[color] = rst;\n      return rst;\n    }\n    /**\n     * handle the gradient color\n     * @param  {Array} colors the colors\n     * @return {String} return the color value\n     */\n\n\n    function gradient(colors) {\n      var points = [];\n\n      if (isString(colors)) {\n        colors = colors.split('-');\n      }\n\n      each(colors, function (color) {\n        if (color.indexOf('#') === -1) {\n          color = toHex(color);\n        }\n\n        points.push(hex2arr(color));\n      });\n      return function (percent) {\n        return calColor(points, percent);\n      };\n    }\n\n    var Color = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Color, _Base);\n\n      function Color(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n        _this.names = ['color'];\n        _this.type = 'color';\n        _this.gradient = null;\n\n        if (isString(_this.values)) {\n          _this.linear = true;\n        }\n\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      var _proto = Color.prototype;\n\n      _proto.getLinearValue = function getLinearValue(percent) {\n        var gradient$1 = this.gradient;\n\n        if (!gradient$1) {\n          var values = this.values;\n          gradient$1 = gradient(values);\n          this.gradient = gradient$1;\n        }\n\n        return gradient$1(percent);\n      };\n\n      return Color;\n    }(AttributeBase);\n\n    var Attr = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        Position: Position,\n        Shape: Shape,\n        Size: Size,\n        Color: Color\n    });\n\n    var Shape$1 = {};\n    var ShapeBase = {\n      _coord: null,\n\n      /**\n       * draw the shape\n       * @param {Object} cfg options\n       * @param {Object} container container to store the shapes\n       */\n      draw: function draw(cfg, container) {\n        if (this.drawShape) {\n          this.drawShape(cfg, container);\n        }\n      },\n\n      /**\n       * set the coordinate instance\n       * @param {Coord} coord coordinate instance\n       */\n      setCoord: function setCoord(coord) {\n        this._coord = coord;\n      },\n\n      /**\n       * convert the normalized value to the canvas position\n       * @param  {point} point the point to convert\n       * @return {point} point return the result\n       */\n      parsePoint: function parsePoint(point) {\n        var coord = this._coord;\n\n        if (coord.isPolar) {\n          if (point.x === 1) point.x = 0.9999999;\n          if (point.y === 1) point.y = 0.9999999;\n        }\n\n        return coord.convertPoint(point);\n      },\n\n      /**\n       * convert the normalized value to the canvas position\n       * @param  {points} points the array that store the points\n       * @return {points} points return the result\n       */\n      parsePoints: function parsePoints(points) {\n        if (!points) return false;\n        var self = this;\n        var rst = [];\n        points.forEach(function (point) {\n          rst.push(self.parsePoint(point));\n        });\n        return rst;\n      }\n    };\n    var ShapeFactoryBase = {\n      defaultShapeType: null,\n      setCoord: function setCoord(coord) {\n        this._coord = coord;\n      },\n      getShape: function getShape(type) {\n        var self = this;\n\n        if (isArray(type)) {\n          type = type[0];\n        }\n\n        var shape = self[type] || self[self.defaultShapeType];\n        shape._coord = self._coord;\n        return shape;\n      },\n      getShapePoints: function getShapePoints(type, cfg) {\n        var shape = this.getShape(type);\n        var fn = shape.getPoints || shape.getShapePoints || this.getDefaultPoints;\n        var points = fn(cfg);\n        return points;\n      },\n      getDefaultPoints: function getDefaultPoints()\n      /* cfg */\n      {\n        return [];\n      },\n      drawShape: function drawShape(type, cfg, container) {\n        var shape = this.getShape(type);\n\n        if (!cfg.color) {\n          cfg.color = Global.colors[0];\n        }\n\n        return shape.draw(cfg, container);\n      }\n    };\n\n    Shape$1.registerFactory = function (factoryName, cfg) {\n      var className = upperFirst(factoryName);\n      var geomObj = mix({}, ShapeFactoryBase, cfg);\n      Shape$1[className] = geomObj;\n      geomObj.name = factoryName;\n      return geomObj;\n    };\n\n    Shape$1.registerShape = function (factoryName, shapeType, cfg) {\n      var className = upperFirst(factoryName);\n      var factory = Shape$1[className];\n      var shapeObj = mix({}, ShapeBase, cfg);\n      factory[shapeType] = shapeObj;\n      return shapeObj;\n    };\n\n    Shape$1.registShape = Shape$1.registerShape;\n\n    Shape$1.getShapeFactory = function (factoryName) {\n      var self = this;\n      factoryName = factoryName || 'point';\n      var className = upperFirst(factoryName);\n      return self[className];\n    };\n\n    function _mix$1(dist, obj) {\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n          dist[key] = obj[key];\n        }\n      }\n    }\n\n    var mix$1 = function mix(dist, src1, src2, src3) {\n      if (src1) _mix$1(dist, src1);\n      if (src2) _mix$1(dist, src2);\n      if (src3) _mix$1(dist, src3);\n      return dist;\n    };\n\n    var mix_1 = mix$1;\n\n    var Adjust = /*#__PURE__*/function () {\n      var _proto = Adjust.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.adjustNames = ['x', 'y']; // 调整的维度，默认,x,y都做调整\n      };\n\n      function Adjust(cfg) {\n        this._initDefaultCfg();\n\n        mix_1(this, cfg);\n      }\n      /**\n       * @override\n       */\n\n\n      _proto.processAdjust = function processAdjust()\n      /* dataArray */\n      {};\n\n      return Adjust;\n    }();\n\n    var base = Adjust;\n\n    var GROUP_ATTRS = ['color', 'size', 'shape'];\n    var FIELD_ORIGIN = '_origin';\n    var FIELD_ORIGIN_Y = '_originY';\n\n    function parseFields(field) {\n      if (isArray(field)) {\n        return field;\n      }\n\n      if (isString(field)) {\n        return field.split('*');\n      }\n\n      return [field];\n    }\n    /**\n     * The parent class for Geometry\n     * @class Geom\n     */\n\n\n    var Geom = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Geom, _Base);\n\n      function Geom() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Geom.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          /**\n           * geometry type\n           * @type {String}\n           */\n          type: null,\n\n          /**\n           * the data of geometry\n           * @type {Array}\n           */\n          data: null,\n\n          /**\n           * the attrs of geo,etry\n           * @type {Object}\n           */\n          attrs: {},\n          scales: {},\n\n          /**\n           * group for storing the shapes\n           * @type {Canvas}\n           */\n          container: null,\n\n          /**\n           * style options\n           * @type {Object}\n           */\n          styleOptions: null,\n          chart: null,\n          shapeType: '',\n\n          /**\n           * wether to generate key points for each shape\n           * @protected\n           * @type {Boolean}\n           */\n          generatePoints: false,\n          attrOptions: {},\n          sortable: false,\n          startOnZero: true,\n          visible: true,\n          connectNulls: false,\n          // 是否丢弃没有值的分组。\n          ignoreEmptyGroup: false,\n          // 是否已经初始化\n          isInit: false\n        };\n      };\n\n      _proto.init = function init() {\n        var self = this;\n        var isInit = self.get('isInit');\n\n        if (isInit) {\n          return;\n        }\n\n        self._initAttrs();\n\n        self._processData();\n\n        self.set('isInit', true);\n      };\n\n      _proto._getGroupScales = function _getGroupScales() {\n        var self = this;\n        var scales = [];\n        each(GROUP_ATTRS, function (attrName) {\n          var attr = self.getAttr(attrName);\n\n          if (attr) {\n            var attrScales = attr.scales;\n            each(attrScales, function (scale) {\n              if (scale && scale.isCategory && scales.indexOf(scale) === -1) {\n                scales.push(scale);\n              }\n            });\n          }\n        });\n        return scales;\n      };\n\n      _proto._groupData = function _groupData(data) {\n        var self = this;\n        var colDefs = self.get('colDefs');\n\n        var groupScales = self._getGroupScales();\n\n        if (groupScales.length) {\n          var appendConditions = {};\n          var names = [];\n          each(groupScales, function (scale) {\n            var field = scale.field;\n            names.push(field);\n\n            if (colDefs && colDefs[field] && colDefs[field].values) {\n              // users have defined\n              appendConditions[scale.field] = colDefs[field].values;\n            }\n          });\n          return group(data, names, appendConditions);\n        }\n\n        return [data];\n      };\n\n      _proto._setAttrOptions = function _setAttrOptions(attrName, attrCfg) {\n        var options = this.get('attrOptions');\n        options[attrName] = attrCfg;\n        var attrs = this.get('attrs'); // 说明已经初始化过了\n\n        if (Object.keys(attrs).length) {\n          this._createAttr(attrName, attrCfg);\n        }\n      };\n\n      _proto._createAttrOption = function _createAttrOption(attrName, field, cfg, defaultValues) {\n        var attrCfg = {};\n        attrCfg.field = field;\n\n        if (cfg) {\n          if (isFunction(cfg)) {\n            attrCfg.callback = cfg;\n          } else {\n            attrCfg.values = cfg;\n          }\n        } else {\n          attrCfg.values = defaultValues;\n        }\n\n        this._setAttrOptions(attrName, attrCfg);\n      };\n\n      _proto._createAttr = function _createAttr(type, option) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var coord = self.get('coord');\n        var className = upperFirst(type);\n        var fields = parseFields(option.field);\n\n        if (type === 'position') {\n          option.coord = coord;\n        }\n\n        var scales = [];\n\n        for (var i = 0, len = fields.length; i < len; i++) {\n          var field = fields[i];\n\n          var scale = self._createScale(field);\n\n          scales.push(scale);\n        }\n\n        if (type === 'position') {\n          var yScale = scales[1]; // 饼图的处理，但是还不知道为啥\n\n          if (coord.type === 'polar' && coord.transposed && self.hasAdjust('stack')) {\n            if (yScale.values.length) {\n              yScale.change({\n                nice: false,\n                min: 0,\n                max: Math.max.apply(null, yScale.values)\n              });\n            }\n          }\n        }\n\n        option.scales = scales;\n        var attr = new Attr[className](option);\n        attrs[type] = attr;\n        return attr;\n      };\n\n      _proto._initAttrs = function _initAttrs() {\n        var self = this;\n        var attrOptions = self.get('attrOptions');\n\n        for (var type in attrOptions) {\n          if (attrOptions.hasOwnProperty(type)) {\n            this._createAttr(type, attrOptions[type]);\n          }\n        }\n      };\n\n      _proto._createScale = function _createScale(field) {\n        var scales = this.get('scales');\n        var scale = scales[field];\n\n        if (!scale) {\n          scale = this.get('chart').createScale(field);\n          scales[field] = scale;\n        }\n\n        return scale;\n      };\n\n      _proto._processData = function _processData() {\n        var self = this;\n        var data = this.get('data');\n        var dataArray = [];\n\n        var groupedArray = this._groupData(data);\n\n        if (this.get('ignoreEmptyGroup')) {\n          var yScale = this.getYScale();\n          groupedArray = groupedArray.filter(function (group) {\n            return group.some(function (item) {\n              return typeof item[yScale.field] !== 'undefined';\n            });\n          });\n        }\n\n        for (var i = 0, len = groupedArray.length; i < len; i++) {\n          var subData = groupedArray[i];\n\n          var tempData = self._saveOrigin(subData);\n\n          if (this.hasAdjust('dodge')) {\n            self._numberic(tempData);\n          }\n\n          dataArray.push(tempData);\n        }\n\n        if (self.get('adjust')) {\n          self._adjustData(dataArray);\n        }\n\n        if (self.get('sortable')) {\n          self._sort(dataArray);\n        }\n\n        self.emit('afterprocessdata', {\n          dataArray: dataArray\n        });\n        self.set('mappingData', dataArray);\n        self.set('dataArray', dataArray);\n        return dataArray;\n      };\n\n      _proto._saveOrigin = function _saveOrigin(data) {\n        var rst = [];\n\n        for (var i = 0, len = data.length; i < len; i++) {\n          var origin = data[i];\n          var obj = {};\n\n          for (var k in origin) {\n            obj[k] = origin[k];\n          }\n\n          obj[FIELD_ORIGIN] = origin;\n          rst.push(obj);\n        }\n\n        return rst;\n      };\n\n      _proto._numberic = function _numberic(data) {\n        var positionAttr = this.getAttr('position');\n        var scales = positionAttr.scales;\n\n        for (var j = 0, len = data.length; j < len; j++) {\n          var obj = data[j];\n          var count = Math.min(2, scales.length);\n\n          for (var i = 0; i < count; i++) {\n            var scale = scales[i];\n\n            if (scale.isCategory) {\n              var field = scale.field;\n              obj[field] = scale.translate(obj[field]);\n            }\n          }\n        }\n      };\n\n      _proto._adjustData = function _adjustData(dataArray) {\n        var self = this;\n        var adjust = self.get('adjust');\n\n        if (adjust) {\n          var adjustType = upperFirst(adjust.type);\n\n          if (!base[adjustType]) {\n            throw new Error('not support such adjust : ' + adjust);\n          }\n\n          var xScale = self.getXScale();\n          var yScale = self.getYScale();\n          var cfg = mix({\n            xField: xScale.field,\n            yField: yScale.field\n          }, adjust);\n          var adjustObject = new base[adjustType](cfg);\n          adjustObject.processAdjust(dataArray);\n\n          if (adjustType === 'Stack') {\n            self._updateStackRange(yScale.field, yScale, dataArray);\n          }\n        }\n      };\n\n      _proto._updateStackRange = function _updateStackRange(field, scale, dataArray) {\n        var mergeArray = merge(dataArray);\n        var min = scale.min;\n        var max = scale.max;\n\n        for (var i = 0, len = mergeArray.length; i < len; i++) {\n          var obj = mergeArray[i];\n          var tmpMin = Math.min.apply(null, obj[field]);\n          var tmpMax = Math.max.apply(null, obj[field]);\n\n          if (tmpMin < min) {\n            min = tmpMin;\n          }\n\n          if (tmpMax > max) {\n            max = tmpMax;\n          }\n        }\n\n        if (min < scale.min || max > scale.max) {\n          scale.change({\n            min: min,\n            max: max\n          });\n        }\n      };\n\n      _proto._sort = function _sort(mappedArray) {\n        var self = this;\n        var xScale = self.getXScale();\n        var field = xScale.field,\n            type = xScale.type;\n\n        if (type !== 'identity' && xScale.values.length > 1) {\n          each(mappedArray, function (itemArr) {\n            itemArr.sort(function (obj1, obj2) {\n              if (type === 'timeCat') {\n                return toTimeStamp(obj1[FIELD_ORIGIN][field]) - toTimeStamp(obj2[FIELD_ORIGIN][field]);\n              }\n\n              return xScale.translate(obj1[FIELD_ORIGIN][field]) - xScale.translate(obj2[FIELD_ORIGIN][field]);\n            });\n          });\n        }\n\n        self.set('hasSorted', true);\n        self.set('dataArray', mappedArray);\n      };\n\n      _proto.paint = function paint() {\n        var self = this;\n        var dataArray = self.get('mappingData');\n        var mappedArray = [];\n        var shapeFactory = self.getShapeFactory();\n        shapeFactory.setCoord(self.get('coord'));\n\n        self._beforeMapping(dataArray);\n\n        for (var i = 0, len = dataArray.length; i < len; i++) {\n          var data = dataArray[i];\n\n          if (data.length) {\n            var mappedData = self._mapping(data);\n\n            mappedArray.push(mappedData);\n            self.draw(mappedData, shapeFactory);\n          }\n        }\n\n        self.set('dataArray', mappedArray);\n      };\n\n      _proto.getShapeFactory = function getShapeFactory() {\n        var shapeFactory = this.get('shapeFactory');\n\n        if (!shapeFactory) {\n          var shapeType = this.get('shapeType');\n          shapeFactory = Shape$1.getShapeFactory(shapeType);\n          this.set('shapeFactory', shapeFactory);\n        }\n\n        return shapeFactory;\n      };\n\n      _proto._mapping = function _mapping(data) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var yField = self.getYScale().field; // 用来缓存转换的值，减少mapping耗时\n\n        var mappedCache = {};\n        var mappedData = new Array(data.length);\n\n        for (var k in attrs) {\n          if (attrs.hasOwnProperty(k)) {\n            var attr = attrs[k];\n            var names = attr.names;\n            var scales = attr.scales;\n\n            for (var i = 0, len = data.length; i < len; i++) {\n              var record = data[i];\n\n              var mappedRecord = _extends({}, record, mappedData[i]);\n\n              mappedRecord[FIELD_ORIGIN_Y] = record[yField]; // 获取视觉属性对应的value值\n              // 位置的缓存命中率低，还是每次单独计算\n\n              if (attr.type === 'position') {\n                var values = self._getAttrValues(attr, record);\n\n                for (var j = 0, _len = values.length; j < _len; j++) {\n                  var val = values[j];\n                  var name = names[j];\n                  mappedRecord[name] = isArray(val) && val.length === 1 ? val[0] : val;\n                }\n              } else {\n                // 除了position其他都只有一项\n                var _name = names[0];\n                var field = scales[0].field;\n                var value = record[field];\n                var key = \"\" + _name + value;\n                var _values = mappedCache[key];\n\n                if (!_values) {\n                  _values = self._getAttrValues(attr, record);\n                  mappedCache[key] = _values;\n                }\n\n                mappedRecord[_name] = _values[0];\n              } // 设置新数组\n\n\n              mappedData[i] = mappedRecord;\n            }\n          }\n        }\n\n        return mappedData;\n      };\n\n      _proto._getAttrValues = function _getAttrValues(attr, record) {\n        var scales = attr.scales;\n        var params = [];\n\n        for (var i = 0, len = scales.length; i < len; i++) {\n          var scale = scales[i];\n          var field = scale.field;\n\n          if (scale.type === 'identity') {\n            params.push(scale.value);\n          } else {\n            params.push(record[field]);\n          }\n        }\n\n        var values = attr.mapping.apply(attr, params);\n        return values;\n      };\n\n      _proto.getAttrValue = function getAttrValue(attrName, record) {\n        var attr = this.getAttr(attrName);\n        var rst = null;\n\n        if (attr) {\n          var values = this._getAttrValues(attr, record);\n\n          rst = values[0];\n        }\n\n        return rst;\n      };\n\n      _proto._beforeMapping = function _beforeMapping(dataArray) {\n        var self = this;\n\n        if (self.get('generatePoints')) {\n          self._generatePoints(dataArray);\n        }\n      };\n\n      _proto.isInCircle = function isInCircle() {\n        var coord = this.get('coord');\n        return coord && coord.isPolar;\n      };\n\n      _proto.getCallbackCfg = function getCallbackCfg(fields, cfg, origin) {\n        if (!fields) {\n          return cfg;\n        }\n\n        var tmpCfg = {};\n        var params = fields.map(function (field) {\n          return origin[field];\n        });\n        each(cfg, function (v, k) {\n          if (isFunction(v)) {\n            tmpCfg[k] = v.apply(null, params);\n          } else {\n            tmpCfg[k] = v;\n          }\n        });\n        return tmpCfg;\n      };\n\n      _proto.getDrawCfg = function getDrawCfg(obj) {\n        var self = this;\n        var isInCircle = self.isInCircle();\n        var cfg = {\n          origin: obj,\n          x: obj.x,\n          y: obj.y,\n          color: obj.color,\n          size: obj.size,\n          shape: obj.shape,\n          isInCircle: isInCircle,\n          opacity: obj.opacity\n        };\n        var styleOptions = self.get('styleOptions');\n\n        if (styleOptions && styleOptions.style) {\n          cfg.style = self.getCallbackCfg(styleOptions.fields, styleOptions.style, obj[FIELD_ORIGIN]);\n        }\n\n        if (self.get('generatePoints')) {\n          cfg.points = obj.points;\n          cfg.nextPoints = obj.nextPoints;\n        }\n\n        if (isInCircle) {\n          cfg.center = self.get('coord').center;\n        }\n\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        var yScale = self.getYScale();\n        each(data, function (obj, index) {\n          if (yScale && isNil(obj._origin[yScale.field])) {\n            return;\n          }\n\n          obj.index = index;\n          var cfg = self.getDrawCfg(obj);\n          var shape = obj.shape;\n          self.drawShape(shape, obj, cfg, container, shapeFactory);\n        });\n      };\n\n      _proto.drawShape = function drawShape(shape, shapeData, cfg, container, shapeFactory) {\n        var gShape = shapeFactory.drawShape(shape, cfg, container);\n\n        if (gShape) {\n          each([].concat(gShape), function (s) {\n            s.set('origin', shapeData);\n          });\n        }\n      };\n\n      _proto._generatePoints = function _generatePoints(dataArray) {\n        var self = this;\n        var shapeFactory = self.getShapeFactory();\n        var shapeAttr = self.getAttr('shape');\n        each(dataArray, function (data) {\n          for (var i = 0, len = data.length; i < len; i++) {\n            var obj = data[i];\n            var cfg = self.createShapePointsCfg(obj);\n            var shape = shapeAttr ? self._getAttrValues(shapeAttr, obj) : null;\n            var points = shapeFactory.getShapePoints(shape, cfg);\n            obj.points = points;\n          }\n        }); // 添加nextPoints\n\n        each(dataArray, function (data, index) {\n          var nextData = dataArray[index + 1];\n\n          if (nextData) {\n            data[0].nextPoints = nextData[0].points;\n          }\n        });\n      }\n      /**\n       * get the info of each shape\n       * @protected\n       * @param  {Object} obj the data item\n       * @return {Object} cfg return the result\n       */\n      ;\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var xScale = this.getXScale();\n        var yScale = this.getYScale();\n\n        var x = this._normalizeValues(obj[xScale.field], xScale);\n\n        var y;\n\n        if (yScale) {\n          y = this._normalizeValues(obj[yScale.field], yScale);\n        } else {\n          y = obj.y ? obj.y : 0.1;\n        }\n\n        return {\n          x: x,\n          y: y,\n          y0: yScale ? yScale.scale(this.getYMinValue()) : undefined\n        };\n      };\n\n      _proto.getYMinValue = function getYMinValue() {\n        var yScale = this.getYScale();\n        var min = yScale.min,\n            max = yScale.max;\n        var value;\n\n        if (this.get('startOnZero')) {\n          if (max <= 0 && min <= 0) {\n            value = max;\n          } else {\n            value = min >= 0 ? min : 0;\n          }\n        } else {\n          value = min;\n        }\n\n        return value;\n      };\n\n      _proto._normalizeValues = function _normalizeValues(values, scale) {\n        var rst = [];\n\n        if (isArray(values)) {\n          for (var i = 0, len = values.length; i < len; i++) {\n            var v = values[i];\n            rst.push(scale.scale(v));\n          }\n        } else {\n          rst = scale.scale(values);\n        }\n\n        return rst;\n      };\n\n      _proto.getAttr = function getAttr(name) {\n        return this.get('attrs')[name];\n      };\n\n      _proto.getXScale = function getXScale() {\n        return this.getAttr('position').scales[0];\n      };\n\n      _proto.getYScale = function getYScale() {\n        return this.getAttr('position').scales[1];\n      };\n\n      _proto.hasAdjust = function hasAdjust(adjust) {\n        return this.get('adjust') && this.get('adjust').type === adjust;\n      };\n\n      _proto._getSnap = function _getSnap(scale, item, arr) {\n        var i = 0;\n        var values;\n        var yField = this.getYScale().field; // 叠加的维度\n\n        if (this.hasAdjust('stack') && scale.field === yField) {\n          values = [];\n          arr.forEach(function (obj) {\n            values.push(obj[FIELD_ORIGIN_Y]);\n          });\n\n          for (var len = values.length; i < len; i++) {\n            if (values[0][0] > item) {\n              break;\n            }\n\n            if (values[values.length - 1][1] <= item) {\n              i = values.length - 1;\n              break;\n            }\n\n            if (values[i][0] <= item && values[i][1] > item) {\n              break;\n            }\n          }\n        } else {\n          values = scale.values;\n          values.sort(function (a, b) {\n            return a - b;\n          });\n\n          for (var _len2 = values.length; i < _len2; i++) {\n            // 如果只有1个点直接返回第1个点\n            if (_len2 <= 1) {\n              break;\n            } // 第1个点和第2个点之间\n\n\n            if ((values[0] + values[1]) / 2 > item) {\n              break;\n            } // 中间的点\n\n\n            if ((values[i - 1] + values[i]) / 2 <= item && (values[i + 1] + values[i]) / 2 > item) {\n              break;\n            } // 最后2个点\n\n\n            if ((values[values.length - 2] + values[values.length - 1]) / 2 <= item) {\n              i = values.length - 1;\n              break;\n            }\n          }\n        }\n\n        var result = values[i];\n        return result;\n      };\n\n      _proto.getSnapRecords = function getSnapRecords(point) {\n        var self = this;\n        var coord = self.get('coord');\n        var xScale = self.getXScale();\n        var yScale = self.getYScale();\n        var xfield = xScale.field;\n        var dataArray = self.get('dataArray');\n\n        if (!this.get('hasSorted')) {\n          this._sort(dataArray);\n        }\n\n        var rst = [];\n        var invertPoint = coord.invertPoint(point);\n        var invertPointX = invertPoint.x;\n\n        if (self.isInCircle() && !coord.transposed && invertPointX > (1 + xScale.rangeMax()) / 2) {\n          invertPointX = xScale.rangeMin();\n        }\n\n        var xValue = xScale.invert(invertPointX);\n\n        if (!xScale.isCategory) {\n          xValue = self._getSnap(xScale, xValue);\n        }\n\n        var tmp = [];\n        dataArray.forEach(function (data) {\n          data.forEach(function (obj) {\n            var originValue = isNil(obj[FIELD_ORIGIN]) ? obj[xfield] : obj[FIELD_ORIGIN][xfield];\n\n            if (self._isEqual(originValue, xValue, xScale)) {\n              tmp.push(obj);\n            }\n          });\n        }); // special for pie chart\n\n        if (this.hasAdjust('stack') && coord.isPolar && coord.transposed) {\n          if (invertPointX >= 0 && invertPointX <= 1) {\n            var yValue = yScale.invert(invertPoint.y);\n            yValue = self._getSnap(yScale, yValue, tmp);\n            tmp.forEach(function (obj) {\n              if (isArray(yValue) ? obj[FIELD_ORIGIN_Y].toString() === yValue.toString() : obj[FIELD_ORIGIN_Y] === yValue) {\n                rst.push(obj);\n              }\n            });\n          }\n        } else {\n          rst = tmp;\n        }\n\n        return rst;\n      };\n\n      _proto.getRecords = function getRecords(value) {\n        var _this = this;\n\n        var xScale = this.getXScale();\n        var dataArray = this.get('dataArray');\n        var xfield = xScale.field;\n        return dataArray.map(function (data) {\n          for (var len = data.length, i = len - 1; i >= 0; i--) {\n            var obj = data[i];\n            var originValue = isNil(obj[FIELD_ORIGIN]) ? obj[xfield] : obj[FIELD_ORIGIN][xfield];\n\n            if (_this._isEqual(originValue, value, xScale)) {\n              return obj;\n            }\n          }\n\n          return null;\n        });\n      };\n\n      _proto._isEqual = function _isEqual(originValue, value, scale) {\n        if (scale.type === 'timeCat') {\n          return toTimeStamp(originValue) === value;\n        }\n\n        return value === originValue;\n      };\n\n      _proto.position = function position(field) {\n        this._setAttrOptions('position', {\n          field: field\n        });\n\n        return this;\n      };\n\n      _proto.color = function color(field, values) {\n        this._createAttrOption('color', field, values, Global.colors);\n\n        return this;\n      };\n\n      _proto.size = function size(field, values) {\n        this._createAttrOption('size', field, values, Global.sizes);\n\n        return this;\n      };\n\n      _proto.shape = function shape(field, values) {\n        var type = this.get('type');\n        var shapes = Global.shapes[type] || [];\n\n        this._createAttrOption('shape', field, values, shapes);\n\n        return this;\n      };\n\n      _proto.style = function style(field, cfg) {\n        var styleOptions = this.get('styleOptions');\n\n        if (!styleOptions) {\n          styleOptions = {};\n          this.set('styleOptions', styleOptions);\n        }\n\n        if (isObject(field)) {\n          cfg = field;\n          field = null;\n        }\n\n        var fields;\n\n        if (field) {\n          fields = parseFields(field);\n        }\n\n        styleOptions.fields = fields;\n        styleOptions.style = cfg;\n        return this;\n      };\n\n      _proto.adjust = function adjust(type) {\n        if (isString(type)) {\n          type = {\n            type: type\n          };\n        }\n\n        this.set('adjust', type);\n        return this;\n      };\n\n      _proto.animate = function animate(cfg) {\n        this.set('animateCfg', cfg);\n        return this;\n      };\n\n      _proto.changeData = function changeData(data) {\n        this.set('data', data); // 改变数据后，情况度量，因为需要重新实例化\n\n        this.set('scales', {});\n        if (!this.get('isInit')) return;\n        this.set('isInit', false);\n        this.init();\n      };\n\n      _proto.clearInner = function clearInner() {\n        var container = this.get('container');\n\n        if (container) {\n          container.clear(); // container.setMatrix([ 1, 0, 0, 1, 0, 0 ]);\n        }\n      };\n\n      _proto.reset = function reset() {\n        this.set('isInit', false);\n        this.set('attrs', {});\n        this.set('attrOptions', {});\n        this.set('adjust', null);\n        this.clearInner();\n      };\n\n      _proto.clear = function clear() {\n        this.clearInner();\n      };\n\n      _proto.destroy = function destroy() {\n        this.set('isInit', false);\n        this.clear();\n\n        _Base.prototype.destroy.call(this);\n      };\n\n      _proto._display = function _display(visible) {\n        this.set('visible', visible);\n        var container = this.get('container');\n        var canvas = container.get('canvas');\n        container.set('visible', visible);\n        canvas.draw();\n      };\n\n      _proto.show = function show() {\n        this._display(true);\n      };\n\n      _proto.hide = function hide() {\n        this._display(false);\n      };\n\n      return Geom;\n    }(Base);\n\n    var methodCache = {};\n    /**\n     * 获取计算 ticks 的方法\n     * @param key 键值\n     * @returns 计算 ticks 的方法\n     */\n\n    function getTickMethod(key) {\n      return methodCache[key];\n    }\n    /**\n     * 注册计算 ticks 的方法\n     * @param key 键值\n     * @param method 方法\n     */\n\n    function registerTickMethod(key, method) {\n      methodCache[key] = method;\n    }\n\n    var Scale =\n    /** @class */\n    function () {\n      function Scale(cfg) {\n        /**\n         * 度量的类型\n         */\n        this.type = 'base';\n        /**\n         * 是否分类类型的度量\n         */\n\n        this.isCategory = false;\n        /**\n         * 是否线性度量，有linear, time 度量\n         */\n\n        this.isLinear = false;\n        /**\n         * 是否连续类型的度量，linear,time,log, pow, quantile, quantize 都支持\n         */\n\n        this.isContinuous = false;\n        /**\n         * 是否是常量的度量，传入和传出一致\n         */\n\n        this.isIdentity = false;\n        this.values = [];\n        this.range = [0, 1];\n        this.ticks = [];\n        this.__cfg__ = cfg;\n        this.initCfg();\n        this.init();\n      } // 对于原始值的必要转换，如分类、时间字段需转换成数值，用transform/map命名可能更好\n\n\n      Scale.prototype.translate = function (v) {\n        return v;\n      };\n      /** 重新初始化 */\n\n\n      Scale.prototype.change = function (cfg) {\n        // 覆盖配置项，而不替代\n        mix(this.__cfg__, cfg);\n        this.init();\n      };\n\n      Scale.prototype.clone = function () {\n        return this.constructor(this.__cfg__);\n      };\n      /** 获取坐标轴需要的ticks */\n\n\n      Scale.prototype.getTicks = function () {\n        var _this = this;\n\n        return map(this.ticks, function (tick, idx) {\n          if (isObject(tick)) {\n            // 仅当符合Tick类型时才有意义\n            return tick;\n          }\n\n          return {\n            text: _this.getText(tick, idx),\n            tickValue: tick,\n            value: _this.scale(tick)\n          };\n        });\n      };\n      /** 获取Tick的格式化结果 */\n\n\n      Scale.prototype.getText = function (value, key) {\n        var formatter = this.formatter;\n        var res = formatter ? formatter(value, key) : value;\n\n        if (isNil(res) || !isFunction(res.toString)) {\n          return '';\n        }\n\n        return res.toString();\n      }; // 获取配置项中的值，当前 scale 上的值可能会被修改\n\n\n      Scale.prototype.getConfig = function (key) {\n        return this.__cfg__[key];\n      }; // scale初始化\n\n\n      Scale.prototype.init = function () {\n        mix(this, this.__cfg__);\n        this.setDomain();\n\n        if (isEmpty(this.getConfig('ticks'))) {\n          this.ticks = this.calculateTicks();\n        }\n      }; // 子类上覆盖某些属性，不能直接在类上声明，否则会被覆盖\n\n\n      Scale.prototype.initCfg = function () {};\n\n      Scale.prototype.setDomain = function () {};\n\n      Scale.prototype.calculateTicks = function () {\n        var tickMethod = this.tickMethod;\n        var ticks = [];\n\n        if (isString(tickMethod)) {\n          var method = getTickMethod(tickMethod);\n\n          if (!method) {\n            throw new Error('There is no method to to calculate ticks!');\n          }\n\n          ticks = method(this);\n        } else if (isFunction(tickMethod)) {\n          ticks = tickMethod(this);\n        }\n\n        return ticks;\n      }; // range 的最小值\n\n\n      Scale.prototype.rangeMin = function () {\n        return head(this.range);\n      }; // range 的最大值\n\n\n      Scale.prototype.rangeMax = function () {\n        return last(this.range);\n      };\n      /** 定义域转 0~1 */\n\n\n      Scale.prototype.calcPercent = function (value, min, max) {\n        if (isNumber(value)) {\n          return (value - min) / (max - min);\n        }\n\n        return NaN;\n      };\n      /** 0~1转定义域 */\n\n\n      Scale.prototype.calcValue = function (percent, min, max) {\n        return min + percent * (max - min);\n      };\n\n      return Scale;\n    }();\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\n\n    /* global Reflect, Promise */\n    var extendStatics = function (d, b) {\n      extendStatics = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n      } || function (d, b) {\n        for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      };\n\n      return extendStatics(d, b);\n    };\n\n    function __extends(d, b) {\n      extendStatics(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    }\n    function __spreadArrays() {\n      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n      return r;\n    }\n\n    /**\n     * 分类度量\n     * @class\n     */\n\n    var Category =\n    /** @class */\n    function (_super) {\n      __extends(Category, _super);\n\n      function Category() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'cat';\n        _this.isCategory = true;\n        return _this;\n      }\n\n      Category.prototype.translate = function (value) {\n        var index = indexOf(this.values, value);\n\n        if (index === -1) {\n          return isNumber(value) ? value : NaN;\n        }\n\n        return index;\n      };\n\n      Category.prototype.scale = function (value) {\n        var order = this.translate(value); // 分类数据允许 0.5 范围内调整\n        // if (order < this.min - 0.5 || order > this.max + 0.5) {\n        //   return NaN;\n        // }\n\n        var percent = this.calcPercent(order, this.min, this.max);\n        return this.calcValue(percent, this.rangeMin(), this.rangeMax());\n      };\n\n      Category.prototype.invert = function (scaledValue) {\n        var domainRange = this.max - this.min;\n        var percent = this.calcPercent(scaledValue, this.rangeMin(), this.rangeMax());\n        var idx = Math.round(domainRange * percent) + this.min;\n\n        if (idx < this.min || idx > this.max) {\n          return NaN;\n        }\n\n        return this.values[idx];\n      };\n\n      Category.prototype.getText = function (value) {\n        var args = [];\n\n        for (var _i = 1; _i < arguments.length; _i++) {\n          args[_i - 1] = arguments[_i];\n        }\n\n        var v = value; // value为index\n\n        if (isNumber(value) && !this.values.includes(value)) {\n          v = this.values[v];\n        }\n\n        return _super.prototype.getText.apply(this, __spreadArrays([v], args));\n      }; // 复写属性\n\n\n      Category.prototype.initCfg = function () {\n        this.tickMethod = 'cat';\n      }; // 设置 min, max\n\n\n      Category.prototype.setDomain = function () {\n        // 用户有可能设置 min\n        if (isNil(this.getConfig('min'))) {\n          this.min = 0;\n        }\n\n        if (isNil(this.getConfig('max'))) {\n          var size = this.values.length;\n          this.max = size > 1 ? size - 1 : size;\n        }\n      };\n\n      return Category;\n    }(Scale);\n\n    var token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\n    var twoDigitsOptional = \"[1-9]\\\\d?\";\n    var twoDigits = \"\\\\d\\\\d\";\n    var threeDigits = \"\\\\d{3}\";\n    var fourDigits = \"\\\\d{4}\";\n    var word = \"[^\\\\s]+\";\n    var literal = /\\[([^]*?)\\]/gm;\n\n    function shorten(arr, sLen) {\n      var newArr = [];\n\n      for (var i = 0, len = arr.length; i < len; i++) {\n        newArr.push(arr[i].substr(0, sLen));\n      }\n\n      return newArr;\n    }\n\n    var monthUpdate = function (arrName) {\n      return function (v, i18n) {\n        var lowerCaseArr = i18n[arrName].map(function (v) {\n          return v.toLowerCase();\n        });\n        var index = lowerCaseArr.indexOf(v.toLowerCase());\n\n        if (index > -1) {\n          return index;\n        }\n\n        return null;\n      };\n    };\n\n    function assign(origObj) {\n      var args = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n      }\n\n      for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n        var obj = args_1[_a];\n\n        for (var key in obj) {\n          // @ts-ignore ex\n          origObj[key] = obj[key];\n        }\n      }\n\n      return origObj;\n    }\n\n    var dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    var monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    var monthNamesShort = shorten(monthNames, 3);\n    var dayNamesShort = shorten(dayNames, 3);\n    var defaultI18n = {\n      dayNamesShort: dayNamesShort,\n      dayNames: dayNames,\n      monthNamesShort: monthNamesShort,\n      monthNames: monthNames,\n      amPm: [\"am\", \"pm\"],\n      DoFn: function (dayOfMonth) {\n        return dayOfMonth + [\"th\", \"st\", \"nd\", \"rd\"][dayOfMonth % 10 > 3 ? 0 : (dayOfMonth - dayOfMonth % 10 !== 10 ? 1 : 0) * dayOfMonth % 10];\n      }\n    };\n    var globalI18n = assign({}, defaultI18n);\n\n    var setGlobalDateI18n = function (i18n) {\n      return globalI18n = assign(globalI18n, i18n);\n    };\n\n    var regexEscape = function (str) {\n      return str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n    };\n\n    var pad = function (val, len) {\n      if (len === void 0) {\n        len = 2;\n      }\n\n      val = String(val);\n\n      while (val.length < len) {\n        val = \"0\" + val;\n      }\n\n      return val;\n    };\n\n    var formatFlags = {\n      D: function (dateObj) {\n        return String(dateObj.getDate());\n      },\n      DD: function (dateObj) {\n        return pad(dateObj.getDate());\n      },\n      Do: function (dateObj, i18n) {\n        return i18n.DoFn(dateObj.getDate());\n      },\n      d: function (dateObj) {\n        return String(dateObj.getDay());\n      },\n      dd: function (dateObj) {\n        return pad(dateObj.getDay());\n      },\n      ddd: function (dateObj, i18n) {\n        return i18n.dayNamesShort[dateObj.getDay()];\n      },\n      dddd: function (dateObj, i18n) {\n        return i18n.dayNames[dateObj.getDay()];\n      },\n      M: function (dateObj) {\n        return String(dateObj.getMonth() + 1);\n      },\n      MM: function (dateObj) {\n        return pad(dateObj.getMonth() + 1);\n      },\n      MMM: function (dateObj, i18n) {\n        return i18n.monthNamesShort[dateObj.getMonth()];\n      },\n      MMMM: function (dateObj, i18n) {\n        return i18n.monthNames[dateObj.getMonth()];\n      },\n      YY: function (dateObj) {\n        return pad(String(dateObj.getFullYear()), 4).substr(2);\n      },\n      YYYY: function (dateObj) {\n        return pad(dateObj.getFullYear(), 4);\n      },\n      h: function (dateObj) {\n        return String(dateObj.getHours() % 12 || 12);\n      },\n      hh: function (dateObj) {\n        return pad(dateObj.getHours() % 12 || 12);\n      },\n      H: function (dateObj) {\n        return String(dateObj.getHours());\n      },\n      HH: function (dateObj) {\n        return pad(dateObj.getHours());\n      },\n      m: function (dateObj) {\n        return String(dateObj.getMinutes());\n      },\n      mm: function (dateObj) {\n        return pad(dateObj.getMinutes());\n      },\n      s: function (dateObj) {\n        return String(dateObj.getSeconds());\n      },\n      ss: function (dateObj) {\n        return pad(dateObj.getSeconds());\n      },\n      S: function (dateObj) {\n        return String(Math.round(dateObj.getMilliseconds() / 100));\n      },\n      SS: function (dateObj) {\n        return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n      },\n      SSS: function (dateObj) {\n        return pad(dateObj.getMilliseconds(), 3);\n      },\n      a: function (dateObj, i18n) {\n        return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n      },\n      A: function (dateObj, i18n) {\n        return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();\n      },\n      ZZ: function (dateObj) {\n        var offset = dateObj.getTimezoneOffset();\n        return (offset > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(offset) / 60) * 100 + Math.abs(offset) % 60, 4);\n      },\n      Z: function (dateObj) {\n        var offset = dateObj.getTimezoneOffset();\n        return (offset > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(offset) / 60), 2) + \":\" + pad(Math.abs(offset) % 60, 2);\n      }\n    };\n\n    var monthParse = function (v) {\n      return +v - 1;\n    };\n\n    var emptyDigits = [null, twoDigitsOptional];\n    var emptyWord = [null, word];\n    var amPm = [\"isPm\", word, function (v, i18n) {\n      var val = v.toLowerCase();\n\n      if (val === i18n.amPm[0]) {\n        return 0;\n      } else if (val === i18n.amPm[1]) {\n        return 1;\n      }\n\n      return null;\n    }];\n    var timezoneOffset = [\"timezoneOffset\", \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\", function (v) {\n      var parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n      if (parts) {\n        var minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n        return parts[0] === \"+\" ? minutes : -minutes;\n      }\n\n      return 0;\n    }];\n    var parseFlags = {\n      D: [\"day\", twoDigitsOptional],\n      DD: [\"day\", twoDigits],\n      Do: [\"day\", twoDigitsOptional + word, function (v) {\n        return parseInt(v, 10);\n      }],\n      M: [\"month\", twoDigitsOptional, monthParse],\n      MM: [\"month\", twoDigits, monthParse],\n      YY: [\"year\", twoDigits, function (v) {\n        var now = new Date();\n        var cent = +(\"\" + now.getFullYear()).substr(0, 2);\n        return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n      }],\n      h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n      hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n      H: [\"hour\", twoDigitsOptional],\n      HH: [\"hour\", twoDigits],\n      m: [\"minute\", twoDigitsOptional],\n      mm: [\"minute\", twoDigits],\n      s: [\"second\", twoDigitsOptional],\n      ss: [\"second\", twoDigits],\n      YYYY: [\"year\", fourDigits],\n      S: [\"millisecond\", \"\\\\d\", function (v) {\n        return +v * 100;\n      }],\n      SS: [\"millisecond\", twoDigits, function (v) {\n        return +v * 10;\n      }],\n      SSS: [\"millisecond\", threeDigits],\n      d: emptyDigits,\n      dd: emptyDigits,\n      ddd: emptyWord,\n      dddd: emptyWord,\n      MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n      MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n      a: amPm,\n      A: amPm,\n      ZZ: timezoneOffset,\n      Z: timezoneOffset\n    }; // Some common format strings\n\n    var globalMasks = {\n      default: \"ddd MMM DD YYYY HH:mm:ss\",\n      shortDate: \"M/D/YY\",\n      mediumDate: \"MMM D, YYYY\",\n      longDate: \"MMMM D, YYYY\",\n      fullDate: \"dddd, MMMM D, YYYY\",\n      isoDate: \"YYYY-MM-DD\",\n      isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n      shortTime: \"HH:mm\",\n      mediumTime: \"HH:mm:ss\",\n      longTime: \"HH:mm:ss.SSS\"\n    };\n\n    var setGlobalDateMasks = function (masks) {\n      return assign(globalMasks, masks);\n    };\n    /***\n     * Format a date\n     * @method format\n     * @param {Date|number} dateObj\n     * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n     * @returns {string} Formatted date string\n     */\n\n\n    var format = function (dateObj, mask, i18n) {\n      if (mask === void 0) {\n        mask = globalMasks[\"default\"];\n      }\n\n      if (i18n === void 0) {\n        i18n = {};\n      }\n\n      if (typeof dateObj === \"number\") {\n        dateObj = new Date(dateObj);\n      }\n\n      if (Object.prototype.toString.call(dateObj) !== \"[object Date]\" || isNaN(dateObj.getTime())) {\n        throw new Error(\"Invalid Date pass to format\");\n      }\n\n      mask = globalMasks[mask] || mask;\n      var literals = []; // Make literals inactive by replacing them with @@@\n\n      mask = mask.replace(literal, function ($0, $1) {\n        literals.push($1);\n        return \"@@@\";\n      });\n      var combinedI18nSettings = assign(assign({}, globalI18n), i18n); // Apply formatting rules\n\n      mask = mask.replace(token, function ($0) {\n        return formatFlags[$0](dateObj, combinedI18nSettings);\n      }); // Inline literal values back into the formatted value\n\n      return mask.replace(/@@@/g, function () {\n        return literals.shift();\n      });\n    };\n    /**\n     * Parse a date string into a Javascript Date object /\n     * @method parse\n     * @param {string} dateStr Date string\n     * @param {string} format Date parse format\n     * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n     * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n     */\n\n\n    function parse(dateStr, format, i18n) {\n      if (i18n === void 0) {\n        i18n = {};\n      }\n\n      if (typeof format !== \"string\") {\n        throw new Error(\"Invalid format in fecha parse\");\n      } // Check to see if the format is actually a mask\n\n\n      format = globalMasks[format] || format; // Avoid regular expression denial of service, fail early for really long strings\n      // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n\n      if (dateStr.length > 1000) {\n        return null;\n      } // Default to the beginning of the year.\n\n\n      var today = new Date();\n      var dateInfo = {\n        year: today.getFullYear(),\n        month: 0,\n        day: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0,\n        isPm: null,\n        timezoneOffset: null\n      };\n      var parseInfo = [];\n      var literals = []; // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n\n      var newFormat = format.replace(literal, function ($0, $1) {\n        literals.push(regexEscape($1));\n        return \"@@@\";\n      });\n      var specifiedFields = {};\n      var requiredFields = {}; // Change every token that we find into the correct regex\n\n      newFormat = regexEscape(newFormat).replace(token, function ($0) {\n        var info = parseFlags[$0];\n        var field = info[0],\n            regex = info[1],\n            requiredField = info[3]; // Check if the person has specified the same field twice. This will lead to confusing results.\n\n        if (specifiedFields[field]) {\n          throw new Error(\"Invalid format. \" + field + \" specified twice in format\");\n        }\n\n        specifiedFields[field] = true; // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n\n        if (requiredField) {\n          requiredFields[requiredField] = true;\n        }\n\n        parseInfo.push(info);\n        return \"(\" + regex + \")\";\n      }); // Check all the required fields are present\n\n      Object.keys(requiredFields).forEach(function (field) {\n        if (!specifiedFields[field]) {\n          throw new Error(\"Invalid format. \" + field + \" is required in specified format\");\n        }\n      }); // Add back all the literals after\n\n      newFormat = newFormat.replace(/@@@/g, function () {\n        return literals.shift();\n      }); // Check if the date string matches the format. If it doesn't return null\n\n      var matches = dateStr.match(new RegExp(newFormat, \"i\"));\n\n      if (!matches) {\n        return null;\n      }\n\n      var combinedI18nSettings = assign(assign({}, globalI18n), i18n); // For each match, call the parser function for that date part\n\n      for (var i = 1; i < matches.length; i++) {\n        var _a = parseInfo[i - 1],\n            field = _a[0],\n            parser = _a[2];\n        var value = parser ? parser(matches[i], combinedI18nSettings) : +matches[i]; // If the parser can't make sense of the value, return null\n\n        if (value == null) {\n          return null;\n        }\n\n        dateInfo[field] = value;\n      }\n\n      if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n        dateInfo.hour = +dateInfo.hour + 12;\n      } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n        dateInfo.hour = 0;\n      }\n\n      var dateWithoutTZ = new Date(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute, dateInfo.second, dateInfo.millisecond);\n      var validateFields = [[\"month\", \"getMonth\"], [\"day\", \"getDate\"], [\"hour\", \"getHours\"], [\"minute\", \"getMinutes\"], [\"second\", \"getSeconds\"]];\n\n      for (var i = 0, len = validateFields.length; i < len; i++) {\n        // Check to make sure the date field is within the allowed range. Javascript dates allows values\n        // outside the allowed range. If the values don't match the value was invalid\n        if (specifiedFields[validateFields[i][0]] && dateInfo[validateFields[i][0]] !== dateWithoutTZ[validateFields[i][1]]()) {\n          return null;\n        }\n      }\n\n      if (dateInfo.timezoneOffset == null) {\n        return dateWithoutTZ;\n      }\n\n      return new Date(Date.UTC(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute - dateInfo.timezoneOffset, dateInfo.second, dateInfo.millisecond));\n    }\n\n    var fecha = {\n      format: format,\n      parse: parse,\n      defaultI18n: defaultI18n,\n      setGlobalDateI18n: setGlobalDateI18n,\n      setGlobalDateMasks: setGlobalDateMasks\n    };\n\n    var fecha1 = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        'default': fecha,\n        assign: assign,\n        format: format,\n        parse: parse,\n        defaultI18n: defaultI18n,\n        setGlobalDateI18n: setGlobalDateI18n,\n        setGlobalDateMasks: setGlobalDateMasks\n    });\n\n    /**\n     * 二分右侧查找\n     * https://github.com/d3/d3-array/blob/master/src/bisector.js\n     */\n\n    function bisector (getter) {\n      /**\n       * x: 目标值\n       * lo: 起始位置\n       * hi: 结束位置\n       */\n      return function (a, x, _lo, _hi) {\n        var lo = isNil(_lo) ? 0 : _lo;\n        var hi = isNil(_hi) ? a.length : _hi;\n\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n\n          if (getter(a[mid]) > x) {\n            hi = mid;\n          } else {\n            lo = mid + 1;\n          }\n        }\n\n        return lo;\n      };\n    }\n\n    var FORMAT_METHOD = 'format';\n    function timeFormat(time, mask) {\n      var method = fecha1[FORMAT_METHOD] || fecha[FORMAT_METHOD];\n      return method(time, mask);\n    }\n    /**\n     * 转换成时间戳\n     * @param value 时间值\n     */\n\n    function toTimeStamp$1(value) {\n      if (isString(value)) {\n        if (value.indexOf('T') > 0) {\n          value = new Date(value).getTime();\n        } else {\n          // new Date('2010/01/10') 和 new Date('2010-01-10') 的差别在于:\n          // 如果仅有年月日时，前者是带有时区的: Fri Jan 10 2020 02:40:13 GMT+0800 (中国标准时间)\n          // 后者会格式化成 Sun Jan 10 2010 08:00:00 GMT+0800 (中国标准时间)\n          value = new Date(value.replace(/-/gi, '/')).getTime();\n        }\n      }\n\n      if (isDate(value)) {\n        value = value.getTime();\n      }\n\n      return value;\n    }\n    var SECOND = 1000;\n    var MINUTE = 60 * SECOND;\n    var HOUR = 60 * MINUTE;\n    var DAY = 24 * HOUR;\n    var MONTH = DAY * 31;\n    var YEAR = DAY * 365;\n    var intervals = [['HH:mm:ss', SECOND], ['HH:mm:ss', SECOND * 10], ['HH:mm:ss', SECOND * 30], ['HH:mm', MINUTE], ['HH:mm', MINUTE * 10], ['HH:mm', MINUTE * 30], ['HH', HOUR], ['HH', HOUR * 6], ['HH', HOUR * 12], ['YYYY-MM-DD', DAY], ['YYYY-MM-DD', DAY * 4], ['YYYY-WW', DAY * 7], ['YYYY-MM', MONTH], ['YYYY-MM', MONTH * 4], ['YYYY-MM', MONTH * 6], ['YYYY', DAY * 380]];\n    function getTickInterval(min, max, tickCount) {\n      var target = (max - min) / tickCount;\n      var idx = bisector(function (o) {\n        return o[1];\n      })(intervals, target) - 1;\n      var interval = intervals[idx];\n\n      if (idx < 0) {\n        interval = intervals[0];\n      } else if (idx >= intervals.length) {\n        interval = last(intervals);\n      }\n\n      return interval;\n    }\n\n    /**\n     * 时间分类度量\n     * @class\n     */\n\n    var TimeCat =\n    /** @class */\n    function (_super) {\n      __extends(TimeCat, _super);\n\n      function TimeCat() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'timeCat';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      TimeCat.prototype.translate = function (value) {\n        value = toTimeStamp$1(value);\n        var index = this.values.indexOf(value);\n\n        if (index === -1) {\n          if (isNumber(value) && value < this.values.length) {\n            index = value;\n          } else {\n            index = NaN;\n          }\n        }\n\n        return index;\n      };\n      /**\n       * 由于时间类型数据需要转换一下，所以复写 getText\n       * @override\n       */\n\n\n      TimeCat.prototype.getText = function (value, tickIndex) {\n        var index = this.translate(value);\n\n        if (index > -1) {\n          var result = this.values[index];\n          var formatter = this.formatter;\n          result = formatter ? formatter(result, tickIndex) : timeFormat(result, this.mask);\n          return result;\n        }\n\n        return value;\n      };\n\n      TimeCat.prototype.initCfg = function () {\n        this.tickMethod = 'time-cat';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7; // 一般时间数据会显示 7， 14， 30 天的数字\n      };\n\n      TimeCat.prototype.setDomain = function () {\n        var values = this.values; // 针对时间分类类型，会将时间统一转换为时间戳\n\n        each(values, function (v, i) {\n          values[i] = toTimeStamp$1(v);\n        });\n        values.sort(function (v1, v2) {\n          return v1 - v2;\n        });\n\n        _super.prototype.setDomain.call(this);\n      };\n\n      return TimeCat;\n    }(Category);\n\n    /**\n     * 连续度量的基类\n     * @class\n     */\n\n    var Continuous =\n    /** @class */\n    function (_super) {\n      __extends(Continuous, _super);\n\n      function Continuous() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.isContinuous = true;\n        return _this;\n      }\n\n      Continuous.prototype.scale = function (value) {\n        if (isNil(value)) {\n          return NaN;\n        }\n\n        var rangeMin = this.rangeMin();\n        var rangeMax = this.rangeMax();\n        var max = this.max;\n        var min = this.min;\n\n        if (max === min) {\n          return rangeMin;\n        }\n\n        var percent = this.getScalePercent(value);\n        return rangeMin + percent * (rangeMax - rangeMin);\n      };\n\n      Continuous.prototype.init = function () {\n        _super.prototype.init.call(this); // init 完成后保证 min, max 包含 ticks 的范围\n\n\n        var ticks = this.ticks;\n        var firstTick = head(ticks);\n        var lastTick = last(ticks);\n\n        if (firstTick < this.min) {\n          this.min = firstTick;\n        }\n\n        if (lastTick > this.max) {\n          this.max = lastTick;\n        } // strict-limit 方式\n\n\n        if (!isNil(this.minLimit)) {\n          this.min = firstTick;\n        }\n\n        if (!isNil(this.maxLimit)) {\n          this.max = lastTick;\n        }\n      };\n\n      Continuous.prototype.setDomain = function () {\n        var _a = getRange(this.values),\n            min = _a.min,\n            max = _a.max;\n\n        if (isNil(this.min)) {\n          this.min = min;\n        }\n\n        if (isNil(this.max)) {\n          this.max = max;\n        }\n\n        if (this.min > this.max) {\n          this.min = min;\n          this.max = max;\n        }\n      };\n\n      Continuous.prototype.calculateTicks = function () {\n        var _this = this;\n\n        var ticks = _super.prototype.calculateTicks.call(this);\n\n        if (!this.nice) {\n          ticks = filter(ticks, function (tick) {\n            return tick >= _this.min && tick <= _this.max;\n          });\n        }\n\n        return ticks;\n      }; // 计算原始值值占的百分比\n\n\n      Continuous.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        return (value - min) / (max - min);\n      };\n\n      Continuous.prototype.getInvertPercent = function (value) {\n        return (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\n      };\n\n      return Continuous;\n    }(Scale);\n\n    /**\n     * 线性度量\n     * @class\n     */\n\n    var Linear =\n    /** @class */\n    function (_super) {\n      __extends(Linear, _super);\n\n      function Linear() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'linear';\n        _this.isLinear = true;\n        return _this;\n      }\n\n      Linear.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        return this.min + percent * (this.max - this.min);\n      };\n\n      Linear.prototype.initCfg = function () {\n        this.tickMethod = 'wilkinson-extended';\n        this.nice = false;\n      };\n\n      return Linear;\n    }(Continuous);\n\n    // 虽然数学上 b 不支持负数，但是这里需要支持 负数\n\n    function calBase(a, b) {\n      var e = Math.E;\n      var value;\n\n      if (b >= 0) {\n        value = Math.pow(e, Math.log(b) / a); // 使用换底公式求底\n      } else {\n        value = Math.pow(e, Math.log(-b) / a) * -1; // 使用换底公式求底\n      }\n\n      return value;\n    }\n    function log(a, b) {\n      if (a === 1) {\n        return 1;\n      }\n\n      return Math.log(b) / Math.log(a);\n    }\n    function getLogPositiveMin(values, base, max) {\n      if (isNil(max)) {\n        max = Math.max.apply(null, values);\n      }\n\n      var positiveMin = max;\n      each(values, function (value) {\n        if (value > 0 && value < positiveMin) {\n          positiveMin = value;\n        }\n      });\n\n      if (positiveMin === max) {\n        positiveMin = max / base;\n      }\n\n      if (positiveMin > 1) {\n        positiveMin = 1;\n      }\n\n      return positiveMin;\n    }\n\n    /**\n     * Log 度量，处理非均匀分布\n     */\n\n    var Log =\n    /** @class */\n    function (_super) {\n      __extends(Log, _super);\n\n      function Log() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'log';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      Log.prototype.invert = function (value) {\n        var base = this.base;\n        var max = log(base, this.max);\n        var rangeMin = this.rangeMin();\n        var range = this.rangeMax() - rangeMin;\n        var min;\n        var positiveMin = this.positiveMin;\n\n        if (positiveMin) {\n          if (value === 0) {\n            return 0;\n          }\n\n          min = log(base, positiveMin / base);\n          var appendPercent = 1 / (max - min) * range; // 0 到 positiveMin的占比\n\n          if (value < appendPercent) {\n            // 落到 0 - positiveMin 之间\n            return value / appendPercent * positiveMin;\n          }\n        } else {\n          min = log(base, this.min);\n        }\n\n        var percent = (value - rangeMin) / range;\n        var tmp = percent * (max - min) + min;\n        return Math.pow(base, tmp);\n      };\n\n      Log.prototype.initCfg = function () {\n        this.tickMethod = 'log';\n        this.base = 10;\n        this.tickCount = 6;\n        this.nice = true;\n      }; // 设置\n\n\n      Log.prototype.setDomain = function () {\n        _super.prototype.setDomain.call(this);\n\n        var min = this.min;\n\n        if (min < 0) {\n          throw new Error('When you use log scale, the minimum value must be greater than zero!');\n        }\n\n        if (min === 0) {\n          this.positiveMin = getLogPositiveMin(this.values, this.base, this.max);\n        }\n      }; // 根据当前值获取占比\n\n\n      Log.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n\n        if (max === min) {\n          return 0;\n        } // 如果值小于等于0，则按照0处理\n\n\n        if (value <= 0) {\n          return 0;\n        }\n\n        var base = this.base;\n        var positiveMin = this.positiveMin; // 如果min == 0, 则根据比0大的最小值，计算比例关系。这个最小值作为坐标轴上的第二个tick，第一个是0但是不显示\n\n        if (positiveMin) {\n          min = positiveMin * 1 / base;\n        }\n\n        var percent; // 如果数值小于次小值，那么就计算 value / 次小值 占整体的比例\n\n        if (value < positiveMin) {\n          percent = value / positiveMin / (log(base, max) - log(base, min));\n        } else {\n          percent = (log(base, value) - log(base, min)) / (log(base, max) - log(base, min));\n        }\n\n        return percent;\n      };\n\n      return Log;\n    }(Continuous);\n\n    /**\n     * Pow 度量，处理非均匀分布\n     */\n\n    var Pow =\n    /** @class */\n    function (_super) {\n      __extends(Pow, _super);\n\n      function Pow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'pow';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      Pow.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        var exponent = this.exponent;\n        var max = calBase(exponent, this.max);\n        var min = calBase(exponent, this.min);\n        var tmp = percent * (max - min) + min;\n        var factor = tmp >= 0 ? 1 : -1;\n        return Math.pow(tmp, exponent) * factor;\n      };\n\n      Pow.prototype.initCfg = function () {\n        this.tickMethod = 'pow';\n        this.exponent = 2;\n        this.tickCount = 5;\n        this.nice = true;\n      }; // 获取度量计算时，value占的定义域百分比\n\n\n      Pow.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n\n        if (max === min) {\n          return 0;\n        }\n\n        var exponent = this.exponent;\n        var percent = (calBase(exponent, value) - calBase(exponent, min)) / (calBase(exponent, max) - calBase(exponent, min));\n        return percent;\n      };\n\n      return Pow;\n    }(Continuous);\n\n    /**\n     * 时间度量\n     * @class\n     */\n\n    var Time =\n    /** @class */\n    function (_super) {\n      __extends(Time, _super);\n\n      function Time() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'time';\n        return _this;\n      }\n      /**\n       * @override\n       */\n\n\n      Time.prototype.getText = function (value, index) {\n        var numberValue = this.translate(value);\n        var formatter = this.formatter;\n        return formatter ? formatter(numberValue, index) : timeFormat(numberValue, this.mask);\n      };\n      /**\n       * @override\n       */\n\n\n      Time.prototype.scale = function (value) {\n        var v = value;\n\n        if (isString(v) || isDate(v)) {\n          v = this.translate(v);\n        }\n\n        return _super.prototype.scale.call(this, v);\n      };\n      /**\n       * 将时间转换成数字\n       * @override\n       */\n\n\n      Time.prototype.translate = function (v) {\n        return toTimeStamp$1(v);\n      };\n\n      Time.prototype.initCfg = function () {\n        this.tickMethod = 'time-pretty';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7;\n        this.nice = false;\n      };\n\n      Time.prototype.setDomain = function () {\n        var values = this.values; // 是否设置了 min, max，而不是直接取 this.min, this.max\n\n        var minConfig = this.getConfig('min');\n        var maxConfig = this.getConfig('max'); // 如果设置了 min,max 则转换成时间戳\n\n        if (!isNil(minConfig) || !isNumber(minConfig)) {\n          this.min = this.translate(this.min);\n        }\n\n        if (!isNil(maxConfig) || !isNumber(maxConfig)) {\n          this.max = this.translate(this.max);\n        } // 没有设置 min, max 时\n\n\n        if (values && values.length) {\n          // 重新计算最大最小值\n          var timeStamps_1 = [];\n          var min_1 = Infinity; // 最小值\n\n          var secondMin_1 = min_1; // 次小值\n\n          var max_1 = 0; // 使用一个循环，计算min,max,secondMin\n\n          each(values, function (v) {\n            var timeStamp = toTimeStamp$1(v);\n\n            if (isNaN(timeStamp)) {\n              throw new TypeError(\"Invalid Time: \" + v + \" in time scale!\");\n            }\n\n            if (min_1 > timeStamp) {\n              secondMin_1 = min_1;\n              min_1 = timeStamp;\n            } else if (secondMin_1 > timeStamp) {\n              secondMin_1 = timeStamp;\n            }\n\n            if (max_1 < timeStamp) {\n              max_1 = timeStamp;\n            }\n\n            timeStamps_1.push(timeStamp);\n          }); // 存在多个值时，设置最小间距\n\n          if (values.length > 1) {\n            this.minTickInterval = secondMin_1 - min_1;\n          }\n\n          if (isNil(minConfig)) {\n            this.min = min_1;\n          }\n\n          if (isNil(maxConfig)) {\n            this.max = max_1;\n          }\n        }\n      };\n\n      return Time;\n    }(Linear);\n\n    /**\n     * 分段度量\n     */\n\n    var Quantize =\n    /** @class */\n    function (_super) {\n      __extends(Quantize, _super);\n\n      function Quantize() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'quantize';\n        return _this;\n      }\n\n      Quantize.prototype.invert = function (value) {\n        var ticks = this.ticks;\n        var length = ticks.length;\n        var percent = this.getInvertPercent(value);\n        var minIndex = Math.floor(percent * (length - 1)); // 最后一个\n\n        if (minIndex >= length - 1) {\n          return last(ticks);\n        } // 超出左边界， 则取第一个\n\n\n        if (minIndex < 0) {\n          return head(ticks);\n        }\n\n        var minTick = ticks[minIndex];\n        var nextTick = ticks[minIndex + 1]; // 比当前值小的 tick 在度量上的占比\n\n        var minIndexPercent = minIndex / (length - 1);\n        var maxIndexPercent = (minIndex + 1) / (length - 1);\n        return minTick + (percent - minIndexPercent) / (maxIndexPercent - minIndexPercent) * (nextTick - minTick);\n      };\n\n      Quantize.prototype.initCfg = function () {\n        this.tickMethod = 'r-pretty';\n        this.tickCount = 5;\n        this.nice = true;\n      };\n\n      Quantize.prototype.calculateTicks = function () {\n        var ticks = _super.prototype.calculateTicks.call(this);\n\n        if (!this.nice) {\n          // 如果 nice = false ,补充 min, max\n          if (last(ticks) !== this.max) {\n            ticks.push(this.max);\n          }\n\n          if (head(ticks) !== this.min) {\n            ticks.unshift(this.min);\n          }\n        }\n\n        return ticks;\n      }; // 计算当前值在刻度中的占比\n\n\n      Quantize.prototype.getScalePercent = function (value) {\n        var ticks = this.ticks; // 超出左边界\n\n        if (value < head(ticks)) {\n          return 0;\n        } // 超出右边界\n\n\n        if (value > last(ticks)) {\n          return 1;\n        }\n\n        var minIndex = 0;\n        each(ticks, function (tick, index) {\n          if (value >= tick) {\n            minIndex = index;\n          } else {\n            return false;\n          }\n        });\n        return minIndex / (ticks.length - 1);\n      };\n\n      return Quantize;\n    }(Continuous);\n\n    var Quantile =\n    /** @class */\n    function (_super) {\n      __extends(Quantile, _super);\n\n      function Quantile() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'quantile';\n        return _this;\n      }\n\n      Quantile.prototype.initCfg = function () {\n        this.tickMethod = 'quantile';\n        this.tickCount = 5;\n        this.nice = true;\n      };\n\n      return Quantile;\n    }(Quantize);\n\n    var map$1 = {};\n\n    function getClass(key) {\n      return map$1[key];\n    }\n\n    function registerClass(key, cls) {\n      if (getClass(key)) {\n        throw new Error(\"type '\" + key + \"' existed.\");\n      }\n\n      map$1[key] = cls;\n    }\n\n    /**\n     * identity scale原则上是定义域和值域一致，scale/invert方法也是一致的\n     * 参考R的实现：https://github.com/r-lib/scales/blob/master/R/pal-identity.r\n     * 参考d3的实现（做了下转型）：https://github.com/d3/d3-scale/blob/master/src/identity.js\n     */\n\n    var Identity =\n    /** @class */\n    function (_super) {\n      __extends(Identity, _super);\n\n      function Identity() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = 'identity';\n        _this.isIdentity = true;\n        return _this;\n      }\n\n      Identity.prototype.calculateTicks = function () {\n        return this.values;\n      };\n\n      Identity.prototype.scale = function (value) {\n        // 如果传入的值不等于 identity 的值，则直接返回，用于一维图时的 dodge\n        if (this.values[0] !== value && isNumber(value)) {\n          return value;\n        }\n\n        return this.range[0];\n      };\n\n      Identity.prototype.invert = function (value) {\n        var range = this.range;\n\n        if (value < range[0] || value > range[1]) {\n          return NaN;\n        }\n\n        return this.values[0];\n      };\n\n      return Identity;\n    }(Scale);\n\n    var DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\n    var eps = Number.EPSILON * 100; // https://stackoverflow.com/questions/4467539/javascript-modulo-gives-a-negative-result-for-negative-numbers\n\n    function mod(n, m) {\n      return (n % m + m) % m;\n    }\n\n    function simplicity(q, Q, j, lmin, lmax, lstep) {\n      var n = size(Q);\n      var i = indexOf(Q, q);\n      var v = 0;\n      var m = mod(lmin, lstep);\n\n      if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n        v = 1;\n      }\n\n      return 1 - i / (n - 1) - j + v;\n    }\n\n    function simplicityMax(q, Q, j) {\n      var n = size(Q);\n      var i = indexOf(Q, q);\n      var v = 1;\n      return 1 - i / (n - 1) - j + v;\n    }\n\n    function density(k, m, dmin, dmax, lmin, lmax) {\n      var r = (k - 1) / (lmax - lmin);\n      var rt = (m - 1) / (Math.max(lmax, dmax) - Math.min(dmin, lmin));\n      return 2 - Math.max(r / rt, rt / r);\n    }\n\n    function densityMax(k, m) {\n      if (k >= m) {\n        return 2 - (k - 1) / (m - 1);\n      }\n\n      return 1;\n    }\n\n    function coverage(dmin, dmax, lmin, lmax) {\n      var range = dmax - dmin;\n      return 1 - 0.5 * (Math.pow(dmax - lmax, 2) + Math.pow(dmin - lmin, 2)) / Math.pow(0.1 * range, 2);\n    }\n\n    function coverageMax(dmin, dmax, span) {\n      var range = dmax - dmin;\n\n      if (span > range) {\n        var half = (span - range) / 2;\n        return 1 - Math.pow(half, 2) / Math.pow(0.1 * range, 2);\n      }\n\n      return 1;\n    }\n\n    function legibility() {\n      return 1;\n    }\n    /**\n     * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n     * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n     * @param dmin 最小值\n     * @param dmax 最大值\n     * @param m tick个数\n     * @param onlyLoose 是否允许扩展min、max，不绝对强制，例如[3, 97]\n     * @param Q nice numbers集合\n     * @param w 四个优化组件的权重\n     */\n\n\n    function extended(dmin, dmax, m, onlyLoose, Q, w) {\n      if (m === void 0) {\n        m = 5;\n      }\n\n      if (onlyLoose === void 0) {\n        onlyLoose = true;\n      }\n\n      if (Q === void 0) {\n        Q = DEFAULT_Q;\n      }\n\n      if (w === void 0) {\n        w = [0.25, 0.2, 0.5, 0.05];\n      } // 异常数据情况下，直接返回，防止 oom\n\n\n      if (typeof dmin !== 'number' || typeof dmax !== 'number') {\n        return {\n          min: 0,\n          max: 0,\n          ticks: []\n        };\n      }\n\n      if (dmin === dmax || m === 1) {\n        return {\n          min: dmin,\n          max: dmax,\n          ticks: [dmin]\n        };\n      }\n\n      var best = {\n        score: -2,\n        lmin: 0,\n        lmax: 0,\n        lstep: 0\n      };\n      var j = 1;\n\n      while (j < Infinity) {\n        for (var _i = 0, Q_1 = Q; _i < Q_1.length; _i++) {\n          var q = Q_1[_i];\n          var sm = simplicityMax(q, Q, j);\n\n          if (Number.isNaN(sm)) {\n            throw new Error('NaN');\n          }\n\n          if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n            j = Infinity;\n            break;\n          }\n\n          var k = 2;\n\n          while (k < Infinity) {\n            var dm = densityMax(k, m);\n\n            if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n              break;\n            }\n\n            var delta = (dmax - dmin) / (k + 1) / j / q;\n            var z = Math.ceil(Math.log10(delta));\n\n            while (z < Infinity) {\n              var step = j * q * Math.pow(10, z);\n              var cm = coverageMax(dmin, dmax, step * (k - 1));\n\n              if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n                break;\n              }\n\n              var minStart = Math.floor(dmax / step) * j - (k - 1) * j;\n              var maxStart = Math.ceil(dmin / step) * j;\n\n              if (minStart > maxStart) {\n                z = z + 1;\n                continue;\n              }\n\n              for (var start = minStart; start <= maxStart; start = start + 1) {\n                var lmin = start * (step / j);\n                var lmax = lmin + step * (k - 1);\n                var lstep = step;\n                var s = simplicity(q, Q, j, lmin, lmax, lstep);\n                var c = coverage(dmin, dmax, lmin, lmax);\n                var g = density(k, m, dmin, dmax, lmin, lmax);\n                var l = legibility();\n                var score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n\n                if (score > best.score && (!onlyLoose || lmin <= dmin && lmax >= dmax)) {\n                  best.lmin = lmin;\n                  best.lmax = lmax;\n                  best.lstep = lstep;\n                  best.score = score;\n                }\n              }\n\n              z = z + 1;\n            }\n\n            k = k + 1;\n          }\n        }\n\n        j = j + 1;\n      } // 步长为浮点数时处理精度\n\n\n      var toFixed = Number.isInteger(best.lstep) ? 0 : Math.ceil(Math.abs(Math.log10(best.lstep)));\n      var range = [];\n\n      for (var tick = best.lmin; tick <= best.lmax; tick += best.lstep) {\n        range.push(tick);\n      }\n\n      var ticks = toFixed ? map(range, function (x) {\n        return Number.parseFloat(x.toFixed(toFixed));\n      }) : range;\n      return {\n        min: Math.min(dmin, head(ticks)),\n        max: Math.max(dmax, last(ticks)),\n        ticks: ticks\n      };\n    }\n\n    /**\n     * 计算分类 ticks\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculateCatTicks(cfg) {\n      var values = cfg.values,\n          tickInterval = cfg.tickInterval,\n          tickCount = cfg.tickCount;\n      var ticks = values;\n\n      if (isNumber(tickInterval)) {\n        return filter(ticks, function (__, i) {\n          return i % tickInterval === 0;\n        });\n      }\n\n      var min = cfg.min,\n          max = cfg.max;\n\n      if (isNil(min)) {\n        min = 0;\n      }\n\n      if (isNil(max)) {\n        max = values.length - 1;\n      }\n\n      if (isNumber(tickCount) && tickCount < max - min) {\n        // 简单过滤，部分情况下小数的倍数也可以是整数\n        // tslint:disable-next-line: no-shadowed-variable\n        var ticks_1 = extended(min, max, tickCount, false, [1, 2, 5, 3, 4, 7, 6, 8, 9]).ticks;\n        var valid = filter(ticks_1, function (tick) {\n          return tick >= min && tick <= max;\n        });\n        return valid.map(function (index) {\n          return values[index];\n        });\n      }\n\n      return values.slice(min, max + 1);\n    }\n\n    function d3Linear(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          nice = cfg.nice,\n          tickCount = cfg.tickCount;\n      var linear = new D3Linear();\n      linear.domain([min, max]);\n\n      if (nice) {\n        linear.nice(tickCount);\n      }\n\n      return linear.ticks(tickCount);\n    }\n    var DEFAULT_COUNT = 5;\n    var e10 = Math.sqrt(50);\n    var e5 = Math.sqrt(10);\n    var e2 = Math.sqrt(2); // https://github.com/d3/d3-scale\n\n    var D3Linear =\n    /** @class */\n    function () {\n      function D3Linear() {\n        this._domain = [0, 1];\n      }\n\n      D3Linear.prototype.domain = function (domain) {\n        if (domain) {\n          this._domain = Array.from(domain, Number);\n          return this;\n        }\n\n        return this._domain.slice();\n      };\n\n      D3Linear.prototype.nice = function (count) {\n        var _a, _b;\n\n        if (count === void 0) {\n          count = DEFAULT_COUNT;\n        }\n\n        var d = this._domain.slice();\n\n        var i0 = 0;\n        var i1 = this._domain.length - 1;\n        var start = this._domain[i0];\n        var stop = this._domain[i1];\n        var step;\n\n        if (stop < start) {\n          _a = [stop, start], start = _a[0], stop = _a[1];\n          _b = [i1, i0], i0 = _b[0], i1 = _b[1];\n        }\n\n        step = tickIncrement(start, stop, count);\n\n        if (step > 0) {\n          start = Math.floor(start / step) * step;\n          stop = Math.ceil(stop / step) * step;\n          step = tickIncrement(start, stop, count);\n        } else if (step < 0) {\n          start = Math.ceil(start * step) / step;\n          stop = Math.floor(stop * step) / step;\n          step = tickIncrement(start, stop, count);\n        }\n\n        if (step > 0) {\n          d[i0] = Math.floor(start / step) * step;\n          d[i1] = Math.ceil(stop / step) * step;\n          this.domain(d);\n        } else if (step < 0) {\n          d[i0] = Math.ceil(start * step) / step;\n          d[i1] = Math.floor(stop * step) / step;\n          this.domain(d);\n        }\n\n        return this;\n      };\n\n      D3Linear.prototype.ticks = function (count) {\n        if (count === void 0) {\n          count = DEFAULT_COUNT;\n        }\n\n        return d3ArrayTicks(this._domain[0], this._domain[this._domain.length - 1], count || DEFAULT_COUNT);\n      };\n\n      return D3Linear;\n    }();\n\n    function d3ArrayTicks(start, stop, count) {\n      var reverse;\n      var i = -1;\n      var n;\n      var ticks;\n      var step;\n      stop = +stop, start = +start, count = +count;\n\n      if (start === stop && count > 0) {\n        return [start];\n      } // tslint:disable-next-line\n\n\n      if (reverse = stop < start) {\n        n = start, start = stop, stop = n;\n      } // tslint:disable-next-line\n\n\n      if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) {\n        return [];\n      }\n\n      if (step > 0) {\n        start = Math.ceil(start / step);\n        stop = Math.floor(stop / step);\n        ticks = new Array(n = Math.ceil(stop - start + 1));\n\n        while (++i < n) {\n          ticks[i] = (start + i) * step;\n        }\n      } else {\n        start = Math.floor(start * step);\n        stop = Math.ceil(stop * step);\n        ticks = new Array(n = Math.ceil(start - stop + 1));\n\n        while (++i < n) {\n          ticks[i] = (start - i) / step;\n        }\n      }\n\n      if (reverse) {\n        ticks.reverse();\n      }\n\n      return ticks;\n    }\n\n    function tickIncrement(start, stop, count) {\n      var step = (stop - start) / Math.max(0, count);\n      var power = Math.floor(Math.log(step) / Math.LN10);\n      var error = step / Math.pow(10, power);\n      return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n    }\n\n    function snapMultiple(v, base, snapType) {\n      var div;\n\n      if (snapType === 'ceil') {\n        div = Math.ceil(v / base);\n      } else if (snapType === 'floor') {\n        div = Math.floor(v / base);\n      } else {\n        div = Math.round(v / base);\n      }\n\n      return div * base;\n    }\n\n    function intervalTicks(min, max, interval) {\n      // 变成 interval 的倍数\n      var minTick = snapMultiple(min, interval, 'floor');\n      var maxTick = snapMultiple(max, interval, 'ceil'); // 统一小数位数\n\n      minTick = fixedBase(minTick, interval);\n      maxTick = fixedBase(maxTick, interval);\n      var ticks = [];\n\n      for (var i = minTick; i <= maxTick; i = i + interval) {\n        var tickValue = fixedBase(i, interval); // 防止浮点数加法出现问题\n\n        ticks.push(tickValue);\n      }\n\n      return {\n        min: minTick,\n        max: maxTick,\n        ticks: ticks\n      };\n    }\n\n    /**\n     * 按照给定的 minLimit/maxLimit/tickCount 均匀计算出刻度 ticks\n     *\n     * @param cfg Scale 配置项\n     * @return ticks\n     */\n\n    function strictLimit(cfg, defaultMin, defaultMax) {\n      var _a;\n\n      var minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit,\n          min = cfg.min,\n          max = cfg.max,\n          _b = cfg.tickCount,\n          tickCount = _b === void 0 ? 5 : _b;\n      var tickMin = isNil(minLimit) ? isNil(defaultMin) ? min : defaultMin : minLimit;\n      var tickMax = isNil(maxLimit) ? isNil(defaultMax) ? max : defaultMax : maxLimit;\n\n      if (tickMin > tickMax) {\n        _a = [tickMin, tickMax], tickMax = _a[0], tickMin = _a[1];\n      }\n\n      if (tickCount <= 2) {\n        return [tickMin, tickMax];\n      }\n\n      var step = (tickMax - tickMin) / (tickCount - 1);\n      var ticks = [];\n\n      for (var i = 0; i < tickCount; i++) {\n        ticks.push(tickMin + step * i);\n      }\n\n      return ticks;\n    }\n\n    function d3LinearTickMethod(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          tickInterval = cfg.tickInterval,\n          minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit;\n      var ticks = d3Linear(cfg);\n\n      if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n      }\n\n      if (tickInterval) {\n        return intervalTicks(min, max, tickInterval).ticks;\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算线性的 ticks，使用 wilkinson extended 方法\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function linear(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          tickCount = cfg.tickCount,\n          nice = cfg.nice,\n          tickInterval = cfg.tickInterval,\n          minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit;\n      var ticks = extended(min, max, tickCount, nice).ticks;\n\n      if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n      }\n\n      if (tickInterval) {\n        return intervalTicks(min, max, tickInterval).ticks;\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算 log 的 ticks，考虑 min = 0 的场景\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculateLogTicks(cfg) {\n      var base = cfg.base,\n          tickCount = cfg.tickCount,\n          min = cfg.min,\n          max = cfg.max,\n          values = cfg.values;\n      var minTick;\n      var maxTick = log(base, max);\n\n      if (min > 0) {\n        minTick = Math.floor(log(base, min));\n      } else {\n        var positiveMin = getLogPositiveMin(values, base, max);\n        minTick = Math.floor(log(base, positiveMin));\n      }\n\n      var count = maxTick - minTick;\n      var avg = Math.ceil(count / tickCount);\n      var ticks = [];\n\n      for (var i = minTick; i < maxTick + avg; i = i + avg) {\n        ticks.push(Math.pow(base, i));\n      }\n\n      if (min <= 0) {\n        // 最小值 <= 0 时显示 0\n        ticks.unshift(0);\n      }\n\n      return ticks;\n    }\n\n    function pretty(min, max, n) {\n      if (n === void 0) {\n        n = 5;\n      }\n\n      var res = {\n        max: 0,\n        min: 0,\n        ticks: []\n      };\n\n      if (min === max) {\n        return {\n          max: max,\n          min: min,\n          ticks: [min]\n        };\n      }\n      /*\n        R pretty:\n        https://svn.r-project.org/R/trunk/src/appl/pretty.c\n        https://www.rdocumentation.org/packages/base/versions/3.5.2/topics/pretty\n        */\n\n\n      var h = 1.5; // high.u.bias\n\n      var h5 = 0.5 + 1.5 * h; // u5.bias\n      // 反正我也不会调参，跳过所有判断步骤\n\n      var d = max - min;\n      var c = d / n; // 当d非常小的时候触发，但似乎没什么用\n      // const min_n = Math.floor(n / 3);\n      // const shrink_sml = Math.pow(2, 5);\n      // if (Math.log10(d) < -2) {\n      //   c = (_.max([ Math.abs(max), Math.abs(min) ]) * shrink_sml) / min_n;\n      // }\n\n      var base = Math.pow(10, Math.floor(Math.log10(c)));\n      var toFixed = base < 1 ? Math.ceil(Math.abs(Math.log10(base))) : 0;\n      var unit = base;\n\n      if (2 * base - c < h * (c - unit)) {\n        unit = 2 * base;\n\n        if (5 * base - c < h5 * (c - unit)) {\n          unit = 5 * base;\n\n          if (10 * base - c < h * (c - unit)) {\n            unit = 10 * base;\n          }\n        }\n      }\n\n      var nu = Math.ceil(max / unit);\n      var ns = Math.floor(min / unit);\n      res.max = Math.max(nu * unit, max);\n      res.min = Math.min(ns * unit, min);\n      var x = Number.parseFloat((ns * unit).toFixed(toFixed));\n\n      while (x < max) {\n        res.ticks.push(x);\n        x += unit;\n\n        if (toFixed) {\n          x = Number.parseFloat(x.toFixed(toFixed));\n        }\n      }\n\n      res.ticks.push(x);\n      return res;\n    }\n\n    /**\n     * 计算 Pow 的 ticks\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculatePowTicks(cfg) {\n      var exponent = cfg.exponent,\n          tickCount = cfg.tickCount;\n      var max = Math.ceil(calBase(exponent, cfg.max));\n      var min = Math.floor(calBase(exponent, cfg.min));\n      var ticks = pretty(min, max, tickCount).ticks;\n      return ticks.map(function (tick) {\n        var factor = tick >= 0 ? 1 : -1;\n        return Math.pow(tick, exponent) * factor;\n      });\n    }\n\n    /**\n     * 计算几分位 https://github.com/simple-statistics/simple-statistics/blob/master/src/quantile_sorted.js\n     * @param x  数组\n     * @param p  百分比\n     */\n    function quantileSorted(x, p) {\n      var idx = x.length * p;\n      /*if (x.length === 0) { // 当前场景这些条件不可能命中\n        throw new Error('quantile requires at least one value.');\n      } else if (p < 0 || p > 1) {\n        throw new Error('quantiles must be between 0 and 1');\n      } else */\n\n      if (p === 1) {\n        // If p is 1, directly return the last element\n        return x[x.length - 1];\n      } else if (p === 0) {\n        // If p is 0, directly return the first element\n        return x[0];\n      } else if (idx % 1 !== 0) {\n        // If p is not integer, return the next element in array\n        return x[Math.ceil(idx) - 1];\n      } else if (x.length % 2 === 0) {\n        // If the list has even-length, we'll take the average of this number\n        // and the next value, if there is one\n        return (x[idx - 1] + x[idx]) / 2;\n      } else {\n        // Finally, in the simple case of an integer value\n        // with an odd-length list, return the x value at the index.\n        return x[idx];\n      }\n    }\n\n    function calculateTicks(cfg) {\n      var tickCount = cfg.tickCount,\n          values = cfg.values;\n\n      if (!values || !values.length) {\n        return [];\n      }\n\n      var sorted = values.slice().sort(function (a, b) {\n        return a - b;\n      });\n      var ticks = [];\n\n      for (var i = 0; i < tickCount; i++) {\n        var p = i / (tickCount - 1);\n        ticks.push(quantileSorted(sorted, p));\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算线性的 ticks，使用 R's pretty 方法\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function linearPretty(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          tickCount = cfg.tickCount,\n          tickInterval = cfg.tickInterval,\n          minLimit = cfg.minLimit,\n          maxLimit = cfg.maxLimit;\n      var ticks = pretty(min, max, tickCount).ticks;\n\n      if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n      }\n\n      if (tickInterval) {\n        return intervalTicks(min, max, tickInterval).ticks;\n      }\n\n      return ticks;\n    }\n\n    function calculateTimeTicks(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          minTickInterval = cfg.minTickInterval;\n      var tickInterval = cfg.tickInterval;\n      var tickCount = cfg.tickCount; // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n\n      if (tickInterval) {\n        tickCount = Math.ceil((max - min) / tickInterval);\n      } else {\n        tickInterval = getTickInterval(min, max, tickCount)[1];\n        var count = (max - min) / tickInterval;\n        var ratio = count / tickCount;\n\n        if (ratio > 1) {\n          tickInterval = tickInterval * Math.ceil(ratio);\n        } // 如果设置了最小间距，则使用最小间距\n\n\n        if (minTickInterval && tickInterval < minTickInterval) {\n          tickInterval = minTickInterval;\n        }\n      }\n\n      var ticks = [];\n\n      for (var i = min; i < max + tickInterval; i += tickInterval) {\n        ticks.push(i);\n      }\n\n      return ticks;\n    }\n\n    /**\n     * 计算时间分类的 ticks, 保头，保尾\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n    function calculateTimeCatTicks(cfg) {\n      var ticks = calculateCatTicks(cfg);\n      var lastValue = last(cfg.values);\n\n      if (lastValue !== last(ticks)) {\n        ticks.push(lastValue);\n      }\n\n      return ticks;\n    }\n\n    function getYear(date) {\n      return new Date(date).getFullYear();\n    }\n\n    function createYear(year) {\n      return new Date(year, 0, 1).getTime();\n    }\n\n    function getMonth(date) {\n      return new Date(date).getMonth();\n    }\n\n    function diffMonth(min, max) {\n      var minYear = getYear(min);\n      var maxYear = getYear(max);\n      var minMonth = getMonth(min);\n      var maxMonth = getMonth(max);\n      return (maxYear - minYear) * 12 + (maxMonth - minMonth) % 12;\n    }\n\n    function creatMonth(year, month) {\n      return new Date(year, month, 1).getTime();\n    }\n\n    function diffDay(min, max) {\n      return Math.ceil((max - min) / DAY);\n    }\n\n    function diffHour(min, max) {\n      return Math.ceil((max - min) / HOUR);\n    }\n\n    function diffMinus(min, max) {\n      return Math.ceil((max - min) / (60 * 1000));\n    }\n    /**\n     * 计算 time 的 ticks，对 month, year 进行 pretty 处理\n     * @param cfg 度量的配置项\n     * @returns 计算后的 ticks\n     */\n\n\n    function timePretty(cfg) {\n      var min = cfg.min,\n          max = cfg.max,\n          minTickInterval = cfg.minTickInterval,\n          tickCount = cfg.tickCount;\n      var tickInterval = cfg.tickInterval;\n      var ticks = []; // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n\n      if (!tickInterval) {\n        tickInterval = (max - min) / tickCount; // 如果设置了最小间距，则使用最小间距\n\n        if (minTickInterval && tickInterval < minTickInterval) {\n          tickInterval = minTickInterval;\n        }\n      }\n\n      var minYear = getYear(min); // 如果间距大于 1 年，则将开始日期从整年开始\n\n      if (tickInterval > YEAR) {\n        var maxYear = getYear(max);\n        var yearInterval = Math.ceil(tickInterval / YEAR);\n\n        for (var i = minYear; i <= maxYear + yearInterval; i = i + yearInterval) {\n          ticks.push(createYear(i));\n        }\n      } else if (tickInterval > MONTH) {\n        // 大于月时\n        var monthInterval = Math.ceil(tickInterval / MONTH);\n        var mmMoth = getMonth(min);\n        var dMonths = diffMonth(min, max);\n\n        for (var i = 0; i <= dMonths + monthInterval; i = i + monthInterval) {\n          ticks.push(creatMonth(minYear, i + mmMoth));\n        }\n      } else if (tickInterval > DAY) {\n        // 大于天\n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var mday = date.getDate();\n        var day = Math.ceil(tickInterval / DAY);\n        var ddays = diffDay(min, max);\n\n        for (var i = 0; i < ddays + day; i = i + day) {\n          ticks.push(new Date(year, month, mday + i).getTime());\n        }\n      } else if (tickInterval > HOUR) {\n        // 大于小时\n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var day = date.getDate();\n        var hour = date.getHours();\n        var hours = Math.ceil(tickInterval / HOUR);\n        var dHours = diffHour(min, max);\n\n        for (var i = 0; i <= dHours + hours; i = i + hours) {\n          ticks.push(new Date(year, month, day, hour + i).getTime());\n        }\n      } else if (tickInterval > MINUTE) {\n        // 大于分钟\n        var dMinus = diffMinus(min, max);\n        var minutes = Math.ceil(tickInterval / MINUTE);\n\n        for (var i = 0; i <= dMinus + minutes; i = i + minutes) {\n          ticks.push(min + i * MINUTE);\n        }\n      } else {\n        // 小于分钟\n        var interval = tickInterval;\n\n        if (interval < SECOND) {\n          interval = SECOND;\n        }\n\n        var minSecond = Math.floor(min / SECOND) * SECOND;\n        var dSeconds = Math.ceil((max - min) / SECOND);\n        var seconds = Math.ceil(interval / SECOND);\n\n        for (var i = 0; i < dSeconds + seconds; i = i + seconds) {\n          ticks.push(minSecond + i * SECOND);\n        }\n      } // 最好是能从算法能解决这个问题，但是如果指定了 tickInterval，计算 ticks，也只能这么算，所以\n      // 打印警告提示\n\n\n      if (ticks.length >= 512) {\n        console.warn(\"Notice: current ticks length(\" + ticks.length + \") >= 512, may cause performance issues, even out of memory. Because of the configure \\\"tickInterval\\\"(in milliseconds, current is \" + tickInterval + \") is too small, increase the value to solve the problem!\");\n      }\n\n      return ticks;\n    }\n\n    registerTickMethod('cat', calculateCatTicks);\n    registerTickMethod('time-cat', calculateTimeCatTicks);\n    registerTickMethod('wilkinson-extended', linear);\n    registerTickMethod('r-pretty', linearPretty);\n    registerTickMethod('time', calculateTimeTicks);\n    registerTickMethod('time-pretty', timePretty);\n    registerTickMethod('log', calculateLogTicks);\n    registerTickMethod('pow', calculatePowTicks);\n    registerTickMethod('quantile', calculateTicks);\n    registerTickMethod('d3-linear', d3LinearTickMethod);\n\n    registerClass('cat', Category);\n    registerClass('category', Category);\n    registerClass('identity', Identity);\n    registerClass('linear', Linear);\n    registerClass('log', Log);\n    registerClass('pow', Pow);\n    registerClass('time', Time);\n    registerClass('timeCat', TimeCat);\n    registerClass('quantize', Quantize);\n    registerClass('quantile', Quantile);\n\n    // cat平均算法，保头保尾\n    var CatTick = (function (cfg) {\n      var values = cfg.values,\n          tickCount = cfg.tickCount;\n\n      if (!tickCount) {\n        return values;\n      }\n\n      if (values.length <= 1) {\n        return values;\n      } // 获取间隔步长, 最小是1\n\n\n      var step = parseInt(values.length / (tickCount - 1)) || 1;\n      var ticks = []; // 按间隔数取对应节点\n\n      for (var index = 0; index < values.length; index = index + step) {\n        ticks.push(values[index]);\n      }\n\n      var last = values[values.length - 1]; // 如果最后一个tick不等于原数据的最后一个\n\n      if (ticks[ticks.length - 1] !== last) {\n        if (ticks.length >= tickCount) {\n          // 如果当前的tick个数满足要求\n          ticks[ticks.length - 1] = last;\n        } else {\n          // 不满足tickCount则直接加入最后一个\n          ticks.push(last);\n        }\n      }\n\n      return ticks;\n    });\n\n    // 认为是nice的刻度\n    var SNAP_COUNT_ARRAY = [1, 1.2, 1.5, 2, 2.2, 2.4, 2.5, 3, 4, 5, 6, 7.5, 8, 10];\n    var DEFAULT_COUNT$1 = 5; // 默认刻度值\n\n    var LinearTick = (function (cfg) {\n      var _ref = cfg || {},\n          tickCount = _ref.tickCount,\n          tickInterval = _ref.tickInterval;\n\n      var _ref2 = cfg || {},\n          min = _ref2.min,\n          max = _ref2.max;\n\n      min = isNaN(min) ? 0 : min;\n      max = isNaN(max) ? 0 : max;\n      var count = tickCount && tickCount >= 2 ? tickCount : DEFAULT_COUNT$1; // 计算interval， 优先取tickInterval\n\n      var interval = tickInterval || getBestInterval({\n        tickCount: count,\n        max: max,\n        min: min\n      }); // 通过interval计算最小tick\n\n      var minTick = Math.floor(min / interval) * interval; // 如果指定了tickInterval, count 需要根据指定的tickInterval来算计\n\n      if (tickInterval) {\n        var intervalCount = Math.abs(Math.ceil((max - minTick) / tickInterval)) + 1; // tickCount 作为最小 count 处理\n\n        count = Math.max(count, intervalCount);\n      }\n\n      var ticks = [];\n      var tickLength = 0;\n      var fixedLength = getFixedLength(interval);\n\n      while (tickLength < count) {\n        ticks.push(toFixed(minTick + tickLength * interval, fixedLength));\n        tickLength++;\n      }\n\n      return ticks;\n    });\n    var DECIMAL_LENGTH = 12;\n\n    function getFactor(number) {\n      // 取正数\n      number = Math.abs(number);\n      var factor = 1;\n\n      if (number === 0) {\n        return factor;\n      } // 小于1,逐渐放大\n\n\n      if (number < 1) {\n        var count = 0;\n\n        while (number < 1) {\n          factor = factor / 10;\n          number = number * 10;\n          count++;\n        } // 浮点数计算出现问题\n\n\n        if (factor.toString().length > DECIMAL_LENGTH) {\n          factor = parseFloat(factor.toFixed(count));\n        }\n\n        return factor;\n      } // 大于10逐渐缩小\n\n\n      while (number > 10) {\n        factor = factor * 10;\n        number = number / 10;\n      }\n\n      return factor;\n    } // 获取最佳匹配刻度\n\n\n    function getBestInterval(_ref3) {\n      var tickCount = _ref3.tickCount,\n          min = _ref3.min,\n          max = _ref3.max;\n\n      // 如果最大最小相等，则直接按1处理\n      if (min === max) {\n        return 1 * getFactor(max);\n      } // 1.计算平均刻度\b间隔\n\n\n      var avgInterval = (max - min) / (tickCount - 1); // 2.数据标准归一化 映射到[1-10]区间\n\n      var factor = getFactor(avgInterval);\n      var calInterval = avgInterval / factor;\n      var calMax = max / factor;\n      var calMin = min / factor; // 根据平均值推算最逼近刻度值\n\n      var similarityIndex = 0;\n\n      for (var index = 0; index < SNAP_COUNT_ARRAY.length; index++) {\n        var item = SNAP_COUNT_ARRAY[index];\n\n        if (calInterval <= item) {\n          similarityIndex = index;\n          break;\n        }\n      }\n\n      var similarityInterval = getInterval(similarityIndex, tickCount, calMin, calMax); // 小数点位数还原到数据的位数, 因为similarityIndex有可能是小数，所以需要保留similarityIndex自己的小数位数\n\n      var fixedLength = getFixedLength(similarityInterval) + getFixedLength(factor);\n      return toFixed(similarityInterval * factor, fixedLength);\n    }\n\n    function getInterval(startIndex, tickCount, min, max) {\n      var verify = false;\n      var interval = SNAP_COUNT_ARRAY[startIndex]; // 刻度值校验，如果不满足，循环下去\n\n      for (var i = startIndex; i < SNAP_COUNT_ARRAY.length; i++) {\n        if (intervalIsVerify({\n          interval: SNAP_COUNT_ARRAY[i],\n          tickCount: tickCount,\n          max: max,\n          min: min\n        })) {\n          // 有符合条件的interval\n          interval = SNAP_COUNT_ARRAY[i];\n          verify = true;\n          break;\n        }\n      } // 如果不满足, 依次缩小10倍，再计算\n\n\n      if (!verify) {\n        return 10 * getInterval(0, tickCount, min / 10, max / 10);\n      }\n\n      return interval;\n    } // 刻度是否满足展示需求\n\n\n    function intervalIsVerify(_ref4) {\n      var interval = _ref4.interval,\n          tickCount = _ref4.tickCount,\n          max = _ref4.max,\n          min = _ref4.min;\n      var minTick = Math.floor(min / interval) * interval;\n\n      if (minTick + (tickCount - 1) * interval >= max) {\n        return true;\n      }\n\n      return false;\n    } // 计算小数点应该保留的位数\n\n\n    function getFixedLength(num) {\n      var str = num.toString();\n      var index = str.indexOf('.');\n      var indexOfExp = str.indexOf('e-');\n      var length = indexOfExp >= 0 ? parseInt(str.substr(indexOfExp + 2), 10) : str.substr(index + 1).length;\n\n      if (length > 20) {\n        // 最多保留20位小数\n        length = 20;\n      }\n\n      return length;\n    } // @antv/util fixedbase不支持科学计数法的判断，需要提mr\n\n\n    function toFixed(v, length) {\n      return parseFloat(v.toFixed(length));\n    }\n\n    var Linear$1 = getClass('linear');\n    var Identity$1 = getClass('identity');\n    var Category$1 = getClass('category');\n    var TimeCat$1 = getClass('timeCat'); // 覆盖0.3.x的 cat 方法\n\n    registerTickMethod('cat', CatTick);\n    registerTickMethod('time-cat', CatTick); // 覆盖linear 度量的tick算法\n\n    registerTickMethod('wilkinson-extended', LinearTick);\n    Scale.Linear = Linear$1;\n    Scale.Identity = Identity$1;\n    Scale.Category = Category$1;\n    Scale.Cat = Category$1;\n    Scale.TimeCat = TimeCat$1;\n\n    function isFullCircle(coord) {\n      if (!coord.isPolar) {\n        return false;\n      }\n\n      var startAngle = coord.startAngle;\n      var endAngle = coord.endAngle;\n\n      if (!isNil(startAngle) && !isNil(endAngle) && endAngle - startAngle < Math.PI * 2) {\n        return false;\n      }\n\n      return true;\n    }\n\n    function clearObj(obj) {\n      Object.keys(obj).forEach(function (key) {\n        delete obj[key];\n      });\n    }\n\n    var ScaleController = /*#__PURE__*/function () {\n      function ScaleController(cfg) {\n        // defs 列定义\n        this.defs = {}; // 已经实例化的scale\n\n        this.scales = {};\n        mix(this, cfg);\n      }\n\n      var _proto = ScaleController.prototype;\n\n      _proto.setFieldDef = function setFieldDef(field, cfg) {\n        var defs = this.defs;\n\n        if (isObject(field)) {\n          mix(defs, field);\n        } else {\n          defs[field] = cfg;\n        } // 因为可能同时变更多个scale，所以要把所有已实例化的scale都更新下\n\n\n        this.updateScales();\n      };\n\n      _proto._getDef = function _getDef(field) {\n        var defs = this.defs;\n        var def = null;\n\n        if (Global.scales[field] || defs[field]) {\n          def = mix({}, Global.scales[field]);\n          each(defs[field], function (v, k) {\n            if (isNil(v)) {\n              delete def[k];\n            } else {\n              def[k] = v;\n            }\n          });\n        }\n\n        return def;\n      };\n\n      _proto._getDefaultType = function _getDefaultType(field, data, def) {\n        if (def && def.type) {\n          return def.type;\n        }\n\n        var type = 'linear';\n        var value = firstValue(data, field);\n\n        if (isArray(value)) {\n          value = value[0];\n        }\n\n        if (isString(value)) {\n          type = 'cat';\n        }\n\n        return type;\n      };\n\n      _proto._getScaleDef = function _getScaleDef(type, field, data, def) {\n        var values$1;\n\n        if (def && def.values) {\n          values$1 = def.values;\n        } else {\n          values$1 = values(data, field);\n        }\n\n        var cfg = {\n          field: field,\n          values: values$1\n        };\n\n        if (type !== 'cat' && type !== 'timeCat') {\n          if (!def || !(def.min && def.max)) {\n            var _Array$getRange = getRange$1(values$1),\n                min = _Array$getRange.min,\n                max = _Array$getRange.max;\n\n            cfg.min = min;\n            cfg.max = max;\n            cfg.nice = true;\n          }\n        } else {\n          cfg.isRounding = false; // used for tickCount calculation\n        }\n\n        return cfg;\n      } // 调整range，为了让图形居中\n      ;\n\n      _proto._adjustRange = function _adjustRange(type, cfg) {\n        var range = cfg.range,\n            values = cfg.values; // 如果是线性, 或者有自定义range都不处理\n\n        if (type === 'linear' || range || !values) {\n          return cfg;\n        }\n\n        var count = values.length; // 单只有一条数据时，在中间显示\n\n        if (count === 1) {\n          cfg.range = [0.5, 1];\n        } else {\n          var chart = this.chart;\n          var coord = chart.get('coord');\n          var widthRatio = Global.widthRatio.multiplePie;\n          var offset = 0;\n\n          if (isFullCircle(coord)) {\n            if (!coord.transposed) {\n              cfg.range = [0, 1 - 1 / count];\n            } else {\n              offset = 1 / count * widthRatio;\n              cfg.range = [offset / 2, 1 - offset / 2];\n            }\n          } else {\n            // 为了让图形居中，所以才设置range\n            offset = 1 / count * 0.5; // 这里可能用0.25会更合理\n\n            cfg.range = [offset, 1 - offset];\n          }\n        }\n\n        return cfg;\n      };\n\n      _proto._getScaleCfg = function _getScaleCfg(field, data) {\n        var self = this;\n\n        var def = self._getDef(field);\n\n        if (!data || !data.length) {\n          if (def && def.type) {\n            def.field = field;\n            return {\n              type: def.type,\n              cfg: def\n            };\n          }\n\n          return {\n            type: 'identity',\n            cfg: {\n              value: field,\n              field: field.toString(),\n              values: [field]\n            }\n          };\n        }\n\n        var firstObj = data[0];\n        var firstValue$1 = firstObj[field];\n\n        if (firstValue$1 === null) {\n          firstValue$1 = firstValue(data, field);\n        }\n\n        if (isNumber(field) || isNil(firstValue$1) && !def) {\n          return {\n            type: 'identity',\n            cfg: {\n              value: field,\n              field: field.toString(),\n              values: [field]\n            }\n          };\n        }\n\n        var type = self._getDefaultType(field, data, def);\n\n        var cfg = self._getScaleDef(type, field, data, def);\n\n        def && mix(cfg, def);\n        cfg = this._adjustRange(type, cfg);\n        return {\n          type: type,\n          cfg: cfg\n        };\n      };\n\n      _proto.createScale = function createScale(field, data) {\n        var scales = this.scales;\n\n        var _this$_getScaleCfg = this._getScaleCfg(field, data),\n            type = _this$_getScaleCfg.type,\n            cfg = _this$_getScaleCfg.cfg;\n\n        var scale = scales[field]; // 如果已经存在，且类型相等时直接返回\n\n        if (scale && scale.type === type) {\n          scale.change(cfg);\n          return scale;\n        }\n\n        var Scale = getClass(type);\n        var newScale = new Scale(cfg);\n        scales[field] = newScale;\n        return newScale;\n      };\n\n      _proto._updateScale = function _updateScale(scale) {\n        var field = scale.field; // 因为每个field的数据都会不同\n\n        var data = this.chart._getScaleData(field);\n\n        var _this$_getScaleCfg2 = this._getScaleCfg(field, data),\n            cfg = _this$_getScaleCfg2.cfg;\n\n        scale.change(cfg);\n      };\n\n      _proto.updateScales = function updateScales() {\n        var _this = this;\n\n        var scales = this.scales; // 修改完列定义后，需要更新已经实例化的scale\n        // 如果是还没有实例化的，在geom初始化的时候会被实例化，所以这里可以不用更新\n\n        each(scales, function (scale) {\n          _this._updateScale(scale);\n        });\n      } // 调整scale从0开始\n      ;\n\n      _proto.adjustStartZero = function adjustStartZero(scale) {\n        var defs = this.defs;\n        var field = scale.field,\n            min = scale.min,\n            max = scale.max; // 如果有定义，则不处理\n\n        if (defs[field] && defs[field].min) {\n          return;\n        }\n\n        if (min > 0) {\n          scale.change({\n            min: 0\n          });\n        } else if (max < 0) {\n          scale.change({\n            max: 0\n          });\n        }\n      };\n\n      _proto.clear = function clear() {\n        // this.defs = {};\n        // this.scales = {};\n        clearObj(this.defs);\n        clearObj(this.scales);\n        this.data = null;\n      };\n\n      return ScaleController;\n    }();\n\n    var Abastract = /*#__PURE__*/function () {\n      var _proto = Abastract.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        /**\n         * ticks\n         * @type {Array}\n         */\n        this.ticks = [];\n        /**\n         * the configuration for tickLine\n         * @type {Object}\n         */\n\n        this.tickLine = {};\n        /**\n         * the direction of ticks, 1 means clockwise\n         * @type {Number}\n         */\n\n        this.offsetFactor = 1;\n        /**\n         * the top container\n         * @type {container}\n         */\n\n        this.frontContainer = null;\n        /**\n         * the back container\n         * @type {[type]}\n         */\n\n        this.backContainer = null;\n        /**\n         * points for draw grid line\n         * @type {Array}\n         */\n\n        this.gridPoints = [];\n      };\n\n      function Abastract(cfg) {\n        this._initDefaultCfg();\n\n        mix(this, cfg);\n        this.draw();\n      }\n\n      _proto.draw = function draw() {\n        var line = this.line,\n            tickLine = this.tickLine,\n            label = this.label,\n            grid = this.grid;\n        grid && this.drawGrid(grid); // draw the grid lines\n\n        tickLine && this.drawTicks(tickLine); // draw the tickLine\n\n        line && this.drawLine(line); // draw axis line\n\n        label && this.drawLabels(); // draw ticks\n      };\n\n      _proto.drawTicks = function drawTicks(tickCfg) {\n        var self = this;\n        var ticks = self.ticks;\n        var length = tickCfg.length;\n        var container = self.getContainer(tickCfg.top);\n        each(ticks, function (tick) {\n          var start = self.getOffsetPoint(tick.value);\n          var end = self.getSidePoint(start, length);\n          var shape = container.addShape('line', {\n            className: 'axis-tick',\n            attrs: mix({\n              x1: start.x,\n              y1: start.y,\n              x2: end.x,\n              y2: end.y\n            }, tickCfg)\n          });\n          shape._id = self._id + '-ticks';\n        });\n      };\n\n      _proto.drawLabels = function drawLabels() {\n        var self = this;\n        var labelOffset = self.labelOffset;\n        var labels = self.labels;\n        each(labels, function (labelShape) {\n          var container = self.getContainer(labelShape.get('top'));\n          var start = self.getOffsetPoint(labelShape.get('value'));\n\n          var _self$getSidePoint = self.getSidePoint(start, labelOffset),\n              x = _self$getSidePoint.x,\n              y = _self$getSidePoint.y;\n\n          labelShape.attr(mix({\n            x: x,\n            y: y\n          }, self.getTextAlignInfo(start, labelOffset), labelShape.get('textStyle')));\n          labelShape._id = self._id + '-' + labelShape.attr('text');\n          container.add(labelShape);\n        });\n      };\n\n      _proto.drawLine = function drawLine() {};\n\n      _proto.drawGrid = function drawGrid(grid) {\n        var self = this;\n        var gridPoints = self.gridPoints,\n            ticks = self.ticks;\n        var gridCfg = grid;\n        var count = gridPoints.length;\n        each(gridPoints, function (subPoints, index) {\n          if (isFunction(grid)) {\n            var tick = ticks[index] || {};\n            var executedGrid = grid(tick.text, index, count);\n            gridCfg = executedGrid ? mix({}, Global._defaultAxis.grid, executedGrid) : null;\n          }\n\n          if (gridCfg) {\n            var type = gridCfg.type; // has two types: 'line' and 'arc'\n\n            var points = subPoints.points;\n            var container = self.getContainer(gridCfg.top);\n            var shape;\n\n            if (type === 'arc') {\n              var center = self.center,\n                  startAngle = self.startAngle,\n                  endAngle = self.endAngle;\n              var radius = Vector2.length([points[0].x - center.x, points[0].y - center.y]);\n              shape = container.addShape('Arc', {\n                className: 'axis-grid',\n                attrs: mix({\n                  x: center.x,\n                  y: center.y,\n                  startAngle: startAngle,\n                  endAngle: endAngle,\n                  r: radius\n                }, gridCfg)\n              });\n            } else {\n              shape = container.addShape('Polyline', {\n                className: 'axis-grid',\n                attrs: mix({\n                  points: points\n                }, gridCfg)\n              });\n            }\n\n            shape._id = subPoints._id;\n          }\n        });\n      };\n\n      _proto.getOffsetPoint = function getOffsetPoint() {};\n\n      _proto.getAxisVector = function getAxisVector() {};\n\n      _proto.getOffsetVector = function getOffsetVector(point, offset) {\n        var self = this;\n        var axisVector = self.getAxisVector(point);\n        var normal = Vector2.normalize([], axisVector);\n        var factor = self.offsetFactor;\n        var verticalVector = [normal[1] * -1 * factor, normal[0] * factor];\n        return Vector2.scale([], verticalVector, offset);\n      };\n\n      _proto.getSidePoint = function getSidePoint(point, offset) {\n        var self = this;\n        var offsetVector = self.getOffsetVector(point, offset);\n        return {\n          x: point.x + offsetVector[0],\n          y: point.y + offsetVector[1]\n        };\n      };\n\n      _proto.getTextAlignInfo = function getTextAlignInfo(point, offset) {\n        var self = this;\n        var offsetVector = self.getOffsetVector(point, offset);\n        var align;\n        var baseLine;\n\n        if (offsetVector[0] > 0) {\n          align = 'left';\n        } else if (offsetVector[0] < 0) {\n          align = 'right';\n        } else {\n          align = 'center';\n        }\n\n        if (offsetVector[1] > 0) {\n          baseLine = 'top';\n        } else if (offsetVector[1] < 0) {\n          baseLine = 'bottom';\n        } else {\n          baseLine = 'middle';\n        }\n\n        return {\n          textAlign: align,\n          textBaseline: baseLine\n        };\n      };\n\n      _proto.getContainer = function getContainer(isTop) {\n        var frontContainer = this.frontContainer,\n            backContainer = this.backContainer;\n        return isTop ? frontContainer : backContainer;\n      };\n\n      return Abastract;\n    }();\n\n    var Line = /*#__PURE__*/function (_Abstract) {\n      _inheritsLoose(Line, _Abstract);\n\n      function Line() {\n        return _Abstract.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        _Abstract.prototype._initDefaultCfg.call(this);\n\n        this.start = null;\n        this.end = null;\n      };\n\n      _proto.getOffsetPoint = function getOffsetPoint(value) {\n        var start = this.start,\n            end = this.end;\n        return {\n          x: start.x + (end.x - start.x) * value,\n          y: start.y + (end.y - start.y) * value\n        };\n      };\n\n      _proto.getAxisVector = function getAxisVector() {\n        var start = this.start,\n            end = this.end;\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      _proto.drawLine = function drawLine(lineCfg) {\n        var container = this.getContainer(lineCfg.top);\n        var start = this.start,\n            end = this.end;\n        container.addShape('line', {\n          className: 'axis-line',\n          attrs: mix({\n            x1: start.x,\n            y1: start.y,\n            x2: end.x,\n            y2: end.y\n          }, lineCfg)\n        });\n      };\n\n      return Line;\n    }(Abastract);\n\n    Abastract.Line = Line;\n\n    var calcDirection = function calcDirection(start, end) {\n      var xDistance = end.x - start.x;\n      var yDistance = end.y - start.y; // x 的距离大于y 说明是横向，否则就是纵向\n\n      if (Math.abs(xDistance) > Math.abs(yDistance)) {\n        return xDistance > 0 ? 'right' : 'left';\n      }\n\n      return yDistance > 0 ? 'down' : 'up';\n    }; // 计算2点之间的距离\n\n\n    var calcDistance = function calcDistance(point1, point2) {\n      var xDistance = Math.abs(point2.x - point1.x);\n      var yDistance = Math.abs(point2.y - point1.y);\n      return Math.sqrt(xDistance * xDistance + yDistance * yDistance);\n    };\n\n    var getCenter = function getCenter(point1, point2) {\n      var x = point1.x + (point2.x - point1.x) / 2;\n      var y = point1.y + (point2.y - point1.y) / 2;\n      return {\n        x: x,\n        y: y\n      };\n    };\n\n    var convertPoints = function convertPoints(ev, canvas) {\n      var touches = ev.touches; // 认为是mouse事件\n\n      if (!touches) {\n        var point = getRelativePosition({\n          x: ev.clientX,\n          y: ev.clientY\n        }, canvas);\n        return [point];\n      }\n\n      var points = [];\n      var len = touches.length;\n\n      for (var i = 0; i < len; i++) {\n        var touch = touches[i]; // x, y: 相对canvas原点的位置，clientX, clientY 相对于可视窗口的位置\n\n        var x = touch.x,\n            y = touch.y,\n            clientX = touch.clientX,\n            clientY = touch.clientY;\n\n        var _point = void 0; // 小程序环境会有x,y\n\n\n        if (isNumber(x) || isNumber(y)) {\n          _point = {\n            x: x,\n            y: y\n          };\n        } else {\n          // 浏览器环境再计算下canvas的相对位置\n          _point = getRelativePosition({\n            x: clientX,\n            y: clientY\n          }, canvas);\n        }\n\n        points.push(_point);\n      }\n\n      return points;\n    };\n\n    var PRESS_DELAY = 250;\n\n    var EventController = /*#__PURE__*/function () {\n      function EventController(_ref) {\n        var _this = this;\n\n        var canvas = _ref.canvas,\n            el = _ref.el;\n\n        _defineProperty(this, \"_click\", function (ev) {\n          var points = convertPoints(ev, _this.canvas);\n          ev.points = points;\n\n          _this.emitEvent('click', ev);\n        });\n\n        _defineProperty(this, \"_start\", function (ev) {\n          var points = convertPoints(ev, _this.canvas);\n\n          if (!points) {\n            return;\n          }\n\n          ev.points = points;\n\n          _this.emitEvent('touchstart', ev); // 防止上次的内容没有清理掉，重新reset下\n\n\n          _this.reset(); // 记录touch start 的时间\n\n\n          _this.startTime = Date.now(); // 记录touch start 的点\n\n          _this.startPoints = points;\n\n          if (points.length > 1) {\n            _this.startDistance = calcDistance(points[0], points[1]);\n            _this.center = getCenter(points[0], points[1]);\n          } else {\n            // 如果touchstart后停顿250ms, 则也触发press事件\n            _this.pressTimeout = setTimeout(function () {\n              // 这里固定触发press事件\n              var eventType = 'press';\n              var direction = 'none';\n              ev.direction = direction;\n\n              _this.emitStart(eventType, ev);\n\n              _this.emitEvent(eventType, ev);\n\n              _this.eventType = eventType;\n              _this.direction = direction;\n            }, PRESS_DELAY);\n          }\n        });\n\n        _defineProperty(this, \"_move\", function (ev) {\n          var points = convertPoints(ev, _this.canvas);\n          if (!points) return;\n\n          _this.clearPressTimeout();\n\n          ev.points = points;\n\n          _this.emitEvent('touchmove', ev);\n\n          var startPoints = _this.startPoints;\n          if (!startPoints) return; // 多指触控\n\n          if (points.length > 1) {\n            // touchstart的距离\n            var startDistance = _this.startDistance;\n            var currentDistance = calcDistance(points[0], points[1]);\n            ev.zoom = currentDistance / startDistance;\n            ev.center = _this.center; // 触发缩放事件\n\n            _this.emitStart('pinch', ev);\n\n            _this.emitEvent('pinch', ev);\n          } else {\n            var deltaX = points[0].x - startPoints[0].x;\n            var deltaY = points[0].y - startPoints[0].y;\n            var direction = _this.direction || calcDirection(startPoints[0], points[0]);\n            _this.direction = direction; // 获取press或者pan的事件类型\n            // press 按住滑动, pan表示平移\n            // 如果start后立刻move，则触发pan, 如果有停顿，则触发press\n\n            var eventType = _this.getEventType(points);\n\n            ev.direction = direction;\n            ev.deltaX = deltaX;\n            ev.deltaY = deltaY;\n\n            _this.emitStart(eventType, ev);\n\n            _this.emitEvent(eventType, ev); // 记录最后2次move的时间和坐标，为了给swipe事件用\n\n\n            var prevMoveTime = _this.lastMoveTime;\n            var now = Date.now(); // 最后2次的时间间隔一定要大于0，否则swipe没发计算\n\n            if (now - prevMoveTime > 0) {\n              _this.prevMoveTime = prevMoveTime;\n              _this.prevMovePoints = _this.lastMovePoints;\n              _this.lastMoveTime = now;\n              _this.lastMovePoints = points;\n            }\n          }\n        });\n\n        _defineProperty(this, \"_end\", function (ev) {\n          _this.emitEnd(ev);\n\n          _this.emitEvent('touchend', ev); // swipe事件处理, 在touchend之后触发\n\n\n          var lastMoveTime = _this.lastMoveTime;\n          var now = Date.now(); // 做这个判断是为了最后一次touchmove后到end前，还有一个停顿的过程\n          // 100 是拍的一个值，理论这个值会很短，一般不卡顿的话在10ms以内\n\n          if (now - lastMoveTime < 100) {\n            var prevMoveTime = _this.prevMoveTime || _this.startTime;\n            var intervalTime = lastMoveTime - prevMoveTime; // 时间间隔一定要大于0, 否则计算没意义\n\n            if (intervalTime > 0) {\n              var prevMovePoints = _this.prevMovePoints || _this.startPoints;\n              var lastMovePoints = _this.lastMovePoints; // move速率\n\n              var velocity = calcDistance(prevMovePoints[0], lastMovePoints[0]) / intervalTime; // 0.3 是参考hammerjs的设置\n\n              if (velocity > 0.3) {\n                ev.velocity = velocity;\n                ev.direction = calcDirection(prevMovePoints[0], lastMovePoints[0]);\n\n                _this.emitEvent('swipe', ev);\n              }\n            }\n          }\n\n          _this.reset();\n\n          var touches = ev.touches; // 当多指只释放了1指时也会触发end, 这时重新触发一次start\n\n          if (touches && touches.length > 0) {\n            _this._start(ev);\n          }\n        });\n\n        _defineProperty(this, \"_cancel\", function (ev) {\n          _this.emitEvent('touchcancel', ev);\n\n          _this.reset();\n        });\n\n        // canvasEl\n        this.canvas = canvas;\n        this.delegateEvent(el); // 用来记录当前触发的事件\n\n        this.processEvent = {};\n      }\n\n      var _proto = EventController.prototype;\n\n      _proto.delegateEvent = function delegateEvent(canvasEl) {\n        // 代理这几个事件\n        canvasEl.addEventListener('click', this._click);\n        canvasEl.addEventListener('touchstart', this._start);\n        canvasEl.addEventListener('touchmove', this._move);\n        canvasEl.addEventListener('touchend', this._end);\n        canvasEl.addEventListener('touchcancel', this._cancel);\n      };\n\n      _proto.emitEvent = function emitEvent(type, ev) {\n        var canvas = this.canvas;\n        canvas.emit(type, ev);\n      };\n\n      _proto.getEventType = function getEventType(points) {\n        var eventType = this.eventType,\n            canvas = this.canvas,\n            startTime = this.startTime,\n            startPoints = this.startPoints;\n\n        if (eventType) {\n          return eventType;\n        }\n\n        var type;\n        var panEventListeners = canvas.__events.pan; // 如果没有pan事件的监听，默认都是press\n\n        if (!panEventListeners || !panEventListeners.length) {\n          type = 'press';\n        } else {\n          // 如果有pan事件的处理，press则需要停顿250ms, 且移动距离小于10\n          var now = Date.now();\n\n          if (now - startTime > PRESS_DELAY && calcDistance(startPoints[0], points[0]) < 10) {\n            type = 'press';\n          } else {\n            type = 'pan';\n          }\n        }\n\n        this.eventType = type;\n        return type;\n      };\n\n      _proto.enable = function enable(eventType) {\n        this.processEvent[eventType] = true;\n      } // 是否进行中的事件\n      ;\n\n      _proto.isProcess = function isProcess(eventType) {\n        return this.processEvent[eventType];\n      } // 触发start事件\n      ;\n\n      _proto.emitStart = function emitStart(type, ev) {\n        if (this.isProcess(type)) {\n          return;\n        }\n\n        this.enable(type);\n        this.emitEvent(type + \"start\", ev);\n      } // 触发end事件\n      ;\n\n      _proto.emitEnd = function emitEnd(ev) {\n        var _this2 = this;\n\n        var processEvent = this.processEvent;\n        Object.keys(processEvent).forEach(function (type) {\n          _this2.emitEvent(type + \"end\", ev);\n\n          delete processEvent[type];\n        });\n      };\n\n      _proto.clearPressTimeout = function clearPressTimeout() {\n        if (this.pressTimeout) {\n          clearTimeout(this.pressTimeout);\n          this.pressTimeout = 0;\n        }\n      };\n\n      _proto.reset = function reset() {\n        this.clearPressTimeout();\n        this.startTime = 0;\n        this.startPoints = null;\n        this.startDistance = 0;\n        this.direction = null;\n        this.eventType = null;\n        this.pinch = false;\n        this.prevMoveTime = 0;\n        this.prevMovePoints = null;\n        this.lastMoveTime = 0;\n        this.lastMovePoints = null;\n      };\n\n      return EventController;\n    }();\n\n    var CanvasElement = /*#__PURE__*/function (_EventEmit) {\n      _inheritsLoose(CanvasElement, _EventEmit);\n\n      function CanvasElement(ctx) {\n        var _this;\n\n        _this = _EventEmit.call(this) || this;\n        _this.context = ctx; // canvas实际的宽高 (width/height) * pixelRatio\n\n        _this.width = 0;\n        _this.height = 0;\n        _this.style = {};\n        _this.currentStyle = {}; // 用来标识是CanvasElement实例\n\n        _this.isCanvasElement = true;\n        return _this;\n      }\n\n      var _proto = CanvasElement.prototype;\n\n      _proto.getContext = function getContext()\n      /* type */\n      {\n        return this.context;\n      };\n\n      _proto.getBoundingClientRect = function getBoundingClientRect() {\n        var width = this.width;\n        var height = this.height; // 默认都处理成可视窗口的顶部位置\n\n        return {\n          top: 0,\n          right: width,\n          bottom: height,\n          left: 0\n        };\n      };\n\n      _proto.addEventListener = function addEventListener(type, listener) {\n        this.on(type, listener);\n      };\n\n      _proto.removeEventListener = function removeEventListener(type, listener) {\n        this.off(type, listener);\n      };\n\n      _proto.dispatchEvent = function dispatchEvent(type, e) {\n        this.emit(type, e);\n      };\n\n      return CanvasElement;\n    }(EventEmit);\n\n    function supportEventListener(canvas) {\n      if (!canvas) {\n        return false;\n      } // 非 HTMLCanvasElement\n\n\n      if (canvas.nodeType !== 1 || !canvas.nodeName || canvas.nodeName.toLowerCase() !== 'canvas') {\n        return false;\n      } // 微信小程序canvas.getContext('2d')时也是CanvasRenderingContext2D\n      // 也会有ctx.canvas, 而且nodeType也是1，所以还要在看下是否支持addEventListener\n\n\n      var support = false;\n\n      try {\n        canvas.addEventListener('eventTest', function () {\n          support = true;\n        });\n        canvas.dispatchEvent(new Event('eventTest'));\n      } catch (error) {\n        support = false;\n      }\n\n      return support;\n    }\n\n    var CanvasElement$1 = {\n      create: function create(ctx) {\n        if (!ctx) {\n          return null;\n        }\n\n        if (supportEventListener(ctx.canvas)) {\n          return ctx.canvas;\n        }\n\n        return new CanvasElement(ctx);\n      }\n    };\n\n    function _mod(n, m) {\n      return (n % m + m) % m;\n    }\n\n    function _addStop(steps, gradient) {\n      each(steps, function (item) {\n        item = item.split(':');\n        gradient.addColorStop(Number(item[0]), item[1]);\n      });\n    } // the string format: 'l(0) 0:#ffffff 0.5:#7ec2f3 1:#1890ff'\n\n\n    function _parseLineGradient(color, shape, context) {\n      var arr = color.split(' ');\n      var angle = arr[0].slice(2, arr[0].length - 1);\n      angle = _mod(parseFloat(angle) * Math.PI / 180, Math.PI * 2);\n      var steps = arr.slice(1);\n\n      var _shape$getBBox = shape.getBBox(),\n          minX = _shape$getBBox.minX,\n          minY = _shape$getBBox.minY,\n          maxX = _shape$getBBox.maxX,\n          maxY = _shape$getBBox.maxY;\n\n      var start;\n      var end;\n\n      if (angle >= 0 && angle < 0.5 * Math.PI) {\n        start = {\n          x: minX,\n          y: minY\n        };\n        end = {\n          x: maxX,\n          y: maxY\n        };\n      } else if (0.5 * Math.PI <= angle && angle < Math.PI) {\n        start = {\n          x: maxX,\n          y: minY\n        };\n        end = {\n          x: minX,\n          y: maxY\n        };\n      } else if (Math.PI <= angle && angle < 1.5 * Math.PI) {\n        start = {\n          x: maxX,\n          y: maxY\n        };\n        end = {\n          x: minX,\n          y: minY\n        };\n      } else {\n        start = {\n          x: minX,\n          y: maxY\n        };\n        end = {\n          x: maxX,\n          y: minY\n        };\n      }\n\n      var tanTheta = Math.tan(angle);\n      var tanTheta2 = tanTheta * tanTheta;\n      var x = (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.x;\n      var y = tanTheta * (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.y;\n      var gradient = context.createLinearGradient(start.x, start.y, x, y);\n\n      _addStop(steps, gradient);\n\n      return gradient;\n    } // the string format: 'r(0.5, 0.5, 0.1) 0:#ffffff 1:#1890ff'\n\n\n    function _parseRadialGradient(color, shape, context) {\n      var arr = color.split(' ');\n      var circleCfg = arr[0].slice(2, arr[0].length - 1);\n      circleCfg = circleCfg.split(',');\n      var fx = parseFloat(circleCfg[0]);\n      var fy = parseFloat(circleCfg[1]);\n      var fr = parseFloat(circleCfg[2]);\n      var steps = arr.slice(1); // if radius is 0, no gradient, stroke with the last color\n\n      if (fr === 0) {\n        var _color = steps[steps.length - 1];\n        return _color.split(':')[1];\n      }\n\n      var _shape$getBBox2 = shape.getBBox(),\n          width = _shape$getBBox2.width,\n          height = _shape$getBBox2.height,\n          minX = _shape$getBBox2.minX,\n          minY = _shape$getBBox2.minY;\n\n      var r = Math.sqrt(width * width + height * height) / 2;\n      var gradient = context.createRadialGradient(minX + width * fx, minY + height * fy, fr * r, minX + width / 2, minY + height / 2, r);\n\n      _addStop(steps, gradient);\n\n      return gradient;\n    }\n\n    function parseStyle(color, shape, context) {\n      if (color[1] === '(') {\n        try {\n          var firstCode = color[0];\n\n          if (firstCode === 'l') {\n            return _parseLineGradient(color, shape, context);\n          } else if (firstCode === 'r') {\n            return _parseRadialGradient(color, shape, context);\n          }\n        } catch (ev) {\n          console.error('error in parsing gradient string, please check if there are any extra whitespaces.');\n          console.error(ev);\n        }\n      }\n\n      return color;\n    }\n\n    var ALIAS_ATTRS_MAP = {\n      stroke: 'strokeStyle',\n      fill: 'fillStyle',\n      opacity: 'globalAlpha'\n    };\n    var SHAPE_ATTRS = ['fillStyle', 'font', 'globalAlpha', 'lineCap', 'lineWidth', 'lineJoin', 'miterLimit', 'shadowBlur', 'shadowColor', 'shadowOffsetX', 'shadowOffsetY', 'strokeStyle', 'textAlign', 'textBaseline', 'lineDash', 'shadow' // 兼容支付宝小程序\n    ];\n    var CLIP_SHAPES = ['circle', 'sector', 'polygon', 'rect', 'polyline'];\n\n    var Element = /*#__PURE__*/function () {\n      var _proto = Element.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        this._attrs = {\n          zIndex: 0,\n          visible: true,\n          destroyed: false\n        };\n      };\n\n      function Element(cfg) {\n        this._initProperties();\n\n        mix(this._attrs, cfg);\n        var attrs = this._attrs.attrs;\n\n        if (attrs) {\n          this.initAttrs(attrs);\n        }\n\n        this.initTransform();\n      }\n\n      _proto.get = function get(name) {\n        return this._attrs[name];\n      };\n\n      _proto.set = function set(name, value) {\n        this._attrs[name] = value;\n      };\n\n      _proto.isGroup = function isGroup() {\n        return this.get('isGroup');\n      };\n\n      _proto.isShape = function isShape() {\n        return this.get('isShape');\n      };\n\n      _proto.initAttrs = function initAttrs(attrs) {\n        this.attr(mix(this.getDefaultAttrs(), attrs));\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {};\n      };\n\n      _proto._setAttr = function _setAttr(name, value) {\n        var attrs = this._attrs.attrs;\n\n        if (name === 'clip') {\n          value = this._setAttrClip(value);\n        } else {\n          var alias = ALIAS_ATTRS_MAP[name];\n\n          if (alias) {\n            attrs[alias] = value;\n          }\n        }\n\n        attrs[name] = value;\n      };\n\n      _proto._getAttr = function _getAttr(name) {\n        return this._attrs.attrs[name];\n      } // _afterAttrsSet() {}\n      ;\n\n      _proto._setAttrClip = function _setAttrClip(clip) {\n        if (clip && CLIP_SHAPES.indexOf(clip._attrs.type) > -1) {\n          if (clip.get('canvas') === null) {\n            clip = Object.assign({}, clip);\n          }\n\n          clip.set('parent', this.get('parent'));\n          clip.set('context', this.get('context'));\n          return clip;\n        }\n\n        return null;\n      };\n\n      _proto.attr = function attr(name, value) {\n        var self = this;\n        if (self.get('destroyed')) return null;\n        var argumentsLen = arguments.length;\n\n        if (argumentsLen === 0) {\n          return self._attrs.attrs;\n        }\n\n        if (isObject(name)) {\n          this._attrs.bbox = null;\n\n          for (var k in name) {\n            self._setAttr(k, name[k]);\n          }\n\n          if (self._afterAttrsSet) {\n            self._afterAttrsSet();\n          }\n\n          return self;\n        }\n\n        if (argumentsLen === 2) {\n          this._attrs.bbox = null;\n\n          self._setAttr(name, value);\n\n          if (self._afterAttrsSet) {\n            self._afterAttrsSet();\n          }\n\n          return self;\n        }\n\n        return self._getAttr(name);\n      };\n\n      _proto.getParent = function getParent() {\n        return this.get('parent');\n      };\n\n      _proto.draw = function draw(context) {\n        if (this.get('destroyed')) {\n          return;\n        }\n\n        if (this.get('visible')) {\n          this.setContext(context);\n          this.drawInner(context);\n          this.restoreContext(context);\n        }\n      };\n\n      _proto.setContext = function setContext(context) {\n        var clip = this._attrs.attrs.clip;\n        context.save();\n\n        if (clip) {\n          clip.resetTransform(context);\n          clip.createPath(context);\n          context.clip();\n        }\n\n        this.resetContext(context);\n        this.resetTransform(context);\n      };\n\n      _proto.restoreContext = function restoreContext(context) {\n        context.restore();\n      };\n\n      _proto.resetContext = function resetContext(context) {\n        var elAttrs = this._attrs.attrs;\n\n        if (!this._attrs.isGroup) {\n          for (var k in elAttrs) {\n            if (SHAPE_ATTRS.indexOf(k) > -1) {\n              var v = elAttrs[k];\n\n              if (k === 'fillStyle' || k === 'strokeStyle') {\n                v = parseStyle(v, this, context);\n              }\n\n              if (k === 'lineDash' && context.setLineDash && isArray(v)) {\n                context.setLineDash(v);\n              } else {\n                context[k] = v;\n              }\n            }\n          }\n        }\n      };\n\n      _proto.hasFill = function hasFill() {\n        return this.get('canFill') && this._attrs.attrs.fillStyle;\n      };\n\n      _proto.hasStroke = function hasStroke() {\n        return this.get('canStroke') && this._attrs.attrs.strokeStyle;\n      };\n\n      _proto.drawInner = function drawInner()\n      /* context */\n      {};\n\n      _proto.show = function show() {\n        this.set('visible', true);\n        return this;\n      };\n\n      _proto.hide = function hide() {\n        this.set('visible', false);\n        return this;\n      };\n\n      _proto.isVisible = function isVisible() {\n        return this.get('visible');\n      };\n\n      _proto._removeFromParent = function _removeFromParent() {\n        var parent = this.get('parent');\n\n        if (parent) {\n          var children = parent.get('children');\n          remove(children, this);\n        }\n\n        return this;\n      };\n\n      _proto.remove = function remove(destroy) {\n        if (destroy) {\n          this.destroy();\n        } else {\n          this._removeFromParent();\n        }\n      };\n\n      _proto.destroy = function destroy() {\n        var destroyed = this.get('destroyed');\n\n        if (destroyed) {\n          return null;\n        }\n\n        this._removeFromParent();\n\n        this._attrs = {};\n        this.set('destroyed', true);\n      };\n\n      _proto.getBBox = function getBBox() {\n        return {\n          minX: 0,\n          maxX: 0,\n          minY: 0,\n          maxY: 0,\n          width: 0,\n          height: 0\n        };\n      };\n\n      _proto.initTransform = function initTransform() {\n        var attrs = this._attrs.attrs || {};\n\n        if (!attrs.matrix) {\n          attrs.matrix = [1, 0, 0, 1, 0, 0];\n        }\n\n        this._attrs.attrs = attrs;\n      };\n\n      _proto.getMatrix = function getMatrix() {\n        return this._attrs.attrs.matrix;\n      };\n\n      _proto.setMatrix = function setMatrix(m) {\n        this._attrs.attrs.matrix = [m[0], m[1], m[2], m[3], m[4], m[5]];\n      };\n\n      _proto.transform = function transform(actions) {\n        var matrix = this._attrs.attrs.matrix;\n        this._attrs.attrs.matrix = Matrix.transform(matrix, actions);\n        return this;\n      };\n\n      _proto.setTransform = function setTransform(actions) {\n        this._attrs.attrs.matrix = [1, 0, 0, 1, 0, 0];\n        return this.transform(actions);\n      };\n\n      _proto.translate = function translate(x, y) {\n        var matrix = this._attrs.attrs.matrix;\n        Matrix.translate(matrix, matrix, [x, y]);\n      };\n\n      _proto.rotate = function rotate(rad) {\n        var matrix = this._attrs.attrs.matrix;\n        Matrix.rotate(matrix, matrix, rad);\n      };\n\n      _proto.scale = function scale(sx, sy) {\n        var matrix = this._attrs.attrs.matrix;\n        Matrix.scale(matrix, matrix, [sx, sy]);\n      };\n\n      _proto.moveTo = function moveTo(x, y) {\n        var cx = this._attrs.x || 0;\n        var cy = this._attrs.y || 0;\n        this.translate(x - cx, y - cy);\n        this.set('x', x);\n        this.set('y', y);\n      };\n\n      _proto.apply = function apply(v) {\n        var m = this._attrs.attrs.matrix;\n        Vector2.transformMat2d(v, v, m);\n        return this;\n      };\n\n      _proto.resetTransform = function resetTransform(context) {\n        var mo = this._attrs.attrs.matrix;\n\n        if (Matrix.isChanged(mo)) {\n          context.transform(mo[0], mo[1], mo[2], mo[3], mo[4], mo[5]);\n        }\n      };\n\n      _proto.isDestroyed = function isDestroyed() {\n        return this.get('destroyed');\n      };\n\n      return Element;\n    }();\n\n    var Shape$2 = /*#__PURE__*/function (_Element) {\n      _inheritsLoose(Shape, _Element);\n\n      function Shape() {\n        return _Element.apply(this, arguments) || this;\n      }\n\n      var _proto = Shape.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        this._attrs = {\n          zIndex: 0,\n          visible: true,\n          destroyed: false,\n          isShape: true,\n          attrs: {}\n        };\n      };\n\n      _proto.getType = function getType() {\n        return this._attrs.type;\n      };\n\n      _proto.drawInner = function drawInner(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        self.createPath(context);\n        var originOpacity = context.globalAlpha;\n\n        if (self.hasFill()) {\n          var fillOpacity = attrs.fillOpacity;\n\n          if (!isNil(fillOpacity) && fillOpacity !== 1) {\n            context.globalAlpha = fillOpacity;\n            context.fill();\n            context.globalAlpha = originOpacity;\n          } else {\n            context.fill();\n          }\n        }\n\n        if (self.hasStroke()) {\n          var lineWidth = attrs.lineWidth;\n\n          if (lineWidth > 0) {\n            var strokeOpacity = attrs.strokeOpacity;\n\n            if (!isNil(strokeOpacity) && strokeOpacity !== 1) {\n              context.globalAlpha = strokeOpacity;\n            }\n\n            context.stroke();\n          }\n        }\n      };\n\n      _proto.getBBox = function getBBox() {\n        var bbox = this._attrs.bbox;\n\n        if (!bbox) {\n          bbox = this.calculateBox();\n\n          if (bbox) {\n            bbox.x = bbox.minX;\n            bbox.y = bbox.minY;\n            bbox.width = bbox.maxX - bbox.minX;\n            bbox.height = bbox.maxY - bbox.minY;\n          }\n\n          this._attrs.bbox = bbox;\n        }\n\n        return bbox;\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        return null;\n      };\n\n      _proto.createPath = function createPath() {};\n\n      return Shape;\n    }(Element);\n\n    var SHAPE_MAP = {};\n    var INDEX = '_INDEX';\n\n    function getComparer(compare) {\n      return function (left, right) {\n        var result = compare(left, right);\n        return result === 0 ? left[INDEX] - right[INDEX] : result;\n      };\n    }\n\n    var Container = {\n      getGroupClass: function getGroupClass() {},\n      getChildren: function getChildren() {\n        return this.get('children');\n      },\n      addShape: function addShape(type, cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var canvas = this.get('canvas');\n        var shapeType = SHAPE_MAP[type];\n\n        if (!shapeType) {\n          shapeType = upperFirst(type);\n          SHAPE_MAP[type] = shapeType;\n        }\n\n        cfg.canvas = canvas;\n\n        if (shapeType === 'Text' && canvas && canvas.get('fontFamily')) {\n          cfg.attrs.fontFamily = cfg.attrs.fontFamily || canvas.get('fontFamily');\n        }\n\n        var shape = new Shape$2[shapeType](cfg);\n        this.add(shape);\n        return shape;\n      },\n      addGroup: function addGroup(cfg) {\n        var canvas = this.get('canvas');\n        var groupClass = this.getGroupClass();\n        cfg = mix({}, cfg);\n        cfg.canvas = canvas;\n        cfg.parent = this;\n        var rst = new groupClass(cfg);\n        this.add(rst);\n        return rst;\n      },\n      contain: function contain(item) {\n        var children = this.get('children');\n        return children.indexOf(item) > -1;\n      },\n      sort: function sort() {\n        var children = this.get('children');\n\n        for (var i = 0, len = children.length; i < len; i++) {\n          var child = children[i];\n          child[INDEX] = i;\n        }\n\n        children.sort(getComparer(function (obj1, obj2) {\n          return obj1.get('zIndex') - obj2.get('zIndex');\n        }));\n        return this;\n      },\n      drawInner: function drawInner(context) {\n        var children = this.get('children');\n\n        for (var i = 0, len = children.length; i < len; i++) {\n          var child = children[i];\n          child.draw(context);\n        }\n\n        return this;\n      },\n      clear: function clear() {\n        var children = this.get('children');\n\n        while (children.length !== 0) {\n          children[children.length - 1].remove(true);\n        }\n\n        return this;\n      },\n      add: function add(items) {\n        var self = this;\n        var children = self.get('children');\n\n        if (!isArray(items)) {\n          items = [items];\n        }\n\n        for (var i = 0, len = items.length; i < len; i++) {\n          var item = items[i];\n          var parent = item.get('parent');\n\n          if (parent) {\n            var descendants = parent.get('children');\n            remove(descendants, item);\n          }\n\n          self._setEvn(item);\n\n          children.push(item);\n        }\n\n        return self;\n      },\n      _setEvn: function _setEvn(item) {\n        var self = this;\n        item._attrs.parent = self;\n        item._attrs.context = self._attrs.context;\n        item._attrs.canvas = self._attrs.canvas;\n        var clip = item._attrs.attrs.clip;\n\n        if (clip) {\n          clip.set('parent', self);\n          clip.set('context', self.get('context'));\n        }\n\n        if (item._attrs.isGroup) {\n          var children = item._attrs.children;\n\n          for (var i = 0, len = children.length; i < len; i++) {\n            item._setEvn(children[i]);\n          }\n        }\n      }\n    };\n\n    var Group = /*#__PURE__*/function (_Element) {\n      _inheritsLoose(Group, _Element);\n\n      function Group() {\n        return _Element.apply(this, arguments) || this;\n      }\n\n      var _proto = Group.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        this._attrs = {\n          zIndex: 0,\n          visible: true,\n          destroyed: false,\n          isGroup: true,\n          children: []\n        };\n      };\n\n      _proto.getBBox = function getBBox() {\n        var self = this;\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var children = self.get('children');\n\n        for (var i = 0, length = children.length; i < length; i++) {\n          var child = children[i];\n\n          if (child.get('visible')) {\n            var box = child.getBBox();\n\n            if (!box) {\n              continue;\n            }\n\n            var leftTop = [box.minX, box.minY];\n            var leftBottom = [box.minX, box.maxY];\n            var rightTop = [box.maxX, box.minY];\n            var rightBottom = [box.maxX, box.maxY];\n            var matrix = child.attr('matrix');\n            Vector2.transformMat2d(leftTop, leftTop, matrix);\n            Vector2.transformMat2d(leftBottom, leftBottom, matrix);\n            Vector2.transformMat2d(rightTop, rightTop, matrix);\n            Vector2.transformMat2d(rightBottom, rightBottom, matrix);\n            minX = Math.min(leftTop[0], leftBottom[0], rightTop[0], rightBottom[0], minX);\n            maxX = Math.max(leftTop[0], leftBottom[0], rightTop[0], rightBottom[0], maxX);\n            minY = Math.min(leftTop[1], leftBottom[1], rightTop[1], rightBottom[1], minY);\n            maxY = Math.max(leftTop[1], leftBottom[1], rightTop[1], rightBottom[1], maxY);\n          }\n        }\n\n        return {\n          minX: minX,\n          minY: minY,\n          maxX: maxX,\n          maxY: maxY,\n          x: minX,\n          y: minY,\n          width: maxX - minX,\n          height: maxY - minY\n        };\n      };\n\n      _proto.destroy = function destroy() {\n        if (this.get('destroyed')) {\n          return;\n        }\n\n        this.clear();\n\n        _Element.prototype.destroy.call(this);\n      };\n\n      return Group;\n    }(Element);\n\n    mix(Group.prototype, Container, {\n      getGroupClass: function getGroupClass() {\n        return Group;\n      }\n    });\n\n    var requestAnimationFrame = typeof window === 'object' && window.requestAnimationFrame ? window.requestAnimationFrame : function (fn) {\n      return setTimeout(fn, 16);\n    };\n\n    var Canvas = /*#__PURE__*/function (_EventEmit) {\n      _inheritsLoose(Canvas, _EventEmit);\n\n      var _proto = Canvas.prototype;\n\n      _proto.get = function get(name) {\n        return this._attrs[name];\n      };\n\n      _proto.set = function set(name, value) {\n        this._attrs[name] = value;\n      };\n\n      function Canvas(cfg) {\n        var _this;\n\n        _this = _EventEmit.call(this) || this;\n        _this._attrs = mix({\n          type: 'canvas',\n          children: []\n        }, cfg);\n\n        _this._initPixelRatio();\n\n        _this._initCanvas();\n\n        return _this;\n      }\n\n      _proto._initPixelRatio = function _initPixelRatio() {\n        var pixelRatio = this.get('pixelRatio');\n\n        if (!pixelRatio) {\n          this.set('pixelRatio', getPixelRatio());\n        }\n      };\n\n      _proto.beforeDraw = function beforeDraw() {\n        var context = this._attrs.context;\n        var el = this._attrs.el;\n        context && context.clearRect && context.clearRect(0, 0, el.width, el.height);\n      };\n\n      _proto._initCanvas = function _initCanvas() {\n        var self = this;\n        var el = self.get('el');\n        var context = self.get('context');\n\n        if (!el && !context) {\n          throw new Error('Please specify the id, el or context of the chart!');\n        }\n\n        var canvas;\n\n        if (el) {\n          // DOMElement or String\n          canvas = isString(el) ? getDomById(el) : el;\n        } else {\n          // 说明没有指定el\n          canvas = CanvasElement$1.create(context);\n        }\n\n        if (context && canvas && !canvas.getContext) {\n          canvas.getContext = function () {\n            return context;\n          };\n        }\n\n        var width = self.get('width');\n\n        if (!width) {\n          width = getWidth(canvas);\n        }\n\n        var height = self.get('height');\n\n        if (!height) {\n          height = getHeight(canvas);\n        }\n\n        self.set('canvas', this);\n        self.set('el', canvas);\n        self.set('context', context || canvas.getContext('2d'));\n        self.changeSize(width, height); // 初始化事件控制器\n\n        var eventController = new EventController({\n          canvas: this,\n          el: canvas\n        });\n        self.set('eventController', eventController);\n      };\n\n      _proto.changeSize = function changeSize(width, height) {\n        var pixelRatio = this.get('pixelRatio');\n        var canvasDOM = this.get('el'); // HTMLCanvasElement or canvasElement\n        // 浏览器环境设置style样式\n\n        if (canvasDOM.style) {\n          canvasDOM.style.width = width + 'px';\n          canvasDOM.style.height = height + 'px';\n        }\n\n        if (isCanvasElement(canvasDOM)) {\n          canvasDOM.width = width * pixelRatio;\n          canvasDOM.height = height * pixelRatio;\n\n          if (pixelRatio !== 1) {\n            var ctx = this.get('context');\n            ctx.scale(pixelRatio, pixelRatio);\n          }\n        }\n\n        this.set('width', width);\n        this.set('height', height);\n      };\n\n      _proto.getWidth = function getWidth() {\n        var pixelRatio = this.get('pixelRatio');\n        var width = this.get('width');\n        return width * pixelRatio;\n      };\n\n      _proto.getHeight = function getHeight() {\n        var pixelRatio = this.get('pixelRatio');\n        var height = this.get('height');\n        return height * pixelRatio;\n      };\n\n      _proto.getPointByClient = function getPointByClient(clientX, clientY) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        var width = bbox.right - bbox.left;\n        var height = bbox.bottom - bbox.top;\n        return {\n          x: (clientX - bbox.left) * (el.width / width),\n          y: (clientY - bbox.top) * (el.height / height)\n        };\n      };\n\n      _proto._beginDraw = function _beginDraw() {\n        this._attrs.toDraw = true;\n      };\n\n      _proto._endDraw = function _endDraw() {\n        this._attrs.toDraw = false;\n      };\n\n      _proto.draw = function draw() {\n        var self = this;\n\n        function drawInner() {\n          self.set('animateHandler', requestAnimationFrame(function () {\n            self.set('animateHandler', undefined);\n\n            if (self.get('toDraw')) {\n              drawInner();\n            }\n          }));\n          self.beforeDraw();\n\n          try {\n            var context = self._attrs.context;\n            self.drawInner(context); // 支付宝，微信小程序，需要调context.draw才能完成绘制， 所以这里直接判断是否有.draw方法\n\n            if (context.draw) {\n              context.draw();\n            }\n          } catch (ev) {\n            console.warn('error in draw canvas, detail as:');\n            console.warn(ev);\n\n            self._endDraw();\n          }\n\n          self._endDraw();\n        }\n\n        if (self.get('destroyed')) {\n          return;\n        }\n\n        if (self.get('animateHandler')) {\n          this._beginDraw();\n        } else {\n          drawInner();\n        }\n      };\n\n      _proto.destroy = function destroy() {\n        if (this.get('destroyed')) {\n          return;\n        } // 需要清理 canvas 画布内容，否则会导致 spa 应用 ios 下 canvas 白屏\n        // https://stackoverflow.com/questions/52532614/total-canvas-memory-use-exceeds-the-maximum-limit-safari-12\n        // https://github.com/antvis/F2/issues/630\n\n\n        var el = this.get('el');\n        el.width = 0;\n        el.height = 0;\n        this.clear();\n        this._attrs = {};\n        this.set('destroyed', true);\n      };\n\n      _proto.isDestroyed = function isDestroyed() {\n        return this.get('destroyed');\n      };\n\n      return Canvas;\n    }(EventEmit);\n\n    mix(Canvas.prototype, Container, {\n      getGroupClass: function getGroupClass() {\n        return Group;\n      }\n    });\n\n    function parseRadius(radius, width, height) {\n      radius = parsePadding(radius); // 都为0\n\n      if (!radius[0] && !radius[1] && !radius[2] && !radius[3]) {\n        return radius;\n      }\n\n      var minWidth = Math.max(radius[0] + radius[1], radius[2] + radius[3]);\n      var minHeight = Math.max(radius[0] + radius[3], radius[1] + radius[2]);\n      var scale = Math.min(width / minWidth, height / minHeight);\n\n      if (scale < 1) {\n        return radius.map(function (r) {\n          return r * scale;\n        });\n      }\n\n      return radius;\n    }\n\n    var Rect = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Rect, _Shape);\n\n      function Rect() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Rect.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'rect';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0,\n          radius: 0,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            width = attrs.width,\n            height = attrs.height,\n            radius = attrs.radius;\n        context.beginPath();\n\n        if (!radius || !(width * height)) {\n          context.rect(x, y, width, height);\n        } else {\n          radius = parseRadius(radius, width, height);\n          context.moveTo(x + radius[0], y);\n          context.lineTo(x + width - radius[1], y);\n          context.arc(x + width - radius[1], y + radius[1], radius[1], -Math.PI / 2, 0, false);\n          context.lineTo(x + width, y + height - radius[2]);\n          context.arc(x + width - radius[2], y + height - radius[2], radius[2], 0, Math.PI / 2, false);\n          context.lineTo(x + radius[3], y + height);\n          context.arc(x + radius[3], y + height - radius[3], radius[3], Math.PI / 2, Math.PI, false);\n          context.lineTo(x, y + radius[0]);\n          context.arc(x + radius[0], y + radius[0], radius[0], Math.PI, Math.PI * 3 / 2, false);\n          context.closePath();\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            width = attrs.width,\n            height = attrs.height;\n        return {\n          minX: x,\n          minY: y,\n          maxX: x + width,\n          maxY: y + height\n        };\n      };\n\n      return Rect;\n    }(Shape$2);\n\n    Shape$2.Rect = Rect;\n\n    var ImageShape = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(ImageShape, _Shape);\n\n      function ImageShape() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = ImageShape.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = false;\n        this._attrs.canStroke = false;\n        this._attrs.loading = false;\n        this._attrs.image = null;\n        this._attrs.type = 'image';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var _this = this;\n\n        var attrs = this.get('attrs');\n        var src = attrs.src;\n\n        if (this.get('loading')) {\n          return;\n        }\n\n        var image = this.get('image');\n\n        if (image) {\n          this.drawImage(context, image);\n        } else {\n          if (src && Image) {\n            this.set('loading', true);\n\n            var _image = new Image();\n\n            _image.src = src; // 设置跨域\n\n            _image.crossOrigin = 'Anonymous';\n\n            _image.onload = function () {\n              _this.set('loading', false);\n\n              _this.set('image', _image);\n\n              _this.drawImage(context, _image);\n            };\n          }\n        }\n      };\n\n      _proto.drawImage = function drawImage(context, image) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            width = attrs.width,\n            height = attrs.height,\n            sx = attrs.sx,\n            sy = attrs.sy,\n            swidth = attrs.swidth,\n            sheight = attrs.sheight;\n\n        if (!isNil(sx) && !isNil(sy) && !isNil(swidth) && !isNil(sheight)) {\n          context.drawImage(image, sx, sy, swidth, sheight, x, y, width, height);\n        } else {\n          context.drawImage(image, x, y, width, height);\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            width = attrs.width,\n            height = attrs.height; // 和rect一样\n\n        return {\n          minX: x,\n          minY: y,\n          maxX: x + width,\n          maxY: y + height\n        };\n      };\n\n      return ImageShape;\n    }(Shape$2);\n\n    Shape$2.Image = ImageShape;\n\n    var Circle = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Circle, _Shape);\n\n      function Circle() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Circle.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'circle';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          r: 0,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r;\n        context.beginPath();\n        context.arc(x, y, r, 0, Math.PI * 2, false);\n        context.closePath();\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r;\n        return {\n          minX: x - r,\n          maxX: x + r,\n          minY: y - r,\n          maxY: y + r\n        };\n      };\n\n      return Circle;\n    }(Shape$2);\n\n    Shape$2.Circle = Circle;\n\n    var start = Vector2.create();\n    var end = Vector2.create();\n    var extremity = Vector2.create();\n\n    function getCubicBezierXYatT(startPt, controlPt1, controlPt2, endPt, T) {\n      var x = CubicN(T, startPt.x, controlPt1.x, controlPt2.x, endPt.x);\n      var y = CubicN(T, startPt.y, controlPt1.y, controlPt2.y, endPt.y);\n      return {\n        x: x,\n        y: y\n      };\n    } // cubic helper formula at T distance\n\n\n    function CubicN(T, a, b, c, d) {\n      var t2 = T * T;\n      var t3 = t2 * T;\n      return a + (-a * 3 + T * (3 * a - a * T)) * T + (3 * b + T * (-6 * b + b * 3 * T)) * T + (c * 3 - c * 3 * T) * t2 + d * t3;\n    }\n\n    function cubicBezierBounds(c) {\n      var minX = Infinity;\n      var maxX = -Infinity;\n      var minY = Infinity;\n      var maxY = -Infinity;\n      var s = {\n        x: c[0],\n        y: c[1]\n      };\n      var c1 = {\n        x: c[2],\n        y: c[3]\n      };\n      var c2 = {\n        x: c[4],\n        y: c[5]\n      };\n      var e = {\n        x: c[6],\n        y: c[7]\n      };\n\n      for (var t = 0; t < 100; t++) {\n        var pt = getCubicBezierXYatT(s, c1, c2, e, t / 100);\n\n        if (pt.x < minX) {\n          minX = pt.x;\n        }\n\n        if (pt.x > maxX) {\n          maxX = pt.x;\n        }\n\n        if (pt.y < minY) {\n          minY = pt.y;\n        }\n\n        if (pt.y > maxY) {\n          maxY = pt.y;\n        }\n      }\n\n      return {\n        minX: minX,\n        minY: minY,\n        maxX: maxX,\n        maxY: maxY\n      };\n    }\n\n    function getBBoxFromPoints(points, lineWidth) {\n      if (points.length === 0) {\n        return;\n      }\n\n      var p = points[0];\n      var left = p.x;\n      var right = p.x;\n      var top = p.y;\n      var bottom = p.y;\n      var len = points.length;\n\n      for (var i = 1; i < len; i++) {\n        p = points[i];\n        left = Math.min(left, p.x);\n        right = Math.max(right, p.x);\n        top = Math.min(top, p.y);\n        bottom = Math.max(bottom, p.y);\n      }\n\n      lineWidth = lineWidth / 2 || 0;\n      return {\n        minX: left - lineWidth,\n        minY: top - lineWidth,\n        maxX: right + lineWidth,\n        maxY: bottom + lineWidth\n      };\n    }\n\n    function getBBoxFromLine(x0, y0, x1, y1, lineWidth) {\n      lineWidth = lineWidth / 2 || 0;\n      return {\n        minX: Math.min(x0, x1) - lineWidth,\n        minY: Math.min(y0, y1) - lineWidth,\n        maxX: Math.max(x0, x1) + lineWidth,\n        maxY: Math.max(y0, y1) + lineWidth\n      };\n    }\n\n    function getBBoxFromArc(x, y, r, startAngle, endAngle, anticlockwise) {\n      var diff = Math.abs(startAngle - endAngle);\n\n      if (diff % (Math.PI * 2) < 1e-4 && diff > 1e-4) {\n        // Is a circle\n        return {\n          minX: x - r,\n          minY: y - r,\n          maxX: x + r,\n          maxY: y + r\n        };\n      }\n\n      start[0] = Math.cos(startAngle) * r + x;\n      start[1] = Math.sin(startAngle) * r + y;\n      end[0] = Math.cos(endAngle) * r + x;\n      end[1] = Math.sin(endAngle) * r + y;\n      var min = [0, 0];\n      var max = [0, 0];\n      Vector2.min(min, start, end);\n      Vector2.max(max, start, end); // Thresh to [0, Math.PI * 2]\n\n      startAngle = startAngle % (Math.PI * 2);\n\n      if (startAngle < 0) {\n        startAngle = startAngle + Math.PI * 2;\n      }\n\n      endAngle = endAngle % (Math.PI * 2);\n\n      if (endAngle < 0) {\n        endAngle = endAngle + Math.PI * 2;\n      }\n\n      if (startAngle > endAngle && !anticlockwise) {\n        endAngle += Math.PI * 2;\n      } else if (startAngle < endAngle && anticlockwise) {\n        startAngle += Math.PI * 2;\n      }\n\n      if (anticlockwise) {\n        var tmp = endAngle;\n        endAngle = startAngle;\n        startAngle = tmp;\n      }\n\n      for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n        if (angle > startAngle) {\n          extremity[0] = Math.cos(angle) * r + x;\n          extremity[1] = Math.sin(angle) * r + y;\n          Vector2.min(min, extremity, min);\n          Vector2.max(max, extremity, max);\n        }\n      }\n\n      return {\n        minX: min[0],\n        minY: min[1],\n        maxX: max[0],\n        maxY: max[1]\n      };\n    }\n\n    function getBBoxFromBezierGroup(points, lineWidth) {\n      var minX = Infinity;\n      var maxX = -Infinity;\n      var minY = Infinity;\n      var maxY = -Infinity;\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var bbox = cubicBezierBounds(points[i]);\n\n        if (bbox.minX < minX) {\n          minX = bbox.minX;\n        }\n\n        if (bbox.maxX > maxX) {\n          maxX = bbox.maxX;\n        }\n\n        if (bbox.minY < minY) {\n          minY = bbox.minY;\n        }\n\n        if (bbox.maxY > maxY) {\n          maxY = bbox.maxY;\n        }\n      }\n\n      lineWidth = lineWidth / 2 || 0;\n      return {\n        minX: minX - lineWidth,\n        minY: minY - lineWidth,\n        maxX: maxX + lineWidth,\n        maxY: maxY + lineWidth\n      };\n    }\n\n    var Line$1 = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Line, _Shape);\n\n      function Line() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canStroke = true;\n        this._attrs.type = 'line';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x1: 0,\n          y1: 0,\n          x2: 0,\n          y2: 0,\n          lineWidth: 1\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x1 = attrs.x1,\n            y1 = attrs.y1,\n            x2 = attrs.x2,\n            y2 = attrs.y2;\n        context.beginPath();\n        context.moveTo(x1, y1);\n        context.lineTo(x2, y2);\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x1 = attrs.x1,\n            y1 = attrs.y1,\n            x2 = attrs.x2,\n            y2 = attrs.y2,\n            lineWidth = attrs.lineWidth;\n        return getBBoxFromLine(x1, y1, x2, y2, lineWidth);\n      };\n\n      return Line;\n    }(Shape$2);\n\n    Shape$2.Line = Line$1;\n\n    var Polygon = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Polygon, _Shape);\n\n      function Polygon() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Polygon.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'polygon';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          points: null,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var points = attrs.points;\n        context.beginPath();\n\n        for (var i = 0, len = points.length; i < len; i++) {\n          var point = points[i];\n\n          if (i === 0) {\n            context.moveTo(point.x, point.y);\n          } else {\n            context.lineTo(point.x, point.y);\n          }\n        }\n\n        context.closePath();\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var points = attrs.points;\n        return getBBoxFromPoints(points);\n      };\n\n      return Polygon;\n    }(Shape$2);\n\n    Shape$2.Polygon = Polygon;\n\n    /**\n     * @fileOverview convert the line to curve\n     * @author dxq613@gmail.com\n     */\n\n    function getPoint(v) {\n      return [v.x, v.y];\n    }\n\n    function smoothBezier(points, smooth, isLoop, constraint) {\n      var cps = [];\n      var prevPoint;\n      var nextPoint;\n      var hasConstraint = !!constraint;\n      var min;\n      var max;\n      var point;\n      var len;\n      var l;\n      var i;\n\n      if (hasConstraint) {\n        min = [Infinity, Infinity];\n        max = [-Infinity, -Infinity];\n\n        for (i = 0, l = points.length; i < l; i++) {\n          point = getPoint(points[i]);\n          Vector2.min(min, min, point);\n          Vector2.max(max, max, point);\n        }\n\n        Vector2.min(min, min, constraint[0]);\n        Vector2.max(max, max, constraint[1]);\n      }\n\n      for (i = 0, len = points.length; i < len; i++) {\n        point = getPoint(points[i]);\n\n        if (isLoop) {\n          prevPoint = getPoint(points[i ? i - 1 : len - 1]);\n          nextPoint = getPoint(points[(i + 1) % len]);\n        } else {\n          if (i === 0 || i === len - 1) {\n            cps.push([point[0], point[1]]);\n            continue;\n          } else {\n            prevPoint = getPoint(points[i - 1]);\n            nextPoint = getPoint(points[i + 1]);\n          }\n        }\n\n        var v = Vector2.sub([], nextPoint, prevPoint);\n        Vector2.scale(v, v, smooth);\n        var d0 = Vector2.distance(point, prevPoint);\n        var d1 = Vector2.distance(point, nextPoint);\n        var sum = d0 + d1;\n\n        if (sum !== 0) {\n          d0 /= sum;\n          d1 /= sum;\n        }\n\n        var v1 = Vector2.scale([], v, -d0);\n        var v2 = Vector2.scale([], v, d1);\n        var cp0 = Vector2.add([], point, v1);\n        var cp1 = Vector2.add([], point, v2);\n\n        if (hasConstraint) {\n          Vector2.max(cp0, cp0, min);\n          Vector2.min(cp0, cp0, max);\n          Vector2.max(cp1, cp1, min);\n          Vector2.min(cp1, cp1, max);\n        }\n\n        cps.push([cp0[0], cp0[1]]);\n        cps.push([cp1[0], cp1[1]]);\n      }\n\n      if (isLoop) {\n        cps.push(cps.shift());\n      }\n\n      return cps;\n    }\n\n    function catmullRom2bezier(pointList, z, constraint) {\n      var isLoop = !!z;\n      var controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n      var len = pointList.length;\n      var d1 = [];\n      var cp1;\n      var cp2;\n      var p;\n\n      for (var i = 0; i < len - 1; i++) {\n        cp1 = controlPointList[i * 2];\n        cp2 = controlPointList[i * 2 + 1];\n        p = pointList[i + 1];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p.x, p.y]);\n      }\n\n      if (isLoop) {\n        cp1 = controlPointList[len];\n        cp2 = controlPointList[len + 1];\n        p = pointList[0];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p.x, p.y]);\n      }\n\n      return d1;\n    }\n\n    function _filterPoints(points) {\n      var filteredPoints = [];\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n\n        if (!isNaN(point.x) && !isNaN(point.y)) {\n          filteredPoints.push(point);\n        }\n      }\n\n      return filteredPoints;\n    }\n\n    var Polyline = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Polyline, _Shape);\n\n      function Polyline() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Polyline.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'polyline';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          points: null,\n          lineWidth: 1,\n          smooth: false\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var self = this;\n        var attrs = self.get('attrs');\n        var points = attrs.points,\n            smooth = attrs.smooth;\n\n        var filteredPoints = _filterPoints(points);\n\n        context.beginPath();\n\n        if (filteredPoints.length) {\n          context.moveTo(filteredPoints[0].x, filteredPoints[0].y);\n\n          if (smooth) {\n            var constaint = [[0, 0], [1, 1]];\n            var sps = catmullRom2bezier(filteredPoints, false, constaint);\n\n            for (var i = 0, n = sps.length; i < n; i++) {\n              var sp = sps[i];\n              context.bezierCurveTo(sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]);\n            }\n          } else {\n            var _i;\n\n            var l;\n\n            for (_i = 1, l = filteredPoints.length - 1; _i < l; _i++) {\n              context.lineTo(filteredPoints[_i].x, filteredPoints[_i].y);\n            }\n\n            context.lineTo(filteredPoints[l].x, filteredPoints[l].y);\n          }\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var points = attrs.points,\n            smooth = attrs.smooth,\n            lineWidth = attrs.lineWidth;\n\n        var filteredPoints = _filterPoints(points);\n\n        if (smooth) {\n          var newPoints = [];\n          var constaint = [[0, 0], [1, 1]];\n          var sps = catmullRom2bezier(filteredPoints, false, constaint);\n\n          for (var i = 0, n = sps.length; i < n; i++) {\n            var sp = sps[i];\n\n            if (i === 0) {\n              newPoints.push([filteredPoints[0].x, filteredPoints[0].y, sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]]);\n            } else {\n              var lastPoint = sps[i - 1];\n              newPoints.push([lastPoint[5], lastPoint[6], sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]]);\n            }\n          }\n\n          return getBBoxFromBezierGroup(newPoints, lineWidth);\n        }\n\n        return getBBoxFromPoints(filteredPoints, lineWidth);\n      };\n\n      return Polyline;\n    }(Shape$2);\n\n    Shape$2.Polyline = Polyline;\n\n    var Arc = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Arc, _Shape);\n\n      function Arc() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Arc.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canStroke = true;\n        this._attrs.canFill = true;\n        this._attrs.type = 'arc';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          r: 0,\n          startAngle: 0,\n          endAngle: Math.PI * 2,\n          anticlockwise: false,\n          lineWidth: 1\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            anticlockwise = attrs.anticlockwise;\n        context.beginPath();\n\n        if (startAngle !== endAngle) {\n          context.arc(x, y, r, startAngle, endAngle, anticlockwise);\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            anticlockwise = attrs.anticlockwise;\n        return getBBoxFromArc(x, y, r, startAngle, endAngle, anticlockwise);\n      };\n\n      return Arc;\n    }(Shape$2);\n\n    Shape$2.Arc = Arc;\n\n    var Sector = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Sector, _Shape);\n\n      function Sector() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Sector.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'sector';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          lineWidth: 0,\n          r: 0,\n          r0: 0,\n          startAngle: 0,\n          endAngle: Math.PI * 2,\n          anticlockwise: false\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            r = attrs.r,\n            r0 = attrs.r0,\n            anticlockwise = attrs.anticlockwise;\n        context.beginPath();\n        var unitX = Math.cos(startAngle);\n        var unitY = Math.sin(startAngle);\n        context.moveTo(unitX * r0 + x, unitY * r0 + y);\n        context.lineTo(unitX * r + x, unitY * r + y); // 当扇形的角度非常小的时候，就不进行弧线的绘制；或者整个只有1个扇形时，会出现end<0的情况不绘制\n\n        if (Math.abs(endAngle - startAngle) > 0.0001 || startAngle === 0 && endAngle < 0) {\n          context.arc(x, y, r, startAngle, endAngle, anticlockwise);\n          context.lineTo(Math.cos(endAngle) * r0 + x, Math.sin(endAngle) * r0 + y);\n\n          if (r0 !== 0) {\n            context.arc(x, y, r0, endAngle, startAngle, !anticlockwise);\n          }\n        }\n\n        context.closePath();\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            r = attrs.r,\n            r0 = attrs.r0,\n            startAngle = attrs.startAngle,\n            endAngle = attrs.endAngle,\n            anticlockwise = attrs.anticlockwise;\n        var outerBBox = getBBoxFromArc(x, y, r, startAngle, endAngle, anticlockwise);\n        var innerBBox = getBBoxFromArc(x, y, r0, startAngle, endAngle, anticlockwise);\n        return {\n          minX: Math.min(outerBBox.minX, innerBBox.minX),\n          minY: Math.min(outerBBox.minY, innerBBox.minY),\n          maxX: Math.max(outerBBox.maxX, innerBBox.maxX),\n          maxY: Math.max(outerBBox.maxY, innerBBox.maxY)\n        };\n      };\n\n      return Sector;\n    }(Shape$2);\n\n    Shape$2.Sector = Sector;\n\n    var Rect$1 = {\n      calcRotatedBox: function calcRotatedBox(_ref) {\n        var width = _ref.width,\n            height = _ref.height,\n            rotate = _ref.rotate;\n        var absRotate = Math.abs(rotate);\n        return {\n          width: Math.abs(width * Math.cos(absRotate) + height * Math.sin(absRotate)),\n          height: Math.abs(height * Math.cos(absRotate) + width * Math.sin(absRotate))\n        };\n      }\n    };\n\n    var textWidthCacheCounter = 0;\n    var textWidthCache = {};\n    var TEXT_CACHE_MAX = 5000;\n\n    var Text = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Text, _Shape);\n\n      function Text() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Text.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'text';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          lineWidth: 0,\n          lineCount: 1,\n          fontSize: 12,\n          fontFamily: 'sans-serif',\n          fontStyle: 'normal',\n          fontWeight: 'normal',\n          fontVariant: 'normal',\n          textAlign: 'start',\n          textBaseline: 'bottom',\n          lineHeight: null,\n          textArr: null\n        };\n      };\n\n      _proto._getFontStyle = function _getFontStyle() {\n        var attrs = this._attrs.attrs;\n        var fontSize = attrs.fontSize,\n            fontFamily = attrs.fontFamily,\n            fontWeight = attrs.fontWeight,\n            fontStyle = attrs.fontStyle,\n            fontVariant = attrs.fontVariant;\n        return fontStyle + \" \" + fontVariant + \" \" + fontWeight + \" \" + fontSize + \"px \" + fontFamily;\n      };\n\n      _proto._afterAttrsSet = function _afterAttrsSet() {\n        var attrs = this._attrs.attrs;\n        attrs.font = this._getFontStyle();\n\n        if (attrs.text) {\n          var text = attrs.text;\n          var textArr = null;\n          var lineCount = 1;\n\n          if (isString(text) && text.indexOf('\\n') !== -1) {\n            textArr = text.split('\\n');\n            lineCount = textArr.length;\n          }\n\n          attrs.lineCount = lineCount;\n          attrs.textArr = textArr;\n        }\n\n        this.set('attrs', attrs);\n      };\n\n      _proto._getTextHeight = function _getTextHeight() {\n        var attrs = this._attrs.attrs;\n\n        if (attrs.height) {\n          return attrs.height;\n        }\n\n        var lineCount = attrs.lineCount;\n        var fontSize = attrs.fontSize * 1;\n\n        if (lineCount > 1) {\n          var spaceingY = this._getSpaceingY();\n\n          return fontSize * lineCount + spaceingY * (lineCount - 1);\n        }\n\n        return fontSize;\n      };\n\n      _proto._getSpaceingY = function _getSpaceingY() {\n        var attrs = this._attrs.attrs;\n        var lineHeight = attrs.lineHeight;\n        var fontSize = attrs.fontSize * 1;\n        return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n      };\n\n      _proto.drawInner = function drawInner(context) {\n        var self = this;\n        var attrs = self._attrs.attrs;\n        var text = attrs.text;\n        var x = attrs.x;\n        var y = attrs.y;\n\n        if (isNil(text) || isNaN(x) || isNaN(y)) {\n          // text will be 0\n          return;\n        }\n\n        var textArr = attrs.textArr;\n        var fontSize = attrs.fontSize * 1;\n\n        var spaceingY = self._getSpaceingY();\n\n        if (attrs.rotate) {\n          // do rotation\n          context.translate(x, y);\n          context.rotate(attrs.rotate);\n          x = 0;\n          y = 0;\n        }\n\n        var textBaseline = attrs.textBaseline;\n        var height;\n\n        if (textArr) {\n          height = self._getTextHeight();\n        }\n\n        var subY; // context.beginPath();\n\n        if (self.hasFill()) {\n          var fillOpacity = attrs.fillOpacity;\n\n          if (!isNil(fillOpacity) && fillOpacity !== 1) {\n            context.globalAlpha = fillOpacity;\n          }\n\n          if (textArr) {\n            for (var i = 0, len = textArr.length; i < len; i++) {\n              var subText = textArr[i];\n              subY = y + i * (spaceingY + fontSize) - height + fontSize; // bottom;\n\n              if (textBaseline === 'middle') {\n                subY += height - fontSize - (height - fontSize) / 2;\n              }\n\n              if (textBaseline === 'top') {\n                subY += height - fontSize;\n              }\n\n              context.fillText(subText, x, subY);\n            }\n          } else {\n            context.fillText(text, x, y);\n          }\n        }\n\n        if (self.hasStroke()) {\n          if (textArr) {\n            for (var _i = 0, _len = textArr.length; _i < _len; _i++) {\n              var _subText = textArr[_i];\n              subY = y + _i * (spaceingY + fontSize) - height + fontSize; // bottom;\n\n              if (textBaseline === 'middle') {\n                subY += height - fontSize - (height - fontSize) / 2;\n              }\n\n              if (textBaseline === 'top') {\n                subY += height - fontSize;\n              }\n\n              context.strokeText(_subText, x, subY);\n            }\n          } else {\n            context.strokeText(text, x, y);\n          }\n        }\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var self = this;\n        var attrs = self._attrs.attrs;\n        var x = attrs.x,\n            y = attrs.y,\n            textAlign = attrs.textAlign,\n            textBaseline = attrs.textBaseline;\n\n        var width = self._getTextWidth(); // attrs.width\n\n\n        if (!width) {\n          return {\n            minX: x,\n            minY: y,\n            maxX: x,\n            maxY: y\n          };\n        }\n\n        var height = self._getTextHeight(); // attrs.height\n\n\n        if (attrs.rotate) {\n          var rotatedBox = Rect$1.calcRotatedBox({\n            width: width,\n            height: height,\n            rotate: attrs.rotate\n          });\n          width = rotatedBox.width;\n          height = rotatedBox.height;\n        }\n\n        var point = {\n          x: x,\n          y: y - height\n        }; // default textAlign: start, textBaseline: bottom\n\n        if (textAlign) {\n          if (textAlign === 'end' || textAlign === 'right') {\n            point.x -= width;\n          } else if (textAlign === 'center') {\n            point.x -= width / 2;\n          }\n        }\n\n        if (textBaseline) {\n          if (textBaseline === 'top') {\n            point.y += height;\n          } else if (textBaseline === 'middle') {\n            point.y += height / 2;\n          }\n        }\n\n        return {\n          minX: point.x,\n          minY: point.y,\n          maxX: point.x + width,\n          maxY: point.y + height\n        };\n      };\n\n      _proto._getTextWidth = function _getTextWidth() {\n        var attrs = this._attrs.attrs;\n\n        if (attrs.width) {\n          return attrs.width;\n        }\n\n        var text = attrs.text;\n        var context = this.get('context');\n        if (isNil(text)) return undefined;\n        var font = attrs.font;\n        var textArr = attrs.textArr;\n        var key = text + '' + font;\n\n        if (textWidthCache[key]) {\n          return textWidthCache[key];\n        }\n\n        var width = 0;\n\n        if (textArr) {\n          for (var i = 0, length = textArr.length; i < length; i++) {\n            var subText = textArr[i];\n            width = Math.max(width, measureText(subText, font, context).width);\n          }\n        } else {\n          width = measureText(text, font, context).width;\n        }\n\n        if (textWidthCacheCounter > TEXT_CACHE_MAX) {\n          textWidthCacheCounter = 0;\n          textWidthCache = {};\n        }\n\n        textWidthCacheCounter++;\n        textWidthCache[key] = width;\n        return width;\n      };\n\n      return Text;\n    }(Shape$2);\n\n    Shape$2.Text = Text;\n\n    var Custom = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Custom, _Shape);\n\n      function Custom() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Custom.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.createPath = null;\n        this._attrs.type = 'custom';\n      };\n\n      _proto.createPath = function createPath(context) {\n        var createPath = this.get('createPath');\n        createPath && createPath.call(this, context);\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var calculateBox = this.get('calculateBox');\n        return calculateBox && calculateBox.call(this);\n      };\n\n      return Custom;\n    }(Shape$2);\n\n    Shape$2.Custom = Custom;\n\n    var G = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        Canvas: Canvas,\n        Group: Group,\n        Shape: Shape$2,\n        Matrix: Matrix,\n        Vector2: Vector2\n    });\n\n    function formatTicks(ticks) {\n      var tmp = ticks.slice(0);\n\n      if (tmp.length > 0) {\n        var first = tmp[0];\n        var last = tmp[tmp.length - 1];\n\n        if (first.value !== 0) {\n          tmp.unshift({\n            value: 0\n          });\n        }\n\n        if (last.value !== 1) {\n          tmp.push({\n            value: 1\n          });\n        }\n      }\n\n      return tmp;\n    }\n\n    var AxisController = /*#__PURE__*/function () {\n      function AxisController(cfg) {\n        this.axisCfg = {};\n        this.frontPlot = null;\n        this.backPlot = null;\n        this.axes = {}; // store the axes's options\n\n        mix(this, cfg);\n      }\n\n      var _proto = AxisController.prototype;\n\n      _proto._isHide = function _isHide(field) {\n        var axisCfg = this.axisCfg;\n        return !axisCfg || axisCfg[field] === false;\n      };\n\n      _proto._getLinePosition = function _getLinePosition(scale, dimType, index, transposed) {\n        var position = '';\n        var field = scale.field;\n        var axisCfg = this.axisCfg;\n\n        if (axisCfg[field] && axisCfg[field].position) {\n          position = axisCfg[field].position;\n        } else if (dimType === 'x') {\n          position = transposed ? 'left' : 'bottom';\n        } else if (dimType === 'y') {\n          position = index ? 'right' : 'left';\n\n          if (transposed) {\n            position = 'bottom';\n          }\n        }\n\n        return position;\n      };\n\n      _proto._getLineCfg = function _getLineCfg(coord, dimType, position) {\n        var start;\n        var end;\n        var factor = 1; // Mark clockwise or counterclockwise\n\n        if (dimType === 'x') {\n          start = {\n            x: 0,\n            y: 0\n          };\n          end = {\n            x: 1,\n            y: 0\n          };\n        } else {\n          if (position === 'right') {\n            // there will be several y axes\n            start = {\n              x: 1,\n              y: 0\n            };\n            end = {\n              x: 1,\n              y: 1\n            };\n          } else {\n            start = {\n              x: 0,\n              y: 0\n            };\n            end = {\n              x: 0,\n              y: 1\n            };\n            factor = -1;\n          }\n        }\n\n        if (coord.transposed) {\n          factor *= -1;\n        }\n\n        return {\n          offsetFactor: factor,\n          start: coord.convertPoint(start),\n          end: coord.convertPoint(end)\n        };\n      };\n\n      _proto._getCircleCfg = function _getCircleCfg(coord) {\n        return {\n          startAngle: coord.startAngle,\n          endAngle: coord.endAngle,\n          center: coord.center,\n          radius: coord.circleRadius\n        };\n      };\n\n      _proto._getRadiusCfg = function _getRadiusCfg(coord) {\n        var transposed = coord.transposed;\n        var start;\n        var end;\n\n        if (transposed) {\n          start = {\n            x: 0,\n            y: 0\n          };\n          end = {\n            x: 1,\n            y: 0\n          };\n        } else {\n          start = {\n            x: 0,\n            y: 0\n          };\n          end = {\n            x: 0,\n            y: 1\n          };\n        }\n\n        return {\n          offsetFactor: -1,\n          start: coord.convertPoint(start),\n          end: coord.convertPoint(end)\n        };\n      };\n\n      _proto._getAxisCfg = function _getAxisCfg(coord, scale, verticalScale, dimType, defaultCfg) {\n        var self = this;\n        var axisCfg = this.axisCfg;\n        var ticks = scale.getTicks();\n        var cfg = deepMix({\n          ticks: ticks,\n          frontContainer: this.frontPlot,\n          backContainer: this.backPlot\n        }, defaultCfg, axisCfg[scale.field]);\n        var labels = [];\n        var label = cfg.label;\n        var count = ticks.length;\n        var maxWidth = 0;\n        var maxHeight = 0;\n        var labelCfg = label;\n        each(ticks, function (tick, index) {\n          if (isFunction(label)) {\n            var executedLabel = label(tick.text, index, count);\n            labelCfg = executedLabel ? mix({}, Global._defaultAxis.label, executedLabel) : null;\n          }\n\n          if (labelCfg) {\n            var textStyle = {};\n\n            if (labelCfg.textAlign) {\n              textStyle.textAlign = labelCfg.textAlign;\n            }\n\n            if (labelCfg.textBaseline) {\n              textStyle.textBaseline = labelCfg.textBaseline;\n            }\n\n            var axisLabel = new Shape$2.Text({\n              className: 'axis-label',\n              attrs: mix({\n                x: 0,\n                y: 0,\n                text: tick.text,\n                fontFamily: self.chart.get('canvas').get('fontFamily')\n              }, labelCfg),\n              value: tick.value,\n              textStyle: textStyle,\n              top: labelCfg.top,\n              context: self.chart.get('canvas').get('context')\n            });\n            labels.push(axisLabel);\n\n            var _axisLabel$getBBox = axisLabel.getBBox(),\n                width = _axisLabel$getBBox.width,\n                height = _axisLabel$getBBox.height;\n\n            maxWidth = Math.max(maxWidth, width);\n            maxHeight = Math.max(maxHeight, height);\n          }\n        });\n        cfg.labels = labels;\n        cfg.maxWidth = maxWidth;\n        cfg.maxHeight = maxHeight;\n        return cfg;\n      };\n\n      _proto._createAxis = function _createAxis(coord, scale, verticalScale, dimType, index) {\n        if (index === void 0) {\n          index = '';\n        }\n\n        var self = this;\n        var coordType = coord.type;\n        var transposed = coord.transposed;\n        var type;\n        var key;\n        var defaultCfg;\n\n        if (coordType === 'cartesian' || coordType === 'rect') {\n          var position = self._getLinePosition(scale, dimType, index, transposed);\n\n          defaultCfg = Global.axis[position];\n          defaultCfg.position = position;\n          type = 'Line';\n          key = position;\n        } else {\n          if (dimType === 'x' && !transposed || dimType === 'y' && transposed) {\n            defaultCfg = Global.axis.circle;\n            type = 'Circle';\n            key = 'circle';\n          } else {\n            defaultCfg = Global.axis.radius;\n            type = 'Line';\n            key = 'radius';\n          }\n        }\n\n        var cfg = self._getAxisCfg(coord, scale, verticalScale, dimType, defaultCfg);\n\n        cfg.type = type;\n        cfg.dimType = dimType;\n        cfg.verticalScale = verticalScale;\n        cfg.index = index;\n        this.axes[key] = cfg;\n      };\n\n      _proto.createAxis = function createAxis(coord, xScale, yScales) {\n        var self = this;\n\n        if (xScale && !self._isHide(xScale.field)) {\n          self._createAxis(coord, xScale, yScales[0], 'x');\n        }\n\n        each(yScales, function (yScale, index) {\n          if (!self._isHide(yScale.field)) {\n            self._createAxis(coord, yScale, xScale, 'y', index);\n          }\n        });\n        var axes = this.axes;\n        var chart = self.chart;\n\n        if (chart._isAutoPadding()) {\n          var userPadding = parsePadding(chart.get('padding'));\n          var appendPadding = parsePadding(chart.get('appendPadding'));\n          var legendRange = chart.get('legendRange') || {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n          };\n          var padding = [userPadding[0] === 'auto' ? legendRange.top + appendPadding[0] * 2 : userPadding[0], userPadding[1] === 'auto' ? legendRange.right + appendPadding[1] : userPadding[1], userPadding[2] === 'auto' ? legendRange.bottom + appendPadding[2] : userPadding[2], userPadding[3] === 'auto' ? legendRange.left + appendPadding[3] : userPadding[3]];\n\n          if (coord.isPolar) {\n            var circleAxis = axes.circle;\n\n            if (circleAxis) {\n              var maxHeight = circleAxis.maxHeight,\n                  maxWidth = circleAxis.maxWidth,\n                  labelOffset = circleAxis.labelOffset;\n              padding[0] += maxHeight + labelOffset;\n              padding[1] += maxWidth + labelOffset;\n              padding[2] += maxHeight + labelOffset;\n              padding[3] += maxWidth + labelOffset;\n            }\n          } else {\n            if (axes.right && userPadding[1] === 'auto') {\n              var _axes$right = axes.right,\n                  _maxWidth = _axes$right.maxWidth,\n                  _labelOffset = _axes$right.labelOffset;\n              padding[1] += _maxWidth + _labelOffset;\n            }\n\n            if (axes.left && userPadding[3] === 'auto') {\n              var _axes$left = axes.left,\n                  _maxWidth2 = _axes$left.maxWidth,\n                  _labelOffset2 = _axes$left.labelOffset;\n              padding[3] += _maxWidth2 + _labelOffset2;\n            }\n\n            if (axes.bottom && userPadding[2] === 'auto') {\n              var _axes$bottom = axes.bottom,\n                  _maxHeight = _axes$bottom.maxHeight,\n                  _labelOffset3 = _axes$bottom.labelOffset;\n              padding[2] += _maxHeight + _labelOffset3;\n            }\n          }\n\n          chart.set('_padding', padding);\n\n          chart._updateLayout(padding);\n        }\n\n        each(axes, function (axis) {\n          var type = axis.type,\n              grid = axis.grid,\n              verticalScale = axis.verticalScale,\n              ticks = axis.ticks,\n              dimType = axis.dimType,\n              position = axis.position,\n              index = axis.index;\n          var appendCfg;\n\n          if (coord.isPolar) {\n            if (type === 'Line') {\n              appendCfg = self._getRadiusCfg(coord);\n            } else if (type === 'Circle') {\n              appendCfg = self._getCircleCfg(coord);\n            }\n          } else {\n            appendCfg = self._getLineCfg(coord, dimType, position);\n          }\n\n          if (grid && verticalScale) {\n            var gridPoints = [];\n            var verticalTicks = formatTicks(verticalScale.getTicks());\n            each(ticks, function (tick) {\n              var subPoints = [];\n              each(verticalTicks, function (verticalTick) {\n                var x = dimType === 'x' ? tick.value : verticalTick.value;\n                var y = dimType === 'x' ? verticalTick.value : tick.value;\n\n                if (x >= 0 && x <= 1 && y >= 0 && y <= 1) {\n                  var point = coord.convertPoint({\n                    x: x,\n                    y: y\n                  });\n                  subPoints.push(point);\n                }\n              });\n              gridPoints.push({\n                points: subPoints,\n                _id: 'axis-' + dimType + index + '-grid-' + tick.tickValue\n              });\n            });\n            axis.gridPoints = gridPoints;\n\n            if (coord.isPolar) {\n              axis.center = coord.center;\n              axis.startAngle = coord.startAngle;\n              axis.endAngle = coord.endAngle;\n            }\n          }\n\n          appendCfg._id = 'axis-' + dimType;\n\n          if (!isNil(index)) {\n            appendCfg._id = 'axis-' + dimType + index;\n          }\n\n          new Abastract[type](mix(axis, appendCfg));\n        });\n      };\n\n      _proto.clear = function clear() {\n        this.axes = {};\n        this.frontPlot.clear();\n        this.backPlot.clear();\n      };\n\n      return AxisController;\n    }();\n\n    function getClip(coord) {\n      var start = coord.start;\n      var end = coord.end;\n      var width = end.x - start.x;\n      var height = Math.abs(end.y - start.y);\n      var margin = 10;\n      var clip;\n\n      if (coord.isPolar) {\n        var circleRadius = coord.circleRadius,\n            center = coord.center,\n            startAngle = coord.startAngle,\n            endAngle = coord.endAngle;\n        clip = new Shape$2.Sector({\n          attrs: {\n            x: center.x,\n            y: center.y,\n            r: circleRadius,\n            r0: 0,\n            startAngle: startAngle,\n            endAngle: endAngle\n          }\n        });\n      } else {\n        clip = new Shape$2.Rect({\n          attrs: {\n            x: start.x,\n            y: end.y - margin,\n            width: width,\n            height: height + 2 * margin\n          }\n        });\n      }\n\n      clip.isClip = true;\n      return clip;\n    }\n\n    function isPointInPlot(point, plot) {\n      var x = point.x,\n          y = point.y;\n      var tl = plot.tl,\n          tr = plot.tr,\n          br = plot.br;\n      return x >= tl.x && x <= tr.x && y >= tl.y && y <= br.y;\n    }\n\n    var Helper = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getClip: getClip,\n        isPointInPlot: isPointInPlot\n    });\n\n    function compare(a, b) {\n      return a - b;\n    }\n\n    function _isScaleExist(scales, compareScale) {\n      var flag = false;\n      each(scales, function (scale) {\n        var scaleValues = [].concat(scale.values);\n        var compareScaleValues = [].concat(compareScale.values);\n\n        if (scale.type === compareScale.type && scale.field === compareScale.field && scaleValues.sort(compare).toString() === compareScaleValues.sort(compare).toString()) {\n          flag = true;\n          return;\n        }\n      });\n      return flag;\n    }\n\n    var Chart = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Chart, _Base);\n\n      Chart.initPlugins = function initPlugins() {\n        return {\n          _plugins: [],\n          _cacheId: 0,\n          register: function register(plugins) {\n            var p = this._plugins;\n            [].concat(plugins).forEach(function (plugin) {\n              if (p.indexOf(plugin) === -1) {\n                p.push(plugin);\n              }\n            });\n            this._cacheId++;\n          },\n          unregister: function unregister(plugins) {\n            var p = this._plugins;\n            [].concat(plugins).forEach(function (plugin) {\n              var idx = p.indexOf(plugin);\n\n              if (idx !== -1) {\n                p.splice(idx, 1);\n              }\n            });\n            this._cacheId++;\n          },\n          clear: function clear() {\n            this._plugins = [];\n            this._cacheId++;\n          },\n          count: function count() {\n            return this._plugins.length;\n          },\n          getAll: function getAll() {\n            return this._plugins;\n          },\n          notify: function notify(chart, hook, args) {\n            var descriptors = this.descriptors(chart);\n            var ilen = descriptors.length;\n            var i;\n            var descriptor;\n            var plugin;\n            var params;\n            var method;\n\n            for (i = 0; i < ilen; ++i) {\n              descriptor = descriptors[i];\n              plugin = descriptor.plugin;\n              method = plugin[hook];\n\n              if (typeof method === 'function') {\n                params = [chart].concat(args || []);\n\n                if (method.apply(plugin, params) === false) {\n                  return false;\n                }\n              }\n            }\n\n            return true;\n          },\n          descriptors: function descriptors(chart) {\n            var cache = chart._plugins || (chart._plugins = {});\n\n            if (cache.id === this._cacheId) {\n              return cache.descriptors;\n            }\n\n            var plugins = [];\n            var descriptors = [];\n\n            this._plugins.concat(chart && chart.get('plugins') || []).forEach(function (plugin) {\n              var idx = plugins.indexOf(plugin);\n\n              if (idx !== -1) {\n                return;\n              }\n\n              plugins.push(plugin);\n              descriptors.push({\n                plugin: plugin\n              });\n            });\n\n            cache.descriptors = descriptors;\n            cache.id = this._cacheId;\n            return descriptors;\n          }\n        };\n      };\n\n      var _proto = Chart.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          /**\n           * the id of canvas\n           * @type {String}\n           */\n          id: null,\n          rendered: false,\n\n          /**\n           * padding\n           * @type {Array|Number}\n           */\n          padding: Global.padding,\n\n          /**\n           * data\n           * @type {Array}\n           */\n          data: null,\n\n          /**\n           * scales of chart\n           * @type {Object}\n           */\n          scales: {},\n\n          /**\n           * @private\n           * geometry instances\n           * @type {Array}\n           */\n          geoms: [],\n\n          /**\n           * scale configuration\n           * @type {Object}\n           */\n          colDefs: null,\n          pixelRatio: Global.pixelRatio,\n\n          /**\n           * filter options\n           * @type {Object}\n           */\n          filters: null,\n          appendPadding: Global.appendPadding\n        };\n      };\n\n      _proto._syncYScales = function _syncYScales() {\n        var syncY = this.get('syncY');\n\n        if (!syncY) {\n          return;\n        }\n\n        var geoms = this.get('geoms');\n        var syncScales = [];\n        var min = [];\n        var max = [];\n        each(geoms, function (geom) {\n          var yScale = geom.getYScale();\n\n          if (yScale.isLinear) {\n            syncScales.push(yScale);\n            min.push(yScale.min);\n            max.push(yScale.max);\n          }\n        });\n        min = Math.min.apply(null, min);\n        max = Math.max.apply(null, max);\n        each(syncScales, function (scale) {\n          scale.change({\n            min: min\n          });\n          scale.change({\n            max: max\n          });\n        });\n      };\n\n      _proto._getFieldsForLegend = function _getFieldsForLegend() {\n        var fields = [];\n        var geoms = this.get('geoms');\n        each(geoms, function (geom) {\n          var attrOptions = geom.get('attrOptions');\n          var attrCfg = attrOptions.color;\n\n          if (attrCfg && attrCfg.field && isString(attrCfg.field)) {\n            var arr = attrCfg.field.split('*');\n            each(arr, function (item) {\n              if (fields.indexOf(item) === -1) {\n                fields.push(item);\n              }\n            });\n          }\n        });\n        return fields;\n      };\n\n      _proto._getScaleData = function _getScaleData(field) {\n        var data = this.get('data');\n        var filteredData = this.get('filteredData');\n\n        if (filteredData.length) {\n          var legendFields = this._getFieldsForLegend();\n\n          if (legendFields.indexOf(field) === -1) {\n            data = filteredData;\n          }\n        }\n\n        return data;\n      } // _updateScales() {\n      //   const scaleController = this.get('scaleController');\n      //   scaleController.updateScales();\n      //   this._adjustScale();\n      // }\n      ;\n\n      _proto._adjustScale = function _adjustScale() {\n        var self = this;\n        var scaleController = self.get('scaleController'); // 看起来是为了让柱状图最小或最大都默认从0开始\n\n        var geoms = this.get('geoms');\n\n        for (var i = 0; i < geoms.length; i++) {\n          var geom = geoms[i];\n\n          if (geom.get('type') === 'interval') {\n            var yScale = geom.getYScale();\n            scaleController.adjustStartZero(yScale);\n          }\n        }\n      };\n\n      _proto._removeGeoms = function _removeGeoms() {\n        var geoms = this.get('geoms');\n\n        while (geoms.length > 0) {\n          var geom = geoms.shift();\n          geom.destroy();\n        }\n      };\n\n      _proto._clearGeoms = function _clearGeoms() {\n        var geoms = this.get('geoms');\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          var geom = geoms[i];\n          geom.clear();\n        }\n      };\n\n      _proto._clearInner = function _clearInner() {\n        this._clearGeoms();\n\n        Chart.plugins.notify(this, 'clearInner');\n        this.emit(EVENT_CLEAR_INNER);\n        this.get('axisController') && this.get('axisController').clear();\n      };\n\n      _proto._initFilteredData = function _initFilteredData() {\n        var filters = this.get('filters');\n        var data = this.get('data') || [];\n\n        if (filters) {\n          data = data.filter(function (obj) {\n            var rst = true;\n            each(filters, function (fn, k) {\n              if (fn) {\n                rst = fn(obj[k], obj);\n\n                if (!rst) {\n                  return false;\n                }\n              }\n            });\n            return rst;\n          });\n        }\n\n        this.set('filteredData', data);\n      };\n\n      _proto._changeGeomsData = function _changeGeomsData() {\n        var geoms = this.get('geoms');\n        var data = this.get('filteredData');\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          var geom = geoms[i];\n          geom.changeData(data);\n        }\n      };\n\n      _proto._initGeom = function _initGeom(geom) {\n        if (geom.get('isInit')) {\n          return;\n        }\n\n        var coord = this.get('coord');\n        var data = this.get('filteredData');\n        var colDefs = this.get('colDefs');\n        var middlePlot = this.get('middlePlot');\n        geom.set('chart', this);\n        geom.set('container', middlePlot.addGroup());\n        geom.set('data', data);\n        geom.set('coord', coord);\n        geom.set('colDefs', colDefs);\n        geom.init();\n        this.emit(EVENT_AFTER_GEOM_INIT, geom);\n      };\n\n      _proto._initGeoms = function _initGeoms() {\n        var geoms = this.get('geoms');\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          this._initGeom(geoms[i]);\n        }\n      };\n\n      _proto._initCoord = function _initCoord() {\n        var plot = this.get('plotRange');\n        var coordCfg = mix({\n          type: 'cartesian'\n        }, this.get('coordCfg'), {\n          plot: plot\n        });\n        var type = coordCfg.type;\n        var C = Base$1[upperFirst(type)];\n        var coord = new C(coordCfg);\n        this.set('coord', coord);\n      };\n\n      _proto._initLayout = function _initLayout() {\n        var padding = this.get('_padding');\n\n        if (!padding) {\n          padding = this.get('margin') || this.get('padding');\n          padding = parsePadding(padding);\n        }\n\n        var top = padding[0] === 'auto' ? 0 : padding[0];\n        var right = padding[1] === 'auto' ? 0 : padding[1];\n        var bottom = padding[2] === 'auto' ? 0 : padding[2];\n        var left = padding[3] === 'auto' ? 0 : padding[3];\n        var width = this.get('width');\n        var height = this.get('height');\n        var start = {\n          x: left,\n          y: top\n        };\n        var end = {\n          x: width - right,\n          y: height - bottom\n        };\n        var plot = this.get('plot');\n\n        if (plot) {\n          plot.reset(start, end);\n          return;\n        }\n\n        var newPlot = new Plot({\n          start: start,\n          end: end\n        });\n        this.set('plotRange', newPlot);\n        this.set('plot', newPlot);\n      };\n\n      _proto._initCanvas = function _initCanvas() {\n        var self = this;\n\n        try {\n          var canvas = new Canvas({\n            el: self.get('el') || self.get('id'),\n            context: self.get('context'),\n            pixelRatio: self.get('pixelRatio'),\n            width: self.get('width'),\n            height: self.get('height'),\n            fontFamily: Global.fontFamily\n          });\n          self.set('canvas', canvas);\n          self.set('el', canvas.get('el'));\n          self.set('width', canvas.get('width'));\n          self.set('height', canvas.get('height'));\n        } catch (error) {\n          throw error;\n        }\n\n        Chart.plugins.notify(self, 'afterCanvasInit');\n      };\n\n      _proto._initLayers = function _initLayers() {\n        var canvas = this.get('canvas');\n        this.set('backPlot', canvas.addGroup());\n        this.set('middlePlot', canvas.addGroup({\n          zIndex: 10\n        }));\n        this.set('frontPlot', canvas.addGroup({\n          zIndex: 20\n        }));\n      };\n\n      _proto._initEvents = function _initEvents() {\n        var _this2 = this;\n\n        // 数据更新后的一些更新\n        this.on(EVENT_AFTER_DATA_CHANGE, function () {\n          // 数据更新后，重新设置filterdata\n          _this2._initFilteredData(); // 更新geoms里的数据\n\n\n          _this2._changeGeomsData();\n        }); // 大小变化后的一些更新\n\n        this.on(EVENT_AFTER_SIZE_CHANGE, function () {\n          _this2._initLayout(); // layout变化后，坐标轴也需要做相应的变化\n\n\n          var coord = _this2.get('coord');\n\n          if (coord) {\n            coord.reset(_this2.get('plot'));\n          }\n        });\n      };\n\n      _proto._initScaleController = function _initScaleController() {\n        var scaleController = new ScaleController({\n          chart: this\n        }); // 让colDefs 和 scaleController.defs 用同一个对象，这样就不用考虑同步的问题\n\n        this.set('colDefs', scaleController.defs); // 已经实例化的scales 也保持统一个对象\n\n        this.set('scales', scaleController.scales);\n        this.set('scaleController', scaleController);\n      };\n\n      _proto._clearScaleController = function _clearScaleController() {\n        var scaleController = this.get('scaleController');\n        scaleController.clear();\n      };\n\n      _proto._init = function _init() {\n        var self = this;\n\n        self._initCanvas();\n\n        self._initLayout();\n\n        self._initLayers();\n\n        self._initEvents();\n\n        self._initScaleController();\n\n        self.set('axisController', new AxisController({\n          frontPlot: self.get('frontPlot').addGroup({\n            className: 'axisContainer'\n          }),\n          backPlot: self.get('backPlot').addGroup({\n            className: 'axisContainer'\n          }),\n          chart: self\n        }));\n        Chart.plugins.notify(self, 'init');\n      };\n\n      function Chart(cfg) {\n        var _this;\n\n        _this = _Base.call(this, cfg) || this;\n\n        var self = _assertThisInitialized(_this);\n\n        each(Geom, function (geomConstructor, className) {\n          var methodName = lowerFirst(className);\n\n          self[methodName] = function (cfg) {\n            var geom = new geomConstructor(cfg);\n            self.addGeom(geom);\n            return geom;\n          };\n        });\n\n        self._init();\n\n        return _this;\n      }\n\n      _proto.init = function init() {\n        // 初始filterData\n        this._initFilteredData(); // initialization coordinate instance\n\n\n        this._initCoord();\n\n        Chart.plugins.notify(this, 'beforeGeomInit'); // init all geometry instances\n\n        this._initGeoms(); // 多 Y 轴的情况时，统一 Y 轴的数值范围。\n\n\n        this._syncYScales(); // do some adjust for data\n\n\n        this._adjustScale();\n\n        this.emit(EVENT_AFTER_INIT);\n      }\n      /**\n       * set data and some scale configuration\n       * @chainable\n       * @param  {Array} data the dataset to visualize\n       * @param  {Object} colDefs the configuration for scales\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.source = function source(data, colDefs) {\n        this.set('data', data);\n\n        if (colDefs) {\n          this.scale(colDefs);\n        }\n\n        return this;\n      };\n\n      _proto.scale = function scale(field, cfg) {\n        var scaleController = this.get('scaleController');\n        scaleController.setFieldDef(field, cfg);\n        return this;\n      }\n      /**\n       * configure the axis\n       * @chainable\n       * @param  {String|Boolean} field the field name of data\n       * @param  {Object} cfg configuration for axis\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.axis = function axis(field, cfg) {\n        var axisController = this.get('axisController');\n\n        if (!field) {\n          axisController.axisCfg = null;\n        } else {\n          axisController.axisCfg = axisController.axisCfg || {};\n          axisController.axisCfg[field] = cfg;\n        }\n\n        return this;\n      }\n      /**\n       * configure the coordinate\n       * @chainable\n       * @param  {String} type set the type of coodinate\n       * @param  {Object} cfg configuration for coordinate\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.coord = function coord(type, cfg) {\n        var coordCfg;\n\n        if (isObject(type)) {\n          coordCfg = type;\n        } else {\n          coordCfg = cfg || {};\n          coordCfg.type = type || 'cartesian';\n        }\n\n        this.set('coordCfg', coordCfg);\n        return this;\n      };\n\n      _proto.filter = function filter(field, condition) {\n        var filters = this.get('filters') || {};\n        filters[field] = condition;\n        this.set('filters', filters); // 如果已经render过，则再重新触发一次change\n\n        if (this.get('rendered')) {\n          this.emit(EVENT_AFTER_DATA_CHANGE, this.get('data'));\n        }\n      }\n      /**\n       * render the chart\n       * @chainable\n       * @return {Chart} return the chart instance\n       */\n      ;\n\n      _proto.render = function render() {\n        var rendered = this.get('rendered');\n        var canvas = this.get('canvas');\n        var geoms = this.get('geoms'); // 已经渲染过\n\n        if (rendered) {\n          this._initGeoms();\n\n          this._adjustScale();\n        } else {\n          this.init();\n          this.set('rendered', true);\n        }\n\n        this.emit(EVENT_BEFORE_RENDER);\n        Chart.plugins.notify(this, 'beforeGeomDraw');\n\n        this._renderAxis();\n\n        var middlePlot = this.get('middlePlot');\n\n        if (this.get('limitInPlot') && !middlePlot.attr('clip')) {\n          var coord = this.get('coord');\n          var clip = getClip(coord);\n          clip.set('canvas', middlePlot.get('canvas'));\n          middlePlot.attr('clip', clip);\n        }\n\n        this.emit(EVENT_BEFORE_GEOM_DRAW);\n\n        for (var i = 0, length = geoms.length; i < length; i++) {\n          var geom = geoms[i];\n          geom.paint();\n        }\n\n        this.emit(EVENT_AFTER_GEOM_DRAW);\n        Chart.plugins.notify(this, 'afterGeomDraw');\n        canvas.sort();\n        this.get('frontPlot').sort();\n        Chart.plugins.notify(this, 'beforeCanvasDraw');\n        canvas.draw();\n        this.emit(EVENT_AFTER_RENDER);\n        return this;\n      }\n      /**\n       * clear the chart, include geometris and all the shapes\n       * @chainable\n       * @return {Chart} return the chart\n       */\n      ;\n\n      _proto.clear = function clear() {\n        Chart.plugins.notify(this, 'clear');\n        this.emit(EVENT_CLEAR);\n\n        this._clearInner();\n\n        this._removeGeoms();\n\n        this._clearScaleController();\n\n        this.set('legendItems', null);\n        this.set('filters', null);\n        this.set('isUpdate', false);\n        this.set('_padding', null);\n        this.set('rendered', false);\n        var canvas = this.get('canvas');\n        canvas.draw();\n        return this;\n      };\n\n      _proto.repaint = function repaint() {\n        // 如果在没有render之前就repaint的，就直接return退出\n        var rendered = this.get('rendered');\n\n        if (!rendered) {\n          return;\n        }\n\n        this.set('isUpdate', true);\n        this.set('legendItems', null);\n        Chart.plugins.notify(this, 'repaint');\n\n        this._clearInner();\n\n        this.emit(EVENT_REPAINT);\n        this.render();\n      };\n\n      _proto.changeData = function changeData(data) {\n        this.emit(EVENT_BEFORE_DATA_CHANGE, data);\n        this.set('data', data);\n        Chart.plugins.notify(this, 'changeData');\n        this.emit(EVENT_AFTER_DATA_CHANGE, data);\n        this.set('_padding', null);\n        this.repaint();\n      };\n\n      _proto.changeSize = function changeSize(width, height) {\n        if (width) {\n          this.set('width', width);\n        } else {\n          width = this.get('width');\n        }\n\n        if (height) {\n          this.set('height', height);\n        } else {\n          height = this.get('height');\n        }\n\n        var canvas = this.get('canvas');\n        canvas.changeSize(width, height);\n        this.emit(EVENT_AFTER_SIZE_CHANGE, {\n          width: width,\n          height: height\n        });\n        this.repaint();\n        return this;\n      };\n\n      _proto.destroy = function destroy() {\n        this.clear();\n        var canvas = this.get('canvas');\n        canvas.destroy();\n        Chart.plugins.notify(this, 'afterCanvasDestroyed');\n\n        if (this._interactions) {\n          each(this._interactions, function (interaction) {\n            interaction.destroy();\n          });\n        }\n\n        _Base.prototype.destroy.call(this);\n      }\n      /**\n       * calculate dataset's position on canvas\n       * @param  {Object} record the dataset\n       * @return {Object} return the position\n       */\n      ;\n\n      _proto.getPosition = function getPosition(record) {\n        var self = this;\n        var coord = self.get('coord');\n        var xScale = self.getXScale();\n        var xField = xScale.field;\n        var yScales = self.getYScales(); // default first\n\n        var yScale = yScales[0];\n        var yField = yScale.field;\n\n        for (var i = 0, len = yScales.length; i < len; i++) {\n          var scale = yScales[i];\n          var field = scale.field;\n\n          if (record[field]) {\n            yScale = scale;\n            yField = field;\n            break;\n          }\n        }\n\n        var x = xScale.scale(record[xField]);\n        var y = yScale.scale(record[yField]);\n        return coord.convertPoint({\n          x: x,\n          y: y\n        });\n      }\n      /**\n       * get the data item of the point\n       * @param  {Object} point canvas position\n       * @return {Object} return the data item\n       */\n      ;\n\n      _proto.getRecord = function getRecord(point) {\n        var self = this;\n        var coord = self.get('coord');\n        var xScale = self.getXScale();\n        var yScale = self.getYScales()[0];\n        var invertPoint = coord.invertPoint(point);\n        var record = {};\n        record[xScale.field] = xScale.invert(invertPoint.x);\n        record[yScale.field] = yScale.invert(invertPoint.y);\n        return record;\n      }\n      /**\n       * get the dataset of the point\n       * @param  {Object} point canvas position\n       * @return {Array} return the dataset\n      **/\n      ;\n\n      _proto.getSnapRecords = function getSnapRecords(point) {\n        var geom = this.get('geoms')[0];\n        var data = [];\n\n        if (geom) {\n          // need to judge\n          data = geom.getSnapRecords(point);\n        }\n\n        return data;\n      }\n      /**\n       * creat scale instances\n       * @param  {String} field field name of data\n       * @return {Scale} return the scale\n       */\n      ;\n\n      _proto.createScale = function createScale(field) {\n        var data = this._getScaleData(field);\n\n        var scaleController = this.get('scaleController');\n        return scaleController.createScale(field, data);\n      }\n      /**\n       * @protected\n       * add geometry instance to geoms\n       * @param {Geom} geom geometry instance\n       */\n      ;\n\n      _proto.addGeom = function addGeom(geom) {\n        var geoms = this.get('geoms');\n        geoms.push(geom);\n      }\n      /**\n       * get the scale of x axis\n       * @return {Scale} return the scale\n       */\n      ;\n\n      _proto.getXScale = function getXScale() {\n        var self = this;\n        var geoms = self.get('geoms');\n        var xScale = geoms[0].getXScale();\n        return xScale;\n      }\n      /**\n       * get the scale of y axis\n       * @return {Array} return the scale\n       */\n      ;\n\n      _proto.getYScales = function getYScales() {\n        var geoms = this.get('geoms');\n        var rst = [];\n        each(geoms, function (geom) {\n          var yScale = geom.getYScale();\n\n          if (rst.indexOf(yScale) === -1) {\n            rst.push(yScale);\n          }\n        });\n        return rst;\n      };\n\n      _proto.getLegendItems = function getLegendItems() {\n        if (this.get('legendItems')) {\n          return this.get('legendItems');\n        }\n\n        var legendItems = {};\n        var scales = [];\n        var geoms = this.get('geoms');\n        each(geoms, function (geom) {\n          var colorAttr = geom.getAttr('color');\n\n          if (colorAttr) {\n            var scale = colorAttr.getScale('color'); // 只支持分类图例\n\n            if (scale.isCategory && !_isScaleExist(scales, scale)) {\n              scales.push(scale);\n              var field = scale.field;\n              var ticks = scale.getTicks();\n              var items = [];\n              each(ticks, function (tick) {\n                var text = tick.text;\n                var name = text;\n                var scaleValue = tick.value;\n                var value = scale.invert(scaleValue);\n                var color = colorAttr.mapping(value).join('') || Global.defaultColor;\n                var marker = {\n                  fill: color,\n                  radius: 3,\n                  symbol: 'circle',\n                  stroke: '#fff'\n                };\n                items.push({\n                  name: name,\n                  // for display\n                  dataValue: value,\n                  // the origin value\n                  checked: true,\n                  marker: marker\n                });\n              });\n              legendItems[field] = items;\n            }\n          }\n        });\n        this.set('legendItems', legendItems);\n        return legendItems;\n      } // register the plugins\n      ;\n\n      _proto.registerPlugins = function registerPlugins(plugins) {\n        var self = this;\n        var chartPlugins = self.get('plugins') || [];\n\n        if (!isArray(chartPlugins)) {\n          chartPlugins = [chartPlugins];\n        }\n\n        [].concat(plugins).forEach(function (plugin) {\n          if (chartPlugins.indexOf(plugin) === -1) {\n            plugin.init && plugin.init(self); // init\n\n            chartPlugins.push(plugin);\n          }\n        });\n        Chart.plugins._cacheId++;\n        self.set('plugins', chartPlugins);\n      };\n\n      _proto._renderAxis = function _renderAxis() {\n        var axisController = this.get('axisController');\n        var xScale = this.getXScale();\n        var yScales = this.getYScales();\n        var coord = this.get('coord');\n        Chart.plugins.notify(this, 'beforeRenderAxis');\n        axisController.createAxis(coord, xScale, yScales);\n      };\n\n      _proto._isAutoPadding = function _isAutoPadding() {\n        if (this.get('_padding')) {\n          return false;\n        }\n\n        var padding = this.get('padding');\n\n        if (isArray(padding)) {\n          return padding.indexOf('auto') !== -1;\n        }\n\n        return padding === 'auto';\n      };\n\n      _proto._updateLayout = function _updateLayout(padding) {\n        var width = this.get('width');\n        var height = this.get('height');\n        var start = {\n          x: padding[3],\n          y: padding[0]\n        };\n        var end = {\n          x: width - padding[1],\n          y: height - padding[2]\n        };\n        var plot = this.get('plot');\n        var coord = this.get('coord');\n        plot.reset(start, end);\n        coord.reset(plot);\n      };\n\n      return Chart;\n    }(Base);\n\n    Chart.plugins = Chart.initPlugins();\n\n    var track = function track() {\n      return null;\n    };\n\n    /**\n     * @fileOverview shape util\n     * @author dxq613@gmail.com\n     */\n\n    function splitPoints(obj) {\n      var points = [];\n      var x = obj.x;\n      var y = obj.y;\n      y = isArray(y) ? y : [y];\n      y.forEach(function (yItem, index) {\n        var point = {\n          x: isArray(x) ? x[index] : x,\n          y: yItem\n        };\n        points.push(point);\n      });\n      return points;\n    }\n\n    function splitArray(data, yField, connectNulls) {\n      if (!data.length) return [];\n      var arr = [];\n      var tmp = [];\n      var yValue;\n      each(data, function (obj) {\n        yValue = obj._origin ? obj._origin[yField] : obj[yField];\n\n        if (connectNulls) {\n          if (!isNil(yValue)) {\n            tmp.push(obj);\n          }\n        } else {\n          if (isArray(yValue) && isNil(yValue[0]) || isNil(yValue)) {\n            if (tmp.length) {\n              arr.push(tmp);\n              tmp = [];\n            }\n          } else {\n            tmp.push(obj);\n          }\n        }\n      });\n\n      if (tmp.length) {\n        arr.push(tmp);\n      }\n\n      return arr;\n    }\n\n    var SHAPES = ['circle', 'hollowCircle', 'rect'];\n    var Point = Shape$1.registerFactory('point', {\n      defaultShapeType: 'circle',\n      getDefaultPoints: function getDefaultPoints(pointInfo) {\n        return splitPoints(pointInfo);\n      }\n    });\n\n    function getPointsCfg(cfg) {\n      var style = {\n        lineWidth: 0,\n        stroke: cfg.color,\n        fill: cfg.color\n      };\n\n      if (cfg.size) {\n        style.size = cfg.size;\n      }\n\n      mix(style, cfg.style);\n      return mix({}, Global.shape.point, style);\n    }\n\n    function drawShape(cfg, container, shape) {\n      if (cfg.size === 0) return;\n      var pointCfg = getPointsCfg(cfg);\n      var size = pointCfg.r || pointCfg.size;\n      var x = cfg.x;\n      var y = !isArray(cfg.y) ? [cfg.y] : cfg.y;\n\n      if (shape === 'hollowCircle') {\n        pointCfg.lineWidth = 1;\n        pointCfg.fill = null;\n      }\n\n      for (var i = 0, len = y.length; i < len; i++) {\n        if (shape === 'rect') {\n          return container.addShape('Rect', {\n            className: 'point',\n            attrs: mix({\n              x: x - size,\n              y: y[i] - size,\n              width: size * 2,\n              height: size * 2\n            }, pointCfg)\n          });\n        }\n\n        return container.addShape('Circle', {\n          className: 'point',\n          attrs: mix({\n            x: x,\n            y: y[i],\n            r: size\n          }, pointCfg)\n        });\n      }\n    }\n\n    each(SHAPES, function (shapeType) {\n      Shape$1.registerShape('point', shapeType, {\n        draw: function draw(cfg, container) {\n          return drawShape(cfg, container, shapeType);\n        }\n      });\n    });\n\n    var Point$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Point, _Geom);\n\n      function Point() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Point.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'point';\n        cfg.shapeType = 'point';\n        cfg.generatePoints = false;\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        each(data, function (obj) {\n          var shape = obj.shape;\n          var cfg = self.getDrawCfg(obj);\n\n          if (isArray(obj.y)) {\n            var hasStack = self.hasAdjust('stack');\n            each(obj.y, function (y, idx) {\n              cfg.y = y;\n\n              if (!hasStack || idx !== 0) {\n                self.drawShape(shape, obj, cfg, container, shapeFactory);\n              }\n            });\n          } else if (!isNil(obj.y)) {\n            self.drawShape(shape, obj, cfg, container, shapeFactory);\n          }\n        });\n      };\n\n      return Point;\n    }(Geom);\n\n    Geom.Point = Point$1;\n\n    var Line$2 = Shape$1.registerFactory('line', {\n      defaultShapeType: 'line'\n    });\n\n    function getStyle$1(cfg) {\n      var style = {\n        strokeStyle: cfg.color\n      };\n\n      if (cfg.size >= 0) {\n        style.lineWidth = cfg.size;\n      }\n\n      mix(style, cfg.style);\n      return mix({}, Global.shape.line, style);\n    }\n\n    function drawLines(cfg, container, style, smooth) {\n      var points = cfg.points;\n\n      if (points.length && isArray(points[0].y)) {\n        var topPoints = [];\n        var bottomPoints = [];\n\n        for (var i = 0, len = points.length; i < len; i++) {\n          var point = points[i];\n          var tmp = splitPoints(point);\n          bottomPoints.push(tmp[0]);\n          topPoints.push(tmp[1]);\n        }\n\n        if (cfg.isInCircle) {\n          topPoints.push(topPoints[0]);\n          bottomPoints.push(bottomPoints[0]);\n        }\n\n        if (cfg.isStack) {\n          return container.addShape('Polyline', {\n            className: 'line',\n            attrs: mix({\n              points: topPoints,\n              smooth: smooth\n            }, style)\n          });\n        }\n\n        var topShape = container.addShape('Polyline', {\n          className: 'line',\n          attrs: mix({\n            points: topPoints,\n            smooth: smooth\n          }, style)\n        });\n        var bottomShape = container.addShape('Polyline', {\n          className: 'line',\n          attrs: mix({\n            points: bottomPoints,\n            smooth: smooth\n          }, style)\n        });\n        return [topShape, bottomShape];\n      }\n\n      if (cfg.isInCircle) {\n        points.push(points[0]);\n      }\n\n      return container.addShape('Polyline', {\n        className: 'line',\n        attrs: mix({\n          points: points,\n          smooth: smooth\n        }, style)\n      });\n    }\n\n    var SHAPES$1 = ['line', 'smooth', 'dash'];\n    each(SHAPES$1, function (shapeType) {\n      Shape$1.registerShape('line', shapeType, {\n        draw: function draw(cfg, container) {\n          var smooth = shapeType === 'smooth';\n          var style = getStyle$1(cfg);\n\n          if (shapeType === 'dash') {\n            style.lineDash = Global.lineDash;\n          }\n\n          return drawLines(cfg, container, style, smooth);\n        }\n      });\n    });\n\n    var Path = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Path, _Geom);\n\n      function Path() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Path.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'path';\n        cfg.shapeType = 'line';\n        return cfg;\n      };\n\n      _proto.getDrawCfg = function getDrawCfg(obj) {\n        var cfg = _Geom.prototype.getDrawCfg.call(this, obj);\n\n        cfg.isStack = this.hasAdjust('stack');\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        var yScale = self.getYScale();\n        var connectNulls = self.get('connectNulls');\n        var splitArrayObj = splitArray(data, yScale.field, connectNulls);\n        var cfg = this.getDrawCfg(data[0]);\n        cfg.origin = data;\n        each(splitArrayObj, function (subData, splitedIndex) {\n          cfg.splitedIndex = splitedIndex;\n          cfg.points = subData;\n          self.drawShape(cfg.shape, data[0], cfg, container, shapeFactory);\n        });\n      };\n\n      return Path;\n    }(Geom);\n\n    Geom.Path = Path;\n\n    var Line$3 = /*#__PURE__*/function (_Path) {\n      _inheritsLoose(Line, _Path);\n\n      function Line() {\n        return _Path.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Path.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'line';\n        cfg.sortable = true;\n        return cfg;\n      };\n\n      return Line;\n    }(Path);\n\n    Geom.Line = Line$3;\n\n    function equals(v1, v2) {\n      return Math.abs(v1 - v2) < 0.00001;\n    }\n\n    function notEmpty(value) {\n      return !isNaN(value) && !isNil(value);\n    }\n\n    function filterPoints(points) {\n      var filteredPoints = []; // filter the point which x or y is NaN\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n\n        if (notEmpty(point.x) && notEmpty(point.y)) {\n          filteredPoints.push(point);\n        }\n      }\n\n      return filteredPoints;\n    }\n\n    function equalsCenter(points, center) {\n      var eqls = true;\n      each(points, function (point) {\n        if (!equals(point.x, center.x) || !equals(point.y, center.y)) {\n          eqls = false;\n          return false;\n        }\n      });\n      return eqls;\n    }\n\n    function drawRectShape(topPoints, bottomPoints, container, style, isSmooth) {\n      var shape;\n      var points = topPoints.concat(bottomPoints);\n\n      if (isSmooth) {\n        shape = container.addShape('Custom', {\n          className: 'area',\n          attrs: mix({\n            points: points\n          }, style),\n          createPath: function createPath(context) {\n            var constaint = [[0, 0], [1, 1]];\n            var points = filterPoints(this._attrs.attrs.points);\n            var pointsLen = points.length;\n            var topPoints = points.slice(0, pointsLen / 2);\n            var bottomPoints = points.slice(pointsLen / 2, pointsLen);\n            var topSps = catmullRom2bezier(topPoints, false, constaint);\n            context.beginPath();\n            context.moveTo(topPoints[0].x, topPoints[0].y);\n\n            for (var i = 0, n = topSps.length; i < n; i++) {\n              var sp = topSps[i];\n              context.bezierCurveTo(sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]);\n            }\n\n            if (bottomPoints.length) {\n              var bottomSps = catmullRom2bezier(bottomPoints, false, constaint);\n              context.lineTo(bottomPoints[0].x, bottomPoints[0].y);\n\n              for (var _i = 0, _n = bottomSps.length; _i < _n; _i++) {\n                var _sp = bottomSps[_i];\n                context.bezierCurveTo(_sp[1], _sp[2], _sp[3], _sp[4], _sp[5], _sp[6]);\n              }\n            }\n\n            context.closePath();\n          },\n          calculateBox: function calculateBox() {\n            var points = filterPoints(this._attrs.attrs.points);\n            return getBBoxFromPoints(points);\n          }\n        });\n      } else {\n        shape = container.addShape('Polyline', {\n          className: 'area',\n          attrs: mix({\n            points: points\n          }, style)\n        });\n      }\n\n      return shape;\n    }\n\n    function drawShape$1(cfg, container, isSmooth) {\n      var self = this;\n      var points = cfg.points;\n      var topPoints = [];\n      var bottomPoints = [];\n      each(points, function (point) {\n        bottomPoints.push(point[0]);\n        topPoints.push(point[1]);\n      });\n      var style = mix({\n        fillStyle: cfg.color\n      }, Global.shape.area, cfg.style);\n      bottomPoints.reverse();\n      topPoints = self.parsePoints(topPoints);\n      bottomPoints = self.parsePoints(bottomPoints);\n\n      if (cfg.isInCircle) {\n        topPoints.push(topPoints[0]);\n        bottomPoints.unshift(bottomPoints[bottomPoints.length - 1]);\n\n        if (equalsCenter(bottomPoints, cfg.center)) {\n          bottomPoints = [];\n        }\n      }\n\n      return drawRectShape(topPoints, bottomPoints, container, style, isSmooth);\n    }\n\n    var Area = Shape$1.registerFactory('area', {\n      defaultShapeType: 'area',\n      getDefaultPoints: function getDefaultPoints(obj) {\n        var x = obj.x;\n        var y = obj.y;\n        var y0 = obj.y0;\n        y = isArray(y) ? y : [y0, y];\n        var points = [];\n        points.push({\n          x: x,\n          y: y[0]\n        }, {\n          x: x,\n          y: y[1]\n        });\n        return points;\n      }\n    });\n    var SHAPES$2 = ['area', 'smooth'];\n    each(SHAPES$2, function (shapeType) {\n      Shape$1.registerShape('area', shapeType, {\n        draw: function draw(cfg, container) {\n          var smooth = shapeType === 'smooth';\n          return drawShape$1.call(this, cfg, container, smooth);\n        }\n      });\n    });\n\n    var Area$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Area, _Geom);\n\n      function Area() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Area.prototype;\n\n      /**\n       * get the default configuration\n       * @protected\n       * @return {Object} return the result\n       */\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'area';\n        cfg.shapeType = 'area';\n        cfg.generatePoints = true;\n        cfg.sortable = true;\n        return cfg;\n      };\n\n      _proto.draw = function draw(data, shapeFactory) {\n        var self = this;\n        var container = self.get('container');\n        var cfg = this.getDrawCfg(data[0]);\n        var yScale = self.getYScale();\n        var connectNulls = self.get('connectNulls');\n        var splitArrayfn = splitArray(data, yScale.field, connectNulls);\n        cfg.origin = data;\n        each(splitArrayfn, function (subData, splitedIndex) {\n          cfg.splitedIndex = splitedIndex;\n          var points = subData.map(function (obj) {\n            return obj.points;\n          });\n          cfg.points = points;\n          self.drawShape(cfg.shape, data[0], cfg, container, shapeFactory);\n        });\n      };\n\n      return Area;\n    }(Geom);\n\n    Geom.Area = Area$1;\n\n    /**\n     * @fileOverview Utility for calculate the with ratui in x axis\n     * @author sima.zhang1990@gmail.com\n     * @author dxq613@gmail.com\n     */\n    var SizeMixin = {\n      initEvent: function initEvent() {\n        var _this = this;\n\n        var chart = this.get('chart');\n\n        if (!chart) {\n          return;\n        }\n\n        chart.on(EVENT_AFTER_SIZE_CHANGE, function () {\n          _this.set('_width', null);\n        });\n      },\n      getDefaultSize: function getDefaultSize() {\n        var defaultSize = this.get('defaultSize');\n\n        if (!defaultSize) {\n          var coord = this.get('coord');\n          var xScale = this.getXScale();\n          var dataArray = this.get('dataArray');\n          var values = uniq(xScale.values);\n          var count = values.length;\n          var range = xScale.range;\n          var normalizeSize = 1 / count;\n          var widthRatio = 1;\n\n          if (coord && coord.isPolar) {\n            if (coord.transposed && count > 1) {\n              widthRatio = Global.widthRatio.multiplePie;\n            } else {\n              widthRatio = Global.widthRatio.rose;\n            }\n          } else {\n            if (xScale.isLinear) {\n              normalizeSize *= range[1] - range[0];\n            }\n\n            widthRatio = Global.widthRatio.column;\n          }\n\n          normalizeSize *= widthRatio;\n\n          if (this.hasAdjust('dodge')) {\n            normalizeSize = normalizeSize / dataArray.length;\n          }\n\n          defaultSize = normalizeSize;\n          this.set('defaultSize', defaultSize);\n        }\n\n        return defaultSize;\n      },\n      getDimWidth: function getDimWidth(dimName) {\n        var coord = this.get('coord');\n        var start = coord.convertPoint({\n          x: 0,\n          y: 0\n        });\n        var end = coord.convertPoint({\n          x: dimName === 'x' ? 1 : 0,\n          y: dimName === 'x' ? 0 : 1\n        });\n        var width = 0;\n\n        if (start && end) {\n          width = Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n        }\n\n        return width;\n      },\n      _getWidth: function _getWidth() {\n        var width = this.get('_width');\n\n        if (!width) {\n          var coord = this.get('coord');\n\n          if (coord && coord.isPolar && !coord.transposed) {\n            width = (coord.endAngle - coord.startAngle) * coord.circleRadius;\n          } else {\n            width = this.getDimWidth('x');\n          }\n\n          this.set('_width', width);\n        }\n\n        return width;\n      },\n      _toNormalizedSize: function _toNormalizedSize(size) {\n        var width = this._getWidth();\n\n        return size / width;\n      },\n      _toCoordSize: function _toCoordSize(normalizeSize) {\n        var width = this._getWidth();\n\n        return width * normalizeSize;\n      },\n      getNormalizedSize: function getNormalizedSize(obj) {\n        var size = this.getAttrValue('size', obj);\n\n        if (isNil(size)) {\n          size = this.getDefaultSize();\n        } else {\n          size = this._toNormalizedSize(size);\n        }\n\n        return size;\n      },\n      getSize: function getSize(obj) {\n        var size = this.getAttrValue('size', obj);\n\n        if (isNil(size)) {\n          var normalizeSize = this.getDefaultSize();\n          size = this._toCoordSize(normalizeSize);\n        }\n\n        return size;\n      }\n    };\n\n    function getRectPoints(cfg) {\n      var x = cfg.x,\n          y = cfg.y,\n          y0 = cfg.y0,\n          size = cfg.size;\n      var ymin = y0;\n      var ymax = y;\n\n      if (isArray(y)) {\n        ymax = y[1];\n        ymin = y[0];\n      }\n\n      var xmin;\n      var xmax;\n\n      if (isArray(x)) {\n        xmin = x[0];\n        xmax = x[1];\n      } else {\n        xmin = x - size / 2;\n        xmax = x + size / 2;\n      }\n\n      return [{\n        x: xmin,\n        y: ymin\n      }, {\n        x: xmin,\n        y: ymax\n      }, {\n        x: xmax,\n        y: ymax\n      }, {\n        x: xmax,\n        y: ymin\n      }];\n    }\n\n    function getRectRange(points) {\n      var xValues = [];\n      var yValues = [];\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        xValues.push(point.x);\n        yValues.push(point.y);\n      }\n\n      var xMin = Math.min.apply(null, xValues);\n      var yMin = Math.min.apply(null, yValues);\n      var xMax = Math.max.apply(null, xValues);\n      var yMax = Math.max.apply(null, yValues);\n      return {\n        x: xMin,\n        y: yMin,\n        width: xMax - xMin,\n        height: yMax - yMin\n      };\n    }\n\n    function getMiddlePoint(a, b) {\n      var x = (a.x - b.x) / 2 + b.x;\n      var y = (a.y - b.y) / 2 + b.y;\n      return {\n        x: x,\n        y: y\n      };\n    }\n\n    var Interval = Shape$1.registerFactory('interval', {\n      defaultShapeType: 'rect',\n      getDefaultPoints: function getDefaultPoints(cfg) {\n        return getRectPoints(cfg);\n      }\n    });\n    Shape$1.registerShape('interval', 'rect', {\n      draw: function draw(cfg, container) {\n        var points = this.parsePoints(cfg.points);\n        var style = mix({\n          fill: cfg.color\n        }, Global.shape.interval, cfg.style);\n\n        if (cfg.isInCircle) {\n          var newPoints = points.slice(0);\n\n          if (this._coord.transposed) {\n            newPoints = [points[0], points[3], points[2], points[1]];\n          }\n\n          var _cfg$center = cfg.center,\n              x = _cfg$center.x,\n              y = _cfg$center.y;\n          var v = [1, 0];\n          var v0 = [newPoints[0].x - x, newPoints[0].y - y];\n          var v1 = [newPoints[1].x - x, newPoints[1].y - y];\n          var v2 = [newPoints[2].x - x, newPoints[2].y - y];\n          var startAngle = Vector2.angleTo(v, v1);\n          var endAngle = Vector2.angleTo(v, v2);\n          var r0 = Vector2.length(v0);\n          var r = Vector2.length(v1);\n\n          if (startAngle >= 1.5 * Math.PI) {\n            startAngle = startAngle - 2 * Math.PI;\n          }\n\n          if (endAngle >= 1.5 * Math.PI) {\n            endAngle = endAngle - 2 * Math.PI;\n          }\n\n          return container.addShape('Sector', {\n            className: 'interval',\n            attrs: mix({\n              x: x,\n              y: y,\n              r: r,\n              r0: r0,\n              startAngle: startAngle,\n              endAngle: endAngle\n            }, style)\n          });\n        }\n\n        var rectCfg = getRectRange(points);\n        return container.addShape('rect', {\n          className: 'interval',\n          attrs: mix(rectCfg, style)\n        });\n      }\n    }); // 金字塔 和 漏斗图\n\n    ['pyramid', 'funnel'].forEach(function (shapeType) {\n      Shape$1.registerShape('interval', shapeType, {\n        getPoints: function getPoints(cfg) {\n          cfg.size = cfg.size * 2; // 漏斗图的 size 是柱状图的两倍\n\n          return getRectPoints(cfg);\n        },\n        draw: function draw(cfg, container) {\n          var points = this.parsePoints(cfg.points);\n          var nextPoints = this.parsePoints(cfg.nextPoints);\n          var polygonPoints = null;\n\n          if (nextPoints) {\n            polygonPoints = [points[0], points[1], nextPoints[1], nextPoints[0]];\n          } else {\n            polygonPoints = [points[0], points[1]]; // pyramid 顶部是三角形，所以取中心点就好了，funnel顶部是长方形\n\n            if (shapeType === 'pyramid') {\n              polygonPoints.push(getMiddlePoint(points[2], points[3]));\n            } else {\n              polygonPoints.push(points[2], points[3]);\n            }\n          }\n\n          var attrs = mix({\n            fill: cfg.color,\n            points: polygonPoints\n          }, Global.shape.interval, cfg.style);\n          return container.addShape('polygon', {\n            className: 'interval',\n            attrs: attrs\n          });\n        }\n      });\n    });\n\n    var Interval$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Interval, _Geom);\n\n      var _proto = Interval.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'interval';\n        cfg.shapeType = 'interval';\n        cfg.generatePoints = true;\n        return cfg;\n      };\n\n      function Interval(cfg) {\n        var _this;\n\n        _this = _Geom.call(this, cfg) || this;\n        mix(_assertThisInitialized(_this), SizeMixin);\n        return _this;\n      }\n\n      _proto.init = function init() {\n        _Geom.prototype.init.call(this); // 绑定事件\n\n\n        this.initEvent();\n      };\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var cfg = _Geom.prototype.createShapePointsCfg.call(this, obj);\n\n        cfg.size = this.getNormalizedSize(obj);\n        return cfg;\n      };\n\n      _proto.clearInner = function clearInner() {\n        _Geom.prototype.clearInner.call(this);\n\n        this.set('defaultSize', null);\n      };\n\n      return Interval;\n    }(Geom);\n\n    Geom.Interval = Interval$1;\n\n    var Polygon$1 = Shape$1.registerFactory('polygon', {\n      defaultShapeType: 'polygon',\n      getDefaultPoints: function getDefaultPoints(pointInfo) {\n        var points = [];\n        var x = pointInfo.x,\n            y = pointInfo.y;\n\n        for (var i = 0, len = x.length; i < len; i++) {\n          points.push({\n            x: x[i],\n            y: y[i]\n          });\n        }\n\n        return points;\n      }\n    });\n    Shape$1.registerShape('polygon', 'polygon', {\n      draw: function draw(cfg, container) {\n        var points = this.parsePoints(cfg.points);\n        var style = mix({\n          fill: cfg.color,\n          points: points\n        }, cfg.style);\n        return container.addShape('Polygon', {\n          className: 'polygon',\n          attrs: style\n        });\n      }\n    });\n\n    var Polygon$2 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Polygon, _Geom);\n\n      function Polygon() {\n        return _Geom.apply(this, arguments) || this;\n      }\n\n      var _proto = Polygon.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'polygon';\n        cfg.shapeType = 'polygon';\n        cfg.generatePoints = true;\n        return cfg;\n      };\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var cfg = _Geom.prototype.createShapePointsCfg.call(this, obj);\n\n        var self = this;\n        var x = cfg.x;\n        var y = cfg.y;\n        var temp;\n\n        if (!(isArray(x) && isArray(y))) {\n          var xScale = self.getXScale();\n          var yScale = self.getYScale();\n          var xCount = xScale.values ? xScale.values.length : xScale.ticks.length;\n          var yCount = yScale.values ? yScale.values.length : yScale.ticks.length;\n          var xOffset = 0.5 * 1 / xCount;\n          var yOffset = 0.5 * 1 / yCount;\n\n          if (xScale.isCategory && yScale.isCategory) {\n            x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n            y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n          } else if (isArray(x)) {\n            temp = x;\n            x = [temp[0], temp[0], temp[1], temp[1]];\n            y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n          } else if (isArray(y)) {\n            temp = y;\n            y = [temp[0], temp[1], temp[1], temp[0]];\n            x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n          }\n\n          cfg.x = x;\n          cfg.y = y;\n        }\n\n        return cfg;\n      };\n\n      return Polygon;\n    }(Geom);\n\n    Geom.Polygon = Polygon$2;\n\n    function _sortValue(value) {\n      var sorted = value.sort(function (a, b) {\n        return a < b ? 1 : -1;\n      });\n      var length = sorted.length;\n\n      if (length < 4) {\n        var min = sorted[length - 1];\n\n        for (var i = 0; i < 4 - length; i++) {\n          sorted.push(min);\n        }\n      }\n\n      return sorted;\n    } // from left bottom corner, and clockwise\n\n\n    function getCandlePoints(x, y, width) {\n      var yValues = _sortValue(y);\n\n      var points = [{\n        x: x,\n        y: yValues[0]\n      }, {\n        x: x,\n        y: yValues[1]\n      }, {\n        x: x - width / 2,\n        y: yValues[2]\n      }, {\n        x: x - width / 2,\n        y: yValues[1]\n      }, {\n        x: x + width / 2,\n        y: yValues[1]\n      }, {\n        x: x + width / 2,\n        y: yValues[2]\n      }, {\n        x: x,\n        y: yValues[2]\n      }, {\n        x: x,\n        y: yValues[3]\n      }];\n      return points;\n    }\n\n    var Schema = Shape$1.registerFactory('schema', {});\n    Shape$1.registerShape('schema', 'candle', {\n      getPoints: function getPoints(cfg) {\n        return getCandlePoints(cfg.x, cfg.y, cfg.size);\n      },\n      draw: function draw(cfg, container) {\n        var points = this.parsePoints(cfg.points);\n        var style = mix({\n          stroke: cfg.color,\n          fill: cfg.color,\n          lineWidth: 1\n        }, cfg.style);\n        return container.addShape('Custom', {\n          className: 'schema',\n          attrs: style,\n          createPath: function createPath(ctx) {\n            ctx.beginPath();\n            ctx.moveTo(points[0].x, points[0].y);\n            ctx.lineTo(points[1].x, points[1].y);\n            ctx.moveTo(points[2].x, points[2].y);\n\n            for (var i = 3; i < 6; i++) {\n              ctx.lineTo(points[i].x, points[i].y);\n            }\n\n            ctx.closePath();\n            ctx.moveTo(points[6].x, points[6].y);\n            ctx.lineTo(points[7].x, points[7].y);\n          }\n        });\n      }\n    });\n\n    var Schema$1 = /*#__PURE__*/function (_Geom) {\n      _inheritsLoose(Schema, _Geom);\n\n      var _proto = Schema.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Geom.prototype.getDefaultCfg.call(this);\n\n        cfg.type = 'schema';\n        cfg.shapeType = 'schema';\n        cfg.generatePoints = true;\n        return cfg;\n      };\n\n      function Schema(cfg) {\n        var _this;\n\n        _this = _Geom.call(this, cfg) || this;\n        mix(_assertThisInitialized(_this), SizeMixin);\n        return _this;\n      }\n\n      _proto.init = function init() {\n        _Geom.prototype.init.call(this); // 绑定事件\n\n\n        this.initEvent();\n      };\n\n      _proto.createShapePointsCfg = function createShapePointsCfg(obj) {\n        var cfg = _Geom.prototype.createShapePointsCfg.call(this, obj);\n\n        cfg.size = this.getNormalizedSize(obj);\n        return cfg;\n      };\n\n      _proto.clearInner = function clearInner() {\n        _Geom.prototype.clearInner.call(this);\n\n        this.set('defaultSize', null);\n      };\n\n      return Schema;\n    }(Geom);\n\n    Geom.Schema = Schema$1;\n\n    var toString$3 = {}.toString;\n\n    var isType$1 = function isType(value, type) {\n      return toString$3.call(value) === '[object ' + type + ']';\n    };\n\n    var isType_1 = isType$1;\n\n    var isArray$1 = Array.isArray ? Array.isArray : function (value) {\n      return isType_1(value, 'Array');\n    };\n    var isArray_1 = isArray$1;\n\n    // isFinite,\n    var isNil$1 = function isNil(value) {\n      /**\n       * isNil(null) => true\n       * isNil() => true\n       */\n      return value === null || value === undefined;\n    };\n\n    var isNil_1 = isNil$1;\n\n    function _inheritsLoose$1(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    var Stack = /*#__PURE__*/function (_Adjust) {\n      _inheritsLoose$1(Stack, _Adjust);\n\n      function Stack() {\n        return _Adjust.apply(this, arguments) || this;\n      }\n\n      var _proto = Stack.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.xField = null; // 调整对应的 x 方向对应的字段名称\n\n        this.yField = null; // 调整对应的 y 方向对应的字段名称\n      };\n\n      _proto.processAdjust = function processAdjust(dataArray) {\n        this.processStack(dataArray);\n      };\n\n      _proto.processStack = function processStack(dataArray) {\n        var self = this;\n        var xField = self.xField;\n        var yField = self.yField;\n        var count = dataArray.length;\n        var stackCache = {\n          positive: {},\n          negative: {}\n        }; // 层叠顺序翻转\n\n        if (self.reverseOrder) {\n          dataArray = dataArray.slice(0).reverse();\n        }\n\n        for (var i = 0; i < count; i++) {\n          var data = dataArray[i];\n\n          for (var j = 0, len = data.length; j < len; j++) {\n            var item = data[j];\n            var x = item[xField] || 0;\n            var y = item[yField];\n            var xkey = x.toString();\n            y = isArray_1(y) ? y[1] : y;\n\n            if (!isNil_1(y)) {\n              var direction = y >= 0 ? 'positive' : 'negative';\n\n              if (!stackCache[direction][xkey]) {\n                stackCache[direction][xkey] = 0;\n              }\n\n              item[yField] = [stackCache[direction][xkey], y + stackCache[direction][xkey]];\n              stackCache[direction][xkey] += y;\n            }\n          }\n        }\n      };\n\n      return Stack;\n    }(base);\n\n    base.Stack = Stack;\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    var isObject$1 = function isObject(value) {\n      /**\n       * isObject({}) => true\n       * isObject([1, 2, 3]) => true\n       * isObject(Function) => true\n       * isObject(null) => false\n       */\n      var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n      return value !== null && type === 'object' || type === 'function';\n    };\n\n    var isObject_1 = isObject$1;\n\n    var each$1 = function each(elements, func) {\n      if (!elements) {\n        return;\n      }\n\n      var rst = void 0;\n\n      if (isArray_1(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n          rst = func(elements[i], i);\n\n          if (rst === false) {\n            break;\n          }\n        }\n      } else if (isObject_1(elements)) {\n        for (var k in elements) {\n          if (elements.hasOwnProperty(k)) {\n            rst = func(elements[k], k);\n\n            if (rst === false) {\n              break;\n            }\n          }\n        }\n      }\n    };\n\n    var each_1 = each$1;\n\n    function _inheritsLoose$2(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    var MARGIN_RATIO = 1 / 2;\n    var DODGE_RATIO = 1 / 2;\n\n    var Dodge = /*#__PURE__*/function (_Adjust) {\n      _inheritsLoose$2(Dodge, _Adjust);\n\n      function Dodge() {\n        return _Adjust.apply(this, arguments) || this;\n      }\n\n      var _proto = Dodge.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        /**\n         * 调整过程中,2个数据的间距\n         * @type {Number}\n         */\n        this.marginRatio = MARGIN_RATIO;\n        /**\n         * 调整占单位宽度的比例,例如：占2个分类间距的 1/2\n         * @type {Number}\n         */\n\n        this.dodgeRatio = DODGE_RATIO;\n        this.adjustNames = ['x', 'y']; // 调整的维度，默认,x,y都做调整\n      };\n\n      _proto.getDodgeOffset = function getDodgeOffset(range, index, count) {\n        var self = this;\n        var pre = range.pre;\n        var next = range.next;\n        var tickLength = next - pre;\n        var width = tickLength * self.dodgeRatio / count;\n        var margin = self.marginRatio * width;\n        var offset = 1 / 2 * (tickLength - count * width - (count - 1) * margin) + ((index + 1) * width + index * margin) - 1 / 2 * width - 1 / 2 * tickLength;\n        return (pre + next) / 2 + offset;\n      };\n\n      _proto.processAdjust = function processAdjust(dataArray) {\n        var self = this;\n        var count = dataArray.length;\n        var xField = self.xField;\n        each_1(dataArray, function (data, index) {\n          for (var i = 0, len = data.length; i < len; i++) {\n            var obj = data[i];\n            var value = obj[xField];\n            var range = {\n              pre: len === 1 ? value - 1 : value - 0.5,\n              next: len === 1 ? value + 1 : value + 0.5\n            };\n            var dodgeValue = self.getDodgeOffset(range, index, count);\n            obj[xField] = dodgeValue;\n          }\n        });\n      };\n\n      return Dodge;\n    }(base);\n\n    base.Dodge = Dodge;\n\n    /**\n     * 是否为函数\n     * @param  {*} fn 对象\n     * @return {Boolean}  是否函数\n     */\n\n    var isFunction$1 = function isFunction(value) {\n      return isType_1(value, 'Function');\n    };\n\n    var isFunction_1 = isFunction$1;\n\n    /**\n     * @param {Array} arr The array to iterate over.\n     * @param {Function} [fn] The iteratee invoked per element.\n     * @return {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n\n    var maxBy = function maxBy(arr, fn) {\n      if (!isArray_1(arr)) {\n        return undefined;\n      }\n\n      var max = arr[0];\n      var maxData = void 0;\n\n      if (isFunction_1(fn)) {\n        maxData = fn(arr[0]);\n      } else {\n        maxData = arr[0][fn];\n      }\n\n      var data = void 0;\n      each_1(arr, function (val) {\n        if (isFunction_1(fn)) {\n          data = fn(val);\n        } else {\n          data = val[fn];\n        }\n\n        if (data > maxData) {\n          max = val;\n          maxData = data;\n        }\n      });\n      return max;\n    };\n\n    var maxBy_1 = maxBy;\n\n    var merge$1 = function merge(dataArray) {\n      var rst = [];\n\n      for (var i = 0; i < dataArray.length; i++) {\n        rst = rst.concat(dataArray[i]);\n      }\n\n      return rst;\n    };\n\n    var merge_1 = merge$1;\n\n    function _inheritsLoose$3(subClass, superClass) {\n      subClass.prototype = Object.create(superClass.prototype);\n      subClass.prototype.constructor = subClass;\n      subClass.__proto__ = superClass;\n    }\n\n    var ArrayUtil = {\n      merge: merge_1\n    };\n\n    var Symmetric = /*#__PURE__*/function (_Adjust) {\n      _inheritsLoose$3(Symmetric, _Adjust);\n\n      function Symmetric() {\n        return _Adjust.apply(this, arguments) || this;\n      }\n\n      var _proto = Symmetric.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.xField = null; // 调整对应的 x 方向对应的字段名称\n\n        this.yField = null; // 调整对应的 y 方向对应的字段名称\n\n        this.cacheMax = null; // 缓存的最大值\n\n        this.adjustNames = ['y']; // Only support stack y\n\n        this.groupFields = null; // 参与分组的数据维度\n      }; // 获取最大的y值\n\n\n      _proto._getMax = function _getMax(dim) {\n        var self = this;\n        var mergeData = self.mergeData;\n        var maxRecord = maxBy_1(mergeData, function (obj) {\n          var value = obj[dim];\n\n          if (isArray_1(value)) {\n            return Math.max.apply(null, value);\n          }\n\n          return value;\n        });\n        var maxValue = maxRecord[dim];\n        var max = isArray_1(maxValue) ? Math.max.apply(null, maxValue) : maxValue;\n        return max;\n      }; // 获取每个字段最大的值\n\n\n      _proto._getXValuesMax = function _getXValuesMax() {\n        var self = this;\n        var yField = self.yField;\n        var xField = self.xField;\n        var cache = {};\n        var mergeData = self.mergeData;\n        each_1(mergeData, function (obj) {\n          var xValue = obj[xField];\n          var yValue = obj[yField];\n          var max = isArray_1(yValue) ? Math.max.apply(null, yValue) : yValue;\n          cache[xValue] = cache[xValue] || 0;\n\n          if (cache[xValue] < max) {\n            cache[xValue] = max;\n          }\n        });\n        return cache;\n      }; // 入口函数\n\n\n      _proto.processAdjust = function processAdjust(dataArray) {\n        var self = this;\n        var mergeData = ArrayUtil.merge(dataArray);\n        self.mergeData = mergeData;\n\n        self._processSymmetric(dataArray);\n\n        self.mergeData = null;\n      }; // 处理对称\n\n\n      _proto._processSymmetric = function _processSymmetric(dataArray) {\n        var self = this;\n        var xField = self.xField;\n        var yField = self.yField;\n\n        var max = self._getMax(yField);\n\n        var first = dataArray[0][0];\n        var cache;\n\n        if (first && isArray_1(first[yField])) {\n          cache = self._getXValuesMax();\n        }\n\n        each_1(dataArray, function (data) {\n          each_1(data, function (obj) {\n            var value = obj[yField];\n            var offset;\n\n            if (isArray_1(value)) {\n              var xValue = obj[xField];\n              var valueMax = cache[xValue];\n              offset = (max - valueMax) / 2;\n              var tmp = [];\n              /* eslint-disable no-loop-func */\n\n              each_1(value, function (subVal) {\n                // 多个字段\n                tmp.push(offset + subVal);\n              });\n              /* eslint-enable no-loop-func */\n\n              obj[yField] = tmp;\n            } else {\n              offset = (max - value) / 2;\n              obj[yField] = [offset, value + offset];\n            }\n          });\n        });\n      };\n\n      return Symmetric;\n    }(base);\n\n    base.Symmetric = Symmetric;\n\n    var Polar = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Polar, _Base);\n\n      function Polar() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Polar.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'polar';\n        this.startAngle = -Math.PI / 2;\n        this.endAngle = Math.PI * 3 / 2;\n        this.inner = 0;\n        this.innerRadius = 0; // alias\n\n        this.isPolar = true;\n        this.transposed = false;\n        this.center = null;\n        this.radius = null; // relative, 0 ~ 1\n      };\n\n      _proto.init = function init(start, end) {\n        _Base.prototype.init.call(this, start, end);\n\n        var self = this;\n        var inner = self.inner || self.innerRadius;\n        var width = Math.abs(end.x - start.x);\n        var height = Math.abs(end.y - start.y);\n        var maxRadius;\n        var center;\n\n        if (self.startAngle === -Math.PI && self.endAngle === 0) {\n          maxRadius = Math.min(width / 2, height);\n          center = {\n            x: (start.x + end.x) / 2,\n            y: start.y\n          };\n        } else {\n          maxRadius = Math.min(width, height) / 2;\n          center = {\n            x: (start.x + end.x) / 2,\n            y: (start.y + end.y) / 2\n          };\n        }\n\n        var radius = self.radius;\n\n        if (radius > 0 && radius <= 1) {\n          maxRadius = maxRadius * radius;\n        }\n\n        this.x = {\n          start: self.startAngle,\n          end: self.endAngle\n        };\n        this.y = {\n          start: maxRadius * inner,\n          end: maxRadius\n        };\n        this.center = center;\n        this.circleRadius = maxRadius; // the radius value in px\n      };\n\n      _proto._convertPoint = function _convertPoint(point) {\n        var self = this;\n        var center = self.center;\n        var transposed = self.transposed;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var x = self.x;\n        var y = self.y;\n        var angle = x.start + (x.end - x.start) * point[xDim];\n        var radius = y.start + (y.end - y.start) * point[yDim];\n        return {\n          x: center.x + Math.cos(angle) * radius,\n          y: center.y + Math.sin(angle) * radius\n        };\n      };\n\n      _proto._invertPoint = function _invertPoint(point) {\n        var self = this;\n        var center = self.center,\n            transposed = self.transposed,\n            x = self.x,\n            y = self.y;\n        var xDim = transposed ? 'y' : 'x';\n        var yDim = transposed ? 'x' : 'y';\n        var m = [1, 0, 0, 1, 0, 0];\n        Matrix.rotate(m, m, x.start);\n        var startV = [1, 0];\n        Vector2.transformMat2d(startV, startV, m);\n        startV = [startV[0], startV[1]];\n        var pointV = [point.x - center.x, point.y - center.y];\n\n        if (Vector2.zero(pointV)) {\n          return {\n            x: 0,\n            y: 0\n          };\n        }\n\n        var theta = Vector2.angleTo(startV, pointV, x.end < x.start);\n\n        if (Math.abs(theta - Math.PI * 2) < 0.001) {\n          theta = 0;\n        }\n\n        var l = Vector2.length(pointV);\n        var percentX = theta / (x.end - x.start);\n        percentX = x.end - x.start > 0 ? percentX : -percentX;\n        var percentY = (l - y.start) / (y.end - y.start);\n        var rst = {};\n        rst[xDim] = percentX;\n        rst[yDim] = percentY;\n        return rst;\n      };\n\n      return Polar;\n    }(Base$1);\n\n    Base$1.Polar = Polar;\n\n    var Circle$1 = /*#__PURE__*/function (_Abstract) {\n      _inheritsLoose(Circle, _Abstract);\n\n      function Circle() {\n        return _Abstract.apply(this, arguments) || this;\n      }\n\n      var _proto = Circle.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        _Abstract.prototype._initDefaultCfg.call(this);\n\n        this.startAngle = -Math.PI / 2; // start angle，in radian\n\n        this.endAngle = Math.PI * 3 / 2; // end angle, in radian\n\n        this.radius = null; // radius\n\n        this.center = null; // center\n      };\n\n      _proto.getOffsetPoint = function getOffsetPoint(value) {\n        var startAngle = this.startAngle,\n            endAngle = this.endAngle;\n        var angle = startAngle + (endAngle - startAngle) * value;\n        return this._getCirclePoint(angle);\n      };\n\n      _proto._getCirclePoint = function _getCirclePoint(angle, radius) {\n        var self = this;\n        var center = self.center;\n        radius = radius || self.radius;\n        return {\n          x: center.x + Math.cos(angle) * radius,\n          y: center.y + Math.sin(angle) * radius\n        };\n      };\n\n      _proto.getTextAlignInfo = function getTextAlignInfo(point, offset) {\n        var self = this;\n        var offsetVector = self.getOffsetVector(point, offset);\n        var align;\n        var baseLine = 'middle';\n\n        if (offsetVector[0] > 0) {\n          align = 'left';\n        } else if (offsetVector[0] < 0) {\n          align = 'right';\n        } else {\n          align = 'center';\n\n          if (offsetVector[1] > 0) {\n            baseLine = 'top';\n          } else if (offsetVector[1] < 0) {\n            baseLine = 'bottom';\n          }\n        }\n\n        return {\n          textAlign: align,\n          textBaseline: baseLine\n        };\n      };\n\n      _proto.getAxisVector = function getAxisVector(point) {\n        var center = this.center;\n        var factor = this.offsetFactor;\n        return [(point.y - center.y) * factor, (point.x - center.x) * -1 * factor];\n      };\n\n      _proto.drawLine = function drawLine(lineCfg) {\n        var center = this.center,\n            radius = this.radius,\n            startAngle = this.startAngle,\n            endAngle = this.endAngle;\n        var container = this.getContainer(lineCfg.top);\n        container.addShape('arc', {\n          className: 'axis-line',\n          attrs: mix({\n            x: center.x,\n            y: center.y,\n            r: radius,\n            startAngle: startAngle,\n            endAngle: endAngle\n          }, lineCfg)\n        });\n      };\n\n      return Circle;\n    }(Abastract);\n\n    Abastract.Circle = Circle$1;\n\n    var KEYWORDS_PERCENT = {\n      min: 0,\n      median: 0.5,\n      max: 1\n    };\n\n    var GuideBase = /*#__PURE__*/function () {\n      var _proto = GuideBase.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {};\n\n      function GuideBase(cfg) {\n        this._initDefaultCfg();\n\n        deepMix(this, cfg);\n      }\n\n      _proto._getNormalizedValue = function _getNormalizedValue(val, scale) {\n        var rst;\n\n        if (isNil(KEYWORDS_PERCENT[val])) {\n          rst = scale.scale(val);\n        } else {\n          rst = KEYWORDS_PERCENT[val];\n        }\n\n        return rst;\n      };\n\n      _proto.parsePercentPoint = function parsePercentPoint(coord, position) {\n        var xPercent = parseFloat(position[0]) / 100;\n        var yPercent = parseFloat(position[1]) / 100;\n        var start = coord.start;\n        var end = coord.end;\n        var width = Math.abs(start.x - end.x);\n        var height = Math.abs(start.y - end.y);\n        var x = width * xPercent + Math.min(start.x, end.x);\n        var y = height * yPercent + Math.min(start.y, end.y);\n        return {\n          x: x,\n          y: y\n        };\n      };\n\n      _proto.parsePoint = function parsePoint(coord, position) {\n        var self = this;\n        var xScale = self.xScale;\n        var yScales = self.yScales;\n\n        if (isFunction(position)) {\n          position = position(xScale, yScales); // position 必须是对象\n        } // 如果数据格式是 ['50%', '50%'] 的格式\n        // fix: 原始数据中可能会包含 'xxx5%xxx' 这样的数据，需要判断下 https://github.com/antvis/f2/issues/590\n\n\n        if (isString(position[0]) && position[0].indexOf('%') !== -1 && !isNaN(position[0].slice(0, -1))) {\n          return this.parsePercentPoint(coord, position);\n        }\n\n        var x = self._getNormalizedValue(position[0], xScale);\n\n        var y = self._getNormalizedValue(position[1], yScales[0]);\n\n        var point = coord.convertPoint({\n          x: x,\n          y: y\n        });\n\n        if (self.limitInPlot) {\n          // limit in chart plotRange\n          if (x >= 0 && x <= 1 && y >= 0 && y <= 1) {\n            return point;\n          }\n\n          return null;\n        }\n\n        return point;\n      }\n      /**\n       * render the guide component\n       * @param  {Coord} coord  coordinate instance\n       * @param  {Canvas.Group} group the container\n       */\n      ;\n\n      _proto.render = function render()\n      /* coord,group */\n      {};\n\n      _proto.repaint = function repaint() {\n        this.remove();\n        var coord = this.coord,\n            container = this.container,\n            canvas = this.canvas;\n\n        if (container && !container.isDestroyed()) {\n          this.render(coord, container);\n          canvas.draw();\n        }\n      };\n\n      _proto.remove = function remove() {\n        var element = this.element;\n        element && element.remove(true);\n      };\n\n      _proto.changeVisible = function changeVisible(visible) {\n        var self = this;\n        self.visible = visible;\n        var element = self.element;\n        if (!element) return;\n\n        if (element.set) {\n          element.set('visible', visible);\n        } else {\n          element.style.display = visible ? '' : 'none';\n        }\n      };\n\n      return GuideBase;\n    }();\n\n    var Arc$1 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Arc, _GuideBase);\n\n      function Arc() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Arc.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'arc';\n        /**\n         * start point\n         * @type {Array | Function}\n         */\n\n        this.start = [];\n        /**\n         * end point\n         * @type {Array | Function}\n         */\n\n        this.end = [];\n        /**\n         * style configuration\n         * @type {Object}\n         */\n\n        this.style = {\n          stroke: '#999',\n          lineWidth: 1\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var self = this;\n        var start = self.parsePoint(coord, self.start);\n        var end = self.parsePoint(coord, self.end);\n\n        if (!start || !end) {\n          return;\n        }\n\n        var coordCenter = coord.center;\n        var radius = Math.sqrt((start.x - coordCenter.x) * (start.x - coordCenter.x) + (start.y - coordCenter.y) * (start.y - coordCenter.y));\n        var startAngle = Math.atan2(start.y - coordCenter.y, start.x - coordCenter.x);\n        var endAngle = Math.atan2(end.y - coordCenter.y, end.x - coordCenter.x);\n        var shape = container.addShape('arc', {\n          className: 'guide-arc',\n          attrs: mix({\n            x: coordCenter.x,\n            y: coordCenter.y,\n            r: radius,\n            startAngle: startAngle,\n            endAngle: endAngle\n          }, self.style)\n        });\n        self.element = shape;\n        return shape;\n      };\n\n      return Arc;\n    }(GuideBase);\n\n    GuideBase.Arc = Arc$1;\n\n    function getOffsetFromAlign(alignX, alignY, width, height) {\n      var result = [];\n\n      if (alignX === 'left' && alignY === 'top') {\n        result[0] = 0;\n        result[1] = 0;\n      } else if (alignX === 'right' && alignY === 'top') {\n        result[0] = -width;\n        result[1] = 0;\n      } else if (alignX === 'left' && alignY === 'bottom') {\n        result[0] = 0;\n        result[1] = Math.floor(-height);\n      } else if (alignX === 'right' && alignY === 'bottom') {\n        result[0] = Math.floor(-width);\n        result[1] = Math.floor(-height);\n      } else if (alignX === 'right' && alignY === 'middle') {\n        result[0] = Math.floor(-width);\n        result[1] = Math.floor(-height / 2);\n      } else if (alignX === 'left' && alignY === 'middle') {\n        result[0] = 0;\n        result[1] = Math.floor(-height / 2);\n      } else if (alignX === 'center' && alignY === 'bottom') {\n        result[0] = Math.floor(-width / 2);\n        result[1] = Math.floor(-height);\n      } else if (alignX === 'center' && alignY === 'top') {\n        result[0] = Math.floor(-width / 2);\n        result[1] = 0;\n      } else {\n        result[0] = Math.floor(-width / 2);\n        result[1] = Math.floor(-height / 2);\n      }\n\n      return result;\n    }\n\n    function modifyCSS(DOM, CSS) {\n      for (var key in CSS) {\n        if (CSS.hasOwnProperty(key)) {\n          DOM.style[key] = CSS[key];\n        }\n      }\n\n      return DOM;\n    }\n\n    function createDom(str) {\n      var container = document.createElement('div');\n      str = str.replace(/(^\\s*)|(\\s*$)/g, '');\n      container.innerHTML = '' + str;\n      return container.childNodes[0];\n    }\n\n    var Html = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Html, _GuideBase);\n\n      function Html() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Html.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'html';\n        /**\n         * dom position\n         * @type {Object | Array}\n         */\n\n        this.position = null;\n        /**\n          * alignment for horizontal direction，can be 'left','center','right'\n          * @type {String}\n          */\n\n        this.alignX = 'center';\n        /**\n          * alignment for vertical direction，can be 'top', 'middle', 'bottom'\n          * @type {String}\n          */\n\n        this.alignY = 'middle';\n        /**\n          * offset for horizontal direction\n          * @type {Number}\n          */\n\n        this.offsetX = null;\n        /**\n          * offset for vertical direction\n          * @type {Number}\n          */\n\n        this.offsetY = null;\n        /**\n        * the html string\n        *@type {String | Function}\n        */\n\n        this.html = null;\n      } // override paint\n      ;\n\n      _proto.render = function render(coord, container) {\n        var self = this;\n        var position = self.parsePoint(coord, self.position);\n\n        if (!position) {\n          return;\n        }\n\n        var myNode = createDom(self.html);\n        myNode = modifyCSS(myNode, {\n          position: 'absolute',\n          top: Math.floor(position.y) + 'px',\n          left: Math.floor(position.x) + 'px',\n          visibility: 'hidden'\n        });\n        var canvasDom = container.get('canvas').get('el');\n        var parentNode = canvasDom.parentNode;\n        parentNode = modifyCSS(parentNode, {\n          position: 'relative'\n        });\n        var wrapperNode = createDom('<div class=\"guideWapper\" style=\"position: absolute;top: 0; left: 0;\"></div>');\n        parentNode.appendChild(wrapperNode);\n        wrapperNode.appendChild(myNode);\n        var canvasOffsetTop = canvasDom.offsetTop;\n        var canvasOffsetLeft = canvasDom.offsetLeft;\n        var alignX = self.alignX,\n            alignY = self.alignY,\n            offsetX = self.offsetX,\n            offsetY = self.offsetY;\n        var width = getWidth(myNode);\n        var height = getHeight(myNode);\n        var newOffset = getOffsetFromAlign(alignX, alignY, width, height);\n        position.x = position.x + newOffset[0] + canvasOffsetLeft;\n        position.y = position.y + newOffset[1] + canvasOffsetTop;\n\n        if (offsetX) {\n          position.x += offsetX;\n        }\n\n        if (offsetY) {\n          position.y += offsetY;\n        }\n\n        modifyCSS(myNode, {\n          top: Math.floor(position.y) + 'px',\n          left: Math.floor(position.x) + 'px',\n          visibility: 'visible'\n        });\n        self.element = wrapperNode;\n      };\n\n      _proto.remove = function remove() {\n        var element = this.element;\n        element && element.parentNode && element.parentNode.removeChild(element);\n      };\n\n      return Html;\n    }(GuideBase);\n\n    GuideBase.Html = Html;\n\n    var Line$4 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Line, _GuideBase);\n\n      function Line() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Line.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'line';\n        this.start = [];\n        this.end = [];\n        this.style = {\n          stroke: '#000',\n          lineWidth: 1\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var points = [];\n        points[0] = this.parsePoint(coord, this.start);\n        points[1] = this.parsePoint(coord, this.end);\n\n        if (!points[0] || !points[1]) {\n          return;\n        }\n\n        var shape = container.addShape('Line', {\n          className: 'guide-line',\n          attrs: mix({\n            x1: points[0].x,\n            y1: points[0].y,\n            x2: points[1].x,\n            y2: points[1].y\n          }, this.style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Line;\n    }(GuideBase);\n\n    GuideBase.Line = Line$4;\n\n    var Rect$2 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Rect, _GuideBase);\n\n      function Rect() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Rect.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'rect';\n        this.start = [];\n        this.end = [];\n        this.style = {\n          fill: '#CCD7EB',\n          opacity: 0.4\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var start = this.parsePoint(coord, this.start);\n        var end = this.parsePoint(coord, this.end);\n\n        if (!start || !end) {\n          return;\n        }\n\n        var shape = container.addShape('rect', {\n          className: 'guide-rect',\n          attrs: mix({\n            x: Math.min(start.x, end.x),\n            y: Math.min(start.y, end.y),\n            width: Math.abs(end.x - start.x),\n            height: Math.abs(start.y - end.y)\n          }, this.style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Rect;\n    }(GuideBase);\n\n    GuideBase.Rect = Rect$2;\n\n    var Text$1 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Text, _GuideBase);\n\n      function Text() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Text.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'text';\n        /**\n         * the position of text\n         * @type {Function | Array}\n         */\n\n        this.position = null;\n        /**\n         * the display content\n         * @type {String}\n         */\n\n        this.content = null;\n        /**\n         * style configuration for text\n         * @type {Object}\n         */\n\n        this.style = {\n          fill: '#000'\n        };\n        /**\n         * offset of horizontal direction\n         * @type {Number}\n         */\n\n        this.offsetX = 0;\n        /**\n         * offset of vertical direction\n         * @type {Number}\n         */\n\n        this.offsetY = 0;\n      };\n\n      _proto.render = function render(coord, container) {\n        var position = this.position;\n        var point = this.parsePoint(coord, position);\n\n        if (!point) {\n          return;\n        }\n\n        var content = this.content,\n            style = this.style,\n            offsetX = this.offsetX,\n            offsetY = this.offsetY;\n\n        if (offsetX) {\n          point.x += offsetX;\n        }\n\n        if (offsetY) {\n          point.y += offsetY;\n        }\n\n        var shape = container.addShape('text', {\n          className: 'guide-text',\n          attrs: mix({\n            x: point.x,\n            y: point.y,\n            text: content\n          }, style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Text;\n    }(GuideBase);\n\n    GuideBase.Text = Text$1;\n\n    var Tag = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Tag, _GuideBase);\n\n      function Tag() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Tag.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'tag';\n        this.position = null;\n        this.content = null;\n        this.direct = 'tl';\n        this.autoAdjust = true;\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.side = 4;\n        this.background = {\n          padding: 5,\n          radius: 2,\n          fill: '#1890FF'\n        };\n        this.textStyle = {\n          fontSize: 12,\n          fill: '#fff',\n          textAlign: 'center',\n          textBaseline: 'middle'\n        };\n        this.withPoint = true;\n        this.pointStyle = {\n          fill: '#1890FF',\n          r: 3,\n          lineWidth: 1,\n          stroke: '#fff'\n        };\n      };\n\n      _proto._getDirect = function _getDirect(container, point, tagWidth, tagHeight) {\n        var direct = this.direct;\n        var side = this.side;\n        var canvas = container.get('canvas');\n        var clientWidth = canvas.get('width');\n        var clientHeight = canvas.get('height');\n        var x = point.x,\n            y = point.y;\n        var vertical = direct[0];\n        var horizontal = direct[1]; // adjust for vertical direction\n\n        if (vertical === 't' && y - side - tagHeight < 0) {\n          vertical = 'b';\n        } else if (vertical === 'b' && y + side + tagHeight > clientHeight) {\n          vertical = 't';\n        } // adjust for horizontal direction\n\n\n        var diff = vertical === 'c' ? side : 0;\n\n        if (horizontal === 'l' && x - diff - tagWidth < 0) {\n          horizontal = 'r';\n        } else if (horizontal === 'r' && x + diff + tagWidth > clientWidth) {\n          horizontal = 'l';\n        } else if (horizontal === 'c') {\n          if (tagWidth / 2 + x + diff > clientWidth) {\n            horizontal = 'l';\n          } else if (x - tagWidth / 2 - diff < 0) {\n            horizontal = 'r';\n          }\n        }\n\n        direct = vertical + horizontal;\n        return direct;\n      };\n\n      _proto.render = function render(coord, container) {\n        var position = this.parsePoint(coord, this.position);\n\n        if (!position) {\n          return;\n        } // 数据不在显示范围内时，x/y 会为NaN\n\n\n        if (isNaN(position.x) || isNaN(position.y)) {\n          return;\n        }\n\n        var content = this.content,\n            background = this.background,\n            textStyle = this.textStyle;\n        var shapes = [];\n        var wrapperContainer = container.addGroup({\n          className: 'guide-tag'\n        });\n\n        if (this.withPoint) {\n          var pointShape = wrapperContainer.addShape('Circle', {\n            className: 'guide-tag-point',\n            attrs: mix({\n              x: position.x,\n              y: position.y\n            }, this.pointStyle)\n          });\n          shapes.push(pointShape);\n        }\n\n        var tagContainer = wrapperContainer.addGroup(); // create a text shape\n\n        var tagText = tagContainer.addShape('text', {\n          className: 'guide-tag-text',\n          zIndex: 1,\n          attrs: mix({\n            x: 0,\n            y: 0,\n            text: content\n          }, textStyle)\n        });\n        shapes.push(tagText); // create background box\n\n        var textBBox = tagText.getBBox();\n        var padding = parsePadding(background.padding);\n        var tagWidth = textBBox.width + padding[1] + padding[3];\n        var tagHeight = textBBox.height + padding[0] + padding[2];\n        var yMin = textBBox.minY - padding[0];\n        var xMin = textBBox.minX - padding[3];\n        var tagBg = tagContainer.addShape('rect', {\n          className: 'guide-tag-bg',\n          zIndex: -1,\n          attrs: mix({\n            x: xMin,\n            y: yMin,\n            width: tagWidth,\n            height: tagHeight\n          }, background)\n        });\n        shapes.push(tagBg);\n        var direct = this.autoAdjust ? this._getDirect(container, position, tagWidth, tagHeight) : this.direct;\n        var side = this.side;\n        var x = position.x + this.offsetX;\n        var y = position.y + this.offsetY;\n        var arrowPoints;\n        var radius = parsePadding(background.radius);\n\n        if (direct === 'tl') {\n          arrowPoints = [{\n            x: tagWidth + xMin - side - 1,\n            y: tagHeight + yMin - 1\n          }, // 这个 1 是为了防止出现白边\n          {\n            x: tagWidth + xMin,\n            y: tagHeight + yMin - 1\n          }, {\n            x: tagWidth + xMin,\n            y: tagHeight + side + yMin\n          }];\n          radius[2] = 0;\n          x = x - tagWidth;\n          y = y - side - tagHeight;\n        } else if (direct === 'cl') {\n          arrowPoints = [{\n            x: tagWidth + xMin - 1,\n            y: (tagHeight - side) / 2 + yMin - 1\n          }, {\n            x: tagWidth + xMin - 1,\n            y: (tagHeight + side) / 2 + yMin + 1\n          }, {\n            x: tagWidth + side + xMin,\n            y: tagHeight / 2 + yMin\n          }];\n          x = x - tagWidth - side;\n          y = y - tagHeight / 2;\n        } else if (direct === 'bl') {\n          arrowPoints = [{\n            x: tagWidth + xMin,\n            y: -side + yMin\n          }, {\n            x: tagWidth + xMin - side - 1,\n            y: yMin + 1\n          }, {\n            x: tagWidth + xMin,\n            y: yMin + 1\n          }];\n          radius[1] = 0;\n          x = x - tagWidth;\n          y = y + side;\n        } else if (direct === 'bc') {\n          arrowPoints = [{\n            x: tagWidth / 2 + xMin,\n            y: -side + yMin\n          }, {\n            x: (tagWidth - side) / 2 + xMin - 1,\n            y: yMin + 1\n          }, {\n            x: (tagWidth + side) / 2 + xMin + 1,\n            y: yMin + 1\n          }];\n          x = x - tagWidth / 2;\n          y = y + side;\n        } else if (direct === 'br') {\n          arrowPoints = [{\n            x: xMin,\n            y: yMin - side\n          }, {\n            x: xMin,\n            y: yMin + 1\n          }, {\n            x: xMin + side + 1,\n            y: yMin + 1\n          }];\n          radius[0] = 0;\n          y = y + side;\n        } else if (direct === 'cr') {\n          arrowPoints = [{\n            x: xMin - side,\n            y: tagHeight / 2 + yMin\n          }, {\n            x: xMin + 1,\n            y: (tagHeight - side) / 2 + yMin - 1\n          }, {\n            x: xMin + 1,\n            y: (tagHeight + side) / 2 + yMin + 1\n          }];\n          x = x + side;\n          y = y - tagHeight / 2;\n        } else if (direct === 'tr') {\n          arrowPoints = [{\n            x: xMin,\n            y: tagHeight + side + yMin\n          }, {\n            x: xMin,\n            y: tagHeight + yMin - 1\n          }, {\n            x: side + xMin + 1,\n            y: tagHeight + yMin - 1\n          }];\n          radius[3] = 0;\n          y = y - tagHeight - side;\n        } else if (direct === 'tc') {\n          arrowPoints = [{\n            x: (tagWidth - side) / 2 + xMin - 1,\n            y: tagHeight + yMin - 1\n          }, {\n            x: (tagWidth + side) / 2 + xMin + 1,\n            y: tagHeight + yMin - 1\n          }, {\n            x: tagWidth / 2 + xMin,\n            y: tagHeight + side + yMin\n          }];\n          x = x - tagWidth / 2;\n          y = y - tagHeight - side;\n        }\n\n        var sideShape = tagContainer.addShape('Polygon', {\n          className: 'guide-tag-side',\n          zIndex: 0,\n          attrs: {\n            points: arrowPoints,\n            fill: background.fill\n          }\n        });\n        shapes.push(sideShape);\n        tagBg.attr('radius', radius);\n        tagContainer.moveTo(x - xMin, y - yMin);\n        tagContainer.sort();\n        this.element = wrapperContainer;\n        return shapes;\n      };\n\n      return Tag;\n    }(GuideBase);\n\n    GuideBase.Tag = Tag;\n\n    var Point$2 = /*#__PURE__*/function (_GuideBase) {\n      _inheritsLoose(Point, _GuideBase);\n\n      function Point() {\n        return _GuideBase.apply(this, arguments) || this;\n      }\n\n      var _proto = Point.prototype;\n\n      _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.type = 'point';\n        this.position = null;\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.style = {\n          fill: '#1890FF',\n          r: 3,\n          lineWidth: 1,\n          stroke: '#fff'\n        };\n      };\n\n      _proto.render = function render(coord, container) {\n        var position = this.parsePoint(coord, this.position);\n        if (!position) return null;\n        var shape = container.addShape('Circle', {\n          className: 'guide-point',\n          attrs: mix({\n            x: position.x + this.offsetX,\n            y: position.y + this.offsetY\n          }, this.style)\n        });\n        this.element = shape;\n        return shape;\n      };\n\n      return Point;\n    }(GuideBase);\n\n    GuideBase.Point = Point$2;\n\n    var SYMBOLS = {\n      circle: function circle(x, y, r, ctx) {\n        ctx.arc(x, y, r, 0, Math.PI * 2, false);\n      },\n      square: function square(x, y, r, ctx) {\n        ctx.moveTo(x - r, y - r);\n        ctx.lineTo(x + r, y - r);\n        ctx.lineTo(x + r, y + r);\n        ctx.lineTo(x - r, y + r);\n        ctx.closePath();\n      }\n    };\n\n    var Marker = /*#__PURE__*/function (_Shape) {\n      _inheritsLoose(Marker, _Shape);\n\n      function Marker() {\n        return _Shape.apply(this, arguments) || this;\n      }\n\n      var _proto = Marker.prototype;\n\n      _proto._initProperties = function _initProperties() {\n        _Shape.prototype._initProperties.call(this);\n\n        this._attrs.canFill = true;\n        this._attrs.canStroke = true;\n        this._attrs.type = 'marker';\n      };\n\n      _proto.getDefaultAttrs = function getDefaultAttrs() {\n        return {\n          x: 0,\n          y: 0,\n          lineWidth: 0\n        };\n      };\n\n      _proto.createPath = function createPath(context) {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            radius = attrs.radius;\n        var symbol = attrs.symbol || 'circle';\n        var method;\n\n        if (isFunction(symbol)) {\n          method = symbol;\n        } else {\n          method = SYMBOLS[symbol];\n        }\n\n        context.beginPath();\n        method(x, y, radius, context, this);\n      };\n\n      _proto.calculateBox = function calculateBox() {\n        var attrs = this.get('attrs');\n        var x = attrs.x,\n            y = attrs.y,\n            radius = attrs.radius;\n        return {\n          minX: x - radius,\n          minY: y - radius,\n          maxX: x + radius,\n          maxY: y + radius\n        };\n      };\n\n      return Marker;\n    }(Shape$2);\n\n    var MARKER_RADIUS = 3;\n\n    var List = /*#__PURE__*/function () {\n      var _proto = List.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          showTitle: false,\n\n          /**\n           * title string\n           * @type {?String}\n           */\n          title: null,\n\n          /**\n           * items array\n           * @type {?Array}\n           */\n          items: null,\n\n          /**\n           * offset between title and items\n           * @type {Number}\n           */\n          titleGap: 12,\n\n          /**\n           * offset between each item\n           * @type {Number}\n           */\n          itemGap: 10,\n\n          /**\n           * the offset between each item in vertical direaction\n           * @type {Number}\n           */\n          itemMarginBottom: 12,\n\n          /**\n           * the formatter for item text\n           * @type {[type]}\n           */\n          itemFormatter: null,\n          itemWidth: null,\n\n          /**\n           * offset between marker and text\n           * @type {Number}\n           */\n          wordSpace: 6,\n          x: 0,\n          y: 0,\n          layout: 'horizontal',\n\n          /**\n           * the join string of `name` and `value`\n           * @type {String}\n           */\n          joinString: ': '\n        };\n      };\n\n      function List(cfg) {\n        deepMix(this, this.getDefaultCfg(), cfg);\n\n        this._init();\n\n        this._renderTitle();\n\n        this._renderItems();\n      }\n\n      _proto._init = function _init() {\n        var container = new Group({\n          zIndex: this.zIndex || 0\n        });\n        this.container = container;\n        var wrapper = container.addGroup();\n        this.wrapper = wrapper;\n        var itemsGroup = wrapper.addGroup({\n          className: 'itemsGroup'\n        });\n        this.itemsGroup = itemsGroup;\n\n        if (this.parent) {\n          this.parent.add(container);\n        }\n      };\n\n      _proto._renderTitle = function _renderTitle(title) {\n        title = title || this.title;\n        var titleShape = this.titleShape;\n        var titleHeight = 0;\n\n        if (this.showTitle && title) {\n          if (titleShape && !titleShape.get('destroyed')) {\n            titleShape.attr('text', title);\n          } else {\n            var wrapper = this.wrapper,\n                titleStyle = this.titleStyle;\n            titleShape = wrapper.addShape('text', {\n              className: 'title',\n              attrs: mix({\n                x: 0,\n                y: 0,\n                text: title\n              }, titleStyle)\n            });\n            this.titleShape = titleShape;\n          }\n\n          titleHeight = titleShape.getBBox().height + this.titleGap;\n        }\n\n        this._titleHeight = titleHeight;\n      };\n\n      _proto._renderItems = function _renderItems(items) {\n        var self = this;\n        items = items || self.items;\n\n        if (!items) {\n          return;\n        }\n\n        if (self.reversed) {\n          items.reverse();\n        }\n\n        each(items, function (item, index) {\n          self._addItem(item, index);\n        });\n\n        if (items.length > 1) {\n          this._adjustItems();\n        }\n\n        this._renderBackground();\n      };\n\n      _proto._renderBackground = function _renderBackground() {\n        var background = this.background;\n\n        if (background) {\n          var container = this.container;\n          var wrapper = this.wrapper;\n\n          var _wrapper$getBBox = wrapper.getBBox(),\n              minX = _wrapper$getBBox.minX,\n              minY = _wrapper$getBBox.minY,\n              width = _wrapper$getBBox.width,\n              height = _wrapper$getBBox.height;\n\n          var padding = background.padding || [0, 0, 0, 0];\n          padding = parsePadding(padding);\n          var attrs = mix({\n            x: minX - padding[3],\n            y: minY - padding[0],\n            width: width + padding[1] + padding[3],\n            height: height + padding[0] + padding[2]\n          }, background);\n          var backShape = this.backShape;\n\n          if (backShape) {\n            backShape.attr(attrs);\n          } else {\n            backShape = container.addShape('Rect', {\n              zIndex: -1,\n              attrs: attrs\n            });\n          }\n\n          this.backShape = backShape;\n          container.sort();\n        }\n      };\n\n      _proto._addItem = function _addItem(item) {\n        var itemsGroup = this.itemsGroup;\n        var itemGroup = itemsGroup.addGroup({\n          name: item.name,\n          value: item.value,\n          dataValue: item.dataValue,\n          checked: item.checked\n        });\n        var unCheckStyle = this.unCheckStyle,\n            unCheckColor = this.unCheckColor,\n            nameStyle = this.nameStyle,\n            valueStyle = this.valueStyle,\n            wordSpace = this.wordSpace;\n        var marker = item.marker,\n            value = item.value;\n        var startX = 0;\n\n        if (unCheckColor) {\n          unCheckStyle.fill = unCheckColor;\n        }\n\n        if (marker) {\n          var radius = marker.radius || MARKER_RADIUS;\n          var markerAttrs = mix({\n            x: radius,\n            y: this._titleHeight\n          }, marker);\n\n          if (item.checked === false) {\n            mix(markerAttrs, unCheckStyle);\n          }\n\n          var markerShape = new Marker({\n            className: 'item-marker',\n            attrs: markerAttrs\n          });\n          itemGroup.add(markerShape);\n          startX += markerShape.getBBox().width + wordSpace;\n        }\n\n        var nameText;\n        var name = item.name;\n\n        if (name) {\n          var joinString = this.joinString || '';\n          name = value ? name + joinString : name;\n          nameText = itemGroup.addShape('text', {\n            className: 'name',\n            attrs: mix({\n              x: startX,\n              y: this._titleHeight,\n              text: this._formatItemValue(name)\n            }, nameStyle, item.checked === false ? unCheckStyle : null)\n          });\n        }\n\n        if (value) {\n          var valueX = startX;\n\n          if (nameText) {\n            valueX += nameText.getBBox().width;\n          }\n\n          itemGroup.addShape('text', {\n            className: 'value',\n            attrs: mix({\n              x: valueX,\n              y: this._titleHeight,\n              text: value\n            }, valueStyle, item.checked === false ? unCheckStyle : null)\n          });\n        }\n\n        return itemGroup;\n      };\n\n      _proto._formatItemValue = function _formatItemValue(value) {\n        var formatter = this.itemFormatter;\n\n        if (formatter) {\n          value = formatter.call(this, value);\n        }\n\n        return value;\n      };\n\n      _proto._getMaxItemWidth = function _getMaxItemWidth() {\n        var width;\n        var itemWidth = this.itemWidth;\n\n        if (isNumber(itemWidth) || isNil(itemWidth)) {\n          return itemWidth;\n        }\n\n        if (itemWidth === 'auto') {\n          var itemsGroup = this.itemsGroup;\n          var children = itemsGroup.get('children');\n          var count = children.length;\n          var maxItemWidth = 0;\n\n          for (var i = 0; i < count; i++) {\n            var _children$i$getBBox = children[i].getBBox(),\n                _width = _children$i$getBBox.width;\n\n            maxItemWidth = Math.max(maxItemWidth, _width);\n          }\n\n          var maxLength = this.maxLength;\n          var itemGap = this.itemGap;\n          var twoAvgWidth = (maxLength - itemGap) / 2;\n          var threeAvgWidth = (maxLength - itemGap * 2) / 3;\n\n          if (count === 2) {\n            width = Math.max(maxItemWidth, twoAvgWidth);\n          } else {\n            // 1. max <= 3Avg, 3Avg\n            // 2. 3Avg < max && max < 2avg, 2avg\n            // 3. max > 2avg, max, one column\n            if (maxItemWidth <= threeAvgWidth) {\n              width = threeAvgWidth;\n            } else if (maxItemWidth <= twoAvgWidth) {\n              width = twoAvgWidth;\n            } else {\n              width = maxItemWidth;\n            }\n          }\n\n          return width;\n        }\n      };\n\n      _proto._adjustHorizontal = function _adjustHorizontal() {\n        var maxLength = this.maxLength,\n            itemsGroup = this.itemsGroup;\n        var children = itemsGroup.get('children');\n        var itemGap = this.itemGap,\n            itemMarginBottom = this.itemMarginBottom;\n        var titleHeight = this._titleHeight;\n        var row = 0;\n        var rowWidth = 0;\n        var width;\n        var height;\n\n        var itemWidth = this._getMaxItemWidth();\n\n        var legendHitBoxes = [];\n\n        for (var i = 0, len = children.length; i < len; i++) {\n          var child = children[i];\n          var box = child.getBBox();\n          var childHeight = box.height;\n          var childWidth = box.width;\n          width = itemWidth || childWidth;\n          height = childHeight + itemMarginBottom;\n\n          if (width - (maxLength - rowWidth) > 0.0001) {\n            row++;\n            rowWidth = 0;\n          }\n\n          child.moveTo(rowWidth, row * height);\n          legendHitBoxes.push({\n            x: rowWidth,\n            y: row * height + titleHeight - childHeight / 2,\n            width: childWidth * 1.375,\n            height: childHeight * 1.375\n          });\n          rowWidth += width + itemGap;\n        }\n\n        this.legendHitBoxes = legendHitBoxes;\n        return;\n      };\n\n      _proto._adjustVertical = function _adjustVertical() {\n        var maxLength = this.maxLength,\n            itemsGroup = this.itemsGroup;\n        var itemGap = this.itemGap,\n            itemMarginBottom = this.itemMarginBottom,\n            itemWidth = this.itemWidth;\n        var titleHeight = this._titleHeight;\n        var children = itemsGroup.get('children');\n        var colHeight = 0;\n        var width;\n        var height;\n        var maxItemWidth = 0;\n        var totalWidth = 0;\n        var legendHitBoxes = [];\n\n        for (var i = 0, length = children.length; i < length; i++) {\n          var child = children[i];\n          var bbox = child.getBBox();\n          width = bbox.width;\n          height = bbox.height;\n\n          if (isNumber(itemWidth)) {\n            maxItemWidth = itemWidth + itemGap;\n          } else if (width > maxItemWidth) {\n            maxItemWidth = width + itemGap;\n          }\n\n          if (maxLength - colHeight < height) {\n            colHeight = 0;\n            totalWidth += maxItemWidth;\n            child.moveTo(totalWidth, 0);\n            legendHitBoxes.push({\n              x: totalWidth,\n              y: titleHeight - height / 2,\n              width: width * 1.375,\n              height: height * 1.375\n            });\n          } else {\n            child.moveTo(totalWidth, colHeight);\n            legendHitBoxes.push({\n              x: totalWidth,\n              y: colHeight - height / 2 + titleHeight,\n              width: width * 1.375,\n              height: height * 1.375\n            });\n          }\n\n          colHeight += height + itemMarginBottom;\n        }\n\n        this.legendHitBoxes = legendHitBoxes;\n        return;\n      };\n\n      _proto._adjustItems = function _adjustItems() {\n        var layout = this.layout;\n\n        if (layout === 'horizontal') {\n          this._adjustHorizontal();\n        } else {\n          this._adjustVertical();\n        }\n      };\n\n      _proto.moveTo = function moveTo(x, y) {\n        this.x = x;\n        this.y = y;\n        var container = this.container;\n        container && container.moveTo(x, y);\n        return this;\n      };\n\n      _proto.setItems = function setItems(items) {\n        this.clearItems();\n\n        this._renderItems(items);\n      };\n\n      _proto.setTitle = function setTitle(title) {\n        this._renderTitle(title);\n      };\n\n      _proto.clearItems = function clearItems() {\n        var itemsGroup = this.itemsGroup;\n        itemsGroup.clear();\n      };\n\n      _proto.getWidth = function getWidth() {\n        var container = this.container;\n        var bbox = container.getBBox();\n        return bbox.width;\n      };\n\n      _proto.getHeight = function getHeight() {\n        var container = this.container;\n        var bbox = container.getBBox();\n        return bbox.height;\n      };\n\n      _proto.show = function show() {\n        var container = this.container;\n        container.show();\n      };\n\n      _proto.hide = function hide() {\n        var container = this.container;\n        container.hide();\n      };\n\n      _proto.clear = function clear() {\n        var container = this.container;\n        container.clear();\n        container.remove(true);\n      };\n\n      return List;\n    }();\n\n    var TextBox = /*#__PURE__*/function () {\n      var _proto = TextBox.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          x: 0,\n          y: 0,\n          content: '',\n          textStyle: {\n            fontSize: 12,\n            fill: '#fff',\n            textAlign: 'center',\n            textBaseline: 'middle',\n            fontFamily: 'Arial'\n          },\n          background: {\n            radius: 1,\n            fill: 'rgba(0, 0, 0, 0.65)',\n            padding: [3, 5]\n          },\n          width: 0,\n          height: 0,\n          className: ''\n        };\n      };\n\n      function TextBox(cfg) {\n        deepMix(this, this.getDefaultCfg(), cfg);\n\n        this._init();\n\n        var content = this.content,\n            x = this.x,\n            y = this.y;\n\n        if (!isNil(content)) {\n          this.updateContent(content);\n        }\n\n        this.updatePosition(x, y);\n      }\n\n      _proto._init = function _init() {\n        var content = this.content,\n            textStyle = this.textStyle,\n            background = this.background,\n            className = this.className,\n            visible = this.visible,\n            context = this.context;\n        var container = new Group({\n          context: context,\n          className: className,\n          zIndex: 0,\n          visible: visible\n        });\n        var text = container.addShape('Text', {\n          className: className + '-text',\n          zIndex: 1,\n          attrs: mix({\n            text: content,\n            x: 0,\n            y: 0\n          }, textStyle)\n        });\n        var backgroundShape = container.addShape('Rect', {\n          className: className + '-bg',\n          zIndex: -1,\n          attrs: mix({\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0\n          }, background)\n        });\n        container.sort();\n        this.container = container;\n        this.textShape = text;\n        this.backgroundShape = backgroundShape;\n      };\n\n      _proto._getBBox = function _getBBox() {\n        var textShape = this.textShape;\n        var background = this.background;\n        var textBBox = textShape.getBBox();\n        var padding = parsePadding(background.padding);\n        var width = textBBox.width + padding[1] + padding[3];\n        var height = textBBox.height + padding[0] + padding[2];\n        var x = textBBox.minX - padding[3];\n        var y = textBBox.minY - padding[0];\n        return {\n          x: x,\n          y: y,\n          width: width,\n          height: height\n        };\n      };\n\n      _proto.updateContent = function updateContent(text) {\n        var textShape = this.textShape,\n            backgroundShape = this.backgroundShape;\n\n        if (!isNil(text)) {\n          if (!isObject(text)) {\n            text = {\n              text: text\n            };\n          }\n\n          textShape.attr(text); // update box shape\n\n          var _this$_getBBox = this._getBBox(),\n              x = _this$_getBBox.x,\n              y = _this$_getBBox.y,\n              tipWidth = _this$_getBBox.width,\n              tipHeight = _this$_getBBox.height;\n\n          var width = this.width || tipWidth;\n          var height = this.height || tipHeight;\n          backgroundShape.attr({\n            x: x,\n            y: y,\n            width: width,\n            height: height\n          });\n          this._width = width;\n          this._height = height;\n          this.content = text.text;\n        }\n      };\n\n      _proto.updatePosition = function updatePosition(x, y) {\n        var container = this.container;\n\n        var _this$_getBBox2 = this._getBBox(),\n            xMin = _this$_getBBox2.x,\n            yMin = _this$_getBBox2.y;\n\n        container.moveTo(x - xMin, y - yMin);\n        this.x = x - xMin;\n        this.y = y - yMin;\n      };\n\n      _proto.getWidth = function getWidth() {\n        return this._width;\n      };\n\n      _proto.getHeight = function getHeight() {\n        return this._height;\n      };\n\n      _proto.show = function show() {\n        this.container.show();\n      };\n\n      _proto.hide = function hide() {\n        this.container.hide();\n      };\n\n      _proto.clear = function clear() {\n        var container = this.container;\n        container.clear();\n        container.remove(true);\n        this.container = null;\n        this.textShape = null;\n        this.backgroundShape = null;\n      };\n\n      return TextBox;\n    }();\n\n    var GAP = 4;\n    /**\n     * TODOList：\n     * 1. 移除 fixed 参数\n     */\n\n    var Tooltip = /*#__PURE__*/function () {\n      var _proto = Tooltip.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          /**\n           * wether show the crosshairs\n           * @type {Object}\n           */\n          showCrosshairs: false,\n\n          /**\n           * the style for crosshairs\n           * @type {Object}\n           */\n          crosshairsStyle: {\n            stroke: 'rgba(0, 0, 0, 0.25)',\n            lineWidth: 1\n          },\n\n          /**\n           * the type of crosshairs, optional value is 'x', 'y' or 'xy', default is 'y'\n           */\n          crosshairsType: 'y',\n\n          /**\n           * show or hide the x axis tip\n           */\n          showXTip: false,\n\n          /**\n           * show or hide the y axis tip\n           */\n          showYTip: false,\n          xTip: null,\n          xTipBackground: {\n            radius: 1,\n            fill: 'rgba(0, 0, 0, 0.65)',\n            padding: [3, 5]\n          },\n          xTipTextStyle: {\n            fontSize: 12,\n            fill: '#fff',\n            textAlign: 'center',\n            textBaseline: 'middle'\n          },\n          yTip: null,\n          yTipBackground: {\n            radius: 1,\n            fill: 'rgba(0, 0, 0, 0.65)',\n            padding: [3, 5]\n          },\n          yTipTextStyle: {\n            fontSize: 12,\n            fill: '#fff',\n            textAlign: 'center',\n            textBaseline: 'middle'\n          },\n\n          /**\n           * the style for tooltip container's background\n           * @type {Object}\n           */\n          background: null,\n\n          /**\n           * layout, can be horizontal or vertical\n           * @type {String}\n           */\n          layout: 'horizontal',\n          offsetX: 0,\n          offsetY: 0\n        };\n      };\n\n      function Tooltip(cfg) {\n        deepMix(this, this.getDefaultCfg(), cfg);\n        var frontPlot = this.frontPlot,\n            custom = this.custom;\n\n        if (!custom) {\n          // custom means user do customize\n          var container = new List(mix({\n            parent: frontPlot,\n            zIndex: 3\n          }, cfg));\n          this.container = container;\n          var fixed = this.fixed,\n              background = this.background;\n\n          if (!fixed) {\n            this.tooltipArrow = frontPlot.addShape('Polygon', {\n              className: 'tooltip-arrow',\n              visible: false,\n              zIndex: 2,\n              attrs: mix({\n                points: []\n              }, background)\n            });\n          }\n        }\n\n        if (this.showXTip) {\n          var xTipBackground = this.xTipBackground,\n              xTipTextStyle = this.xTipTextStyle;\n          var xTipBox = new TextBox({\n            context: frontPlot.get('context'),\n            className: 'xTip',\n            background: xTipBackground,\n            textStyle: xTipTextStyle,\n            visible: false\n          });\n          frontPlot.add(xTipBox.container);\n          this.xTipBox = xTipBox;\n        }\n\n        if (this.showYTip) {\n          var yTipBackground = this.yTipBackground,\n              yTipTextStyle = this.yTipTextStyle;\n          var yTipBox = new TextBox({\n            context: frontPlot.get('context'),\n            className: 'yTip',\n            background: yTipBackground,\n            textStyle: yTipTextStyle,\n            visible: false\n          });\n          frontPlot.add(yTipBox.container);\n          this.yTipBox = yTipBox;\n        }\n\n        if (this.showCrosshairs) {\n          this._renderCrosshairs();\n        }\n\n        frontPlot.sort();\n      }\n\n      _proto.setContent = function setContent(title, items) {\n        this.title = title;\n        this.items = items;\n\n        if (!this.custom) {\n          var container = this.container;\n          container.setTitle(title);\n          container.setItems(items);\n        }\n      };\n\n      _proto.setYTipContent = function setYTipContent(val) {\n        var yTip = this.yTip;\n\n        if (isFunction(yTip)) {\n          val = yTip(val);\n        } else {\n          val = mix({\n            text: val\n          }, yTip);\n        }\n\n        this.yTipBox && this.yTipBox.updateContent(val);\n      };\n\n      _proto.setYTipPosition = function setYTipPosition(pos) {\n        var plotRange = this.plotRange;\n        var crosshairsShapeX = this.crosshairsShapeX;\n\n        if (this.showYTip) {\n          var yTipBox = this.yTipBox;\n          var yTipHeight = yTipBox.getHeight();\n          var yTipWidth = yTipBox.getWidth();\n          var posX = plotRange.tl.x - yTipWidth;\n          var posY = pos - yTipHeight / 2;\n\n          if (posY <= plotRange.tl.y) {\n            posY = plotRange.tl.y;\n          }\n\n          if (posY + yTipHeight >= plotRange.br.y) {\n            posY = plotRange.br.y - yTipHeight;\n          }\n\n          if (posX < 0) {\n            posX = plotRange.tl.x;\n            crosshairsShapeX && crosshairsShapeX.attr('x1', plotRange.tl.x + yTipWidth);\n          }\n\n          yTipBox.updatePosition(posX, posY);\n        }\n      };\n\n      _proto.setXTipContent = function setXTipContent(val) {\n        var xTip = this.xTip;\n\n        if (isFunction(xTip)) {\n          val = xTip(val);\n        } else {\n          val = mix({\n            text: val\n          }, xTip);\n        }\n\n        this.xTipBox && this.xTipBox.updateContent(val);\n      };\n\n      _proto.setXTipPosition = function setXTipPosition(pos) {\n        var showXTip = this.showXTip,\n            canvas = this.canvas,\n            plotRange = this.plotRange,\n            xTipBox = this.xTipBox,\n            crosshairsShapeY = this.crosshairsShapeY;\n\n        if (showXTip) {\n          // const el = canvas.get('el');\n          // const canvasHeight = Util.getHeight(el);\n          var canvasHeight = canvas.get('height');\n          var xTipWidth = xTipBox.getWidth();\n          var xTipHeight = xTipBox.getHeight();\n          var posX = pos - xTipWidth / 2;\n          var posY = plotRange.br.y;\n\n          if (posX <= plotRange.tl.x) {\n            posX = plotRange.tl.x;\n          }\n\n          if (posX + xTipWidth >= plotRange.tr.x) {\n            posX = plotRange.tr.x - xTipWidth;\n          }\n\n          if (canvasHeight - posY < xTipHeight) {\n            posY -= xTipHeight;\n          }\n\n          xTipBox.updatePosition(posX, posY);\n          crosshairsShapeY && crosshairsShapeY.attr('y1', posY);\n        }\n      };\n\n      _proto.setXCrosshairPosition = function setXCrosshairPosition(pos) {\n        this.crosshairsShapeX && this.crosshairsShapeX.moveTo(0, pos);\n      };\n\n      _proto.setYCrosshairPosition = function setYCrosshairPosition(pos) {\n        this.crosshairsShapeY && this.crosshairsShapeY.moveTo(pos, 0);\n      };\n\n      _proto.setPosition = function setPosition(items) {\n        var container = this.container,\n            plotRange = this.plotRange,\n            offsetX = this.offsetX,\n            offsetY = this.offsetY,\n            fixed = this.fixed,\n            tooltipArrow = this.tooltipArrow;\n\n        if (!container) {\n          return;\n        }\n\n        var containerBBox = container.container.getBBox();\n        var minX = containerBBox.minX,\n            minY = containerBBox.minY,\n            width = containerBBox.width,\n            height = containerBBox.height;\n        var tl = plotRange.tl,\n            tr = plotRange.tr;\n        var posX = 0;\n        var posY = tl.y - height - GAP + offsetY;\n\n        if (fixed) {\n          var x = (tl.x + tr.x) / 2;\n          posX = x - width / 2 + offsetX;\n        } else {\n          var _x;\n\n          if (items.length > 1) {\n            _x = (items[0].x + items[items.length - 1].x) / 2;\n          } else {\n            _x = items[0].x;\n          }\n\n          posX = _x - width / 2 + offsetX;\n\n          if (posX < tl.x) {\n            posX = tl.x;\n          }\n\n          if (posX + width > tr.x) {\n            posX = tr.x - width;\n          }\n\n          if (tooltipArrow) {\n            tooltipArrow.attr('points', [{\n              x: _x - 3,\n              y: tl.y - GAP + offsetY\n            }, {\n              x: _x + 3,\n              y: tl.y - GAP + offsetY\n            }, {\n              x: _x,\n              y: tl.y + offsetY\n            }]);\n            var backShape = container.backShape;\n            var radius = parsePadding(backShape.attr('radius'));\n\n            if (_x === tl.x) {\n              radius[3] = 0;\n              tooltipArrow.attr('points', [{\n                x: tl.x,\n                y: tl.y + offsetY\n              }, {\n                x: tl.x,\n                y: tl.y - GAP + offsetY\n              }, {\n                x: tl.x + GAP,\n                y: tl.y - GAP + offsetY\n              }]);\n            } else if (_x === tr.x) {\n              radius[2] = 0;\n              tooltipArrow.attr('points', [{\n                x: tr.x,\n                y: tl.y + offsetY\n              }, {\n                x: tr.x - GAP,\n                y: tl.y - GAP + offsetY\n              }, {\n                x: tr.x,\n                y: tl.y - GAP + offsetY\n              }]);\n            }\n\n            backShape.attr('radius', radius);\n          }\n        }\n\n        container.moveTo(posX - minX, posY - minY);\n      };\n\n      _proto.setMarkers = function setMarkers(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var self = this;\n        var _cfg = cfg,\n            items = _cfg.items,\n            style = _cfg.style,\n            type = _cfg.type;\n\n        var markerGroup = self._getMarkerGroup(type);\n\n        if (type === 'circle') {\n          for (var i = 0, length = items.length; i < length; i++) {\n            var item = items[i];\n            var marker = new Marker({\n              className: 'tooltip-circle-marker',\n              attrs: mix({\n                x: item.x,\n                y: item.y,\n                stroke: item.color\n              }, style)\n            });\n            markerGroup.add(marker);\n          }\n        } else {\n          markerGroup.addShape('rect', {\n            className: 'tooltip-rect-marker',\n            attrs: style\n          });\n        }\n      };\n\n      _proto.clearMarkers = function clearMarkers() {\n        var markerGroup = this.markerGroup;\n        markerGroup && markerGroup.clear();\n      };\n\n      _proto.show = function show() {\n        var crosshairsShapeX = this.crosshairsShapeX;\n        var crosshairsShapeY = this.crosshairsShapeY;\n        var markerGroup = this.markerGroup;\n        var container = this.container;\n        var tooltipArrow = this.tooltipArrow;\n        var xTipBox = this.xTipBox;\n        var yTipBox = this.yTipBox;\n        var canvas = this.canvas;\n        crosshairsShapeX && crosshairsShapeX.show();\n        crosshairsShapeY && crosshairsShapeY.show();\n        markerGroup && markerGroup.show();\n        container && container.show();\n        tooltipArrow && tooltipArrow.show();\n        xTipBox && xTipBox.show();\n        yTipBox && yTipBox.show();\n        canvas.draw();\n      };\n\n      _proto.hide = function hide() {\n        var crosshairsShapeX = this.crosshairsShapeX;\n        var crosshairsShapeY = this.crosshairsShapeY;\n        var markerGroup = this.markerGroup;\n        var container = this.container;\n        var tooltipArrow = this.tooltipArrow;\n        var xTipBox = this.xTipBox;\n        var yTipBox = this.yTipBox;\n        crosshairsShapeX && crosshairsShapeX.hide();\n        crosshairsShapeY && crosshairsShapeY.hide();\n        markerGroup && markerGroup.hide();\n        container && container.hide();\n        tooltipArrow && tooltipArrow.hide();\n        xTipBox && xTipBox.hide();\n        yTipBox && yTipBox.hide();\n      };\n\n      _proto.destroy = function destroy() {\n        var crosshairsShapeX = this.crosshairsShapeX;\n        var crosshairsShapeY = this.crosshairsShapeY;\n        var markerGroup = this.markerGroup;\n        var container = this.container;\n        var tooltipArrow = this.tooltipArrow;\n        var xTipBox = this.xTipBox;\n        var yTipBox = this.yTipBox;\n        crosshairsShapeX && crosshairsShapeX.remove(true);\n        crosshairsShapeY && crosshairsShapeY.remove(true);\n        markerGroup && markerGroup.remove(true);\n        tooltipArrow && tooltipArrow.remove(true);\n        container && container.clear();\n        xTipBox && xTipBox.clear();\n        yTipBox && yTipBox.clear();\n        this.destroyed = true;\n      };\n\n      _proto._getMarkerGroup = function _getMarkerGroup(type) {\n        var markerGroup = this.markerGroup;\n\n        if (!markerGroup) {\n          if (type === 'circle') {\n            markerGroup = this.frontPlot.addGroup({\n              zIndex: 1\n            });\n            this.frontPlot.sort();\n          } else {\n            markerGroup = this.backPlot.addGroup();\n          }\n\n          this.markerGroup = markerGroup;\n        } else {\n          markerGroup.clear();\n        }\n\n        return markerGroup;\n      };\n\n      _proto._renderCrosshairs = function _renderCrosshairs() {\n        var crosshairsType = this.crosshairsType,\n            crosshairsStyle = this.crosshairsStyle,\n            frontPlot = this.frontPlot,\n            plotRange = this.plotRange;\n        var tl = plotRange.tl,\n            br = plotRange.br;\n\n        if (directionEnabled(crosshairsType, 'x')) {\n          this.crosshairsShapeX = frontPlot.addShape('Line', {\n            className: 'tooltip-crosshairs-x',\n            zIndex: 0,\n            visible: false,\n            attrs: mix({\n              x1: tl.x,\n              y1: 0,\n              x2: br.x,\n              y2: 0\n            }, crosshairsStyle)\n          });\n        }\n\n        if (directionEnabled(crosshairsType, 'y')) {\n          this.crosshairsShapeY = frontPlot.addShape('Line', {\n            className: 'tooltip-crosshairs-y',\n            zIndex: 0,\n            visible: false,\n            attrs: mix({\n              x1: 0,\n              y1: br.y,\n              x2: 0,\n              y2: tl.y\n            }, crosshairsStyle)\n          });\n        }\n      };\n\n      return Tooltip;\n    }();\n\n    Global.tooltip = deepMix({\n      triggerOn: 'press',\n      triggerOff: 'pressend',\n      alwaysShow: false,\n      showTitle: false,\n      showCrosshairs: false,\n      crosshairsStyle: {\n        stroke: 'rgba(0, 0, 0, 0.25)',\n        lineWidth: 1\n      },\n      showTooltipMarker: true,\n      background: {\n        radius: 1,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        padding: [3, 5]\n      },\n      titleStyle: {\n        fontSize: 12,\n        fill: '#fff',\n        textAlign: 'start',\n        textBaseline: 'top'\n      },\n      nameStyle: {\n        fontSize: 12,\n        fill: 'rgba(255, 255, 255, 0.65)',\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      valueStyle: {\n        fontSize: 12,\n        fill: '#fff',\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      showItemMarker: true,\n      itemMarkerStyle: {\n        radius: 3,\n        symbol: 'circle',\n        lineWidth: 1,\n        stroke: '#fff'\n      },\n      layout: 'horizontal',\n      snap: false\n    }, Global.tooltip || {});\n\n    function _getTooltipValueScale(geom) {\n      var colorAttr = geom.getAttr('color');\n\n      if (colorAttr) {\n        var colorScale = colorAttr.getScale(colorAttr.type);\n\n        if (colorScale.isLinear) {\n          return colorScale;\n        }\n      }\n\n      var xScale = geom.getXScale();\n      var yScale = geom.getYScale();\n\n      if (yScale) {\n        return yScale;\n      }\n\n      return xScale;\n    }\n\n    function getTooltipName(geom, origin) {\n      var name;\n      var nameScale;\n\n      var groupScales = geom._getGroupScales();\n\n      if (groupScales.length) {\n        each(groupScales, function (scale) {\n          nameScale = scale;\n          return false;\n        });\n      }\n\n      if (nameScale) {\n        var field = nameScale.field;\n        name = nameScale.getText(origin[field]);\n      } else {\n        var valueScale = _getTooltipValueScale(geom);\n\n        name = valueScale.alias || valueScale.field;\n      }\n\n      return name;\n    }\n\n    function getTooltipValue(geom, origin) {\n      var scale = _getTooltipValueScale(geom);\n\n      return scale.getText(origin[scale.field]);\n    }\n\n    function getTooltipTitle(geom, origin) {\n      var position = geom.getAttr('position');\n      var field = position.getFields()[0];\n      var scale = geom.get('scales')[field];\n      return scale.getText(origin[scale.field]);\n    }\n\n    function _indexOfArray(items, item) {\n      var rst = -1;\n      each(items, function (sub, index) {\n        if (sub.title === item.title && sub.name === item.name && sub.value === item.value && sub.color === item.color) {\n          rst = index;\n          return false;\n        }\n      });\n      return rst;\n    }\n\n    function _uniqItems(items) {\n      var tmp = [];\n      each(items, function (item) {\n        var index = _indexOfArray(tmp, item);\n\n        if (index === -1) {\n          tmp.push(item);\n        } else {\n          tmp[index] = item;\n        }\n      });\n      return tmp;\n    }\n\n    function isEqual$1(arr1, arr2) {\n      return JSON.stringify(arr1) === JSON.stringify(arr2);\n    }\n\n    var TooltipController = /*#__PURE__*/function () {\n      function TooltipController(cfg) {\n        var _this = this;\n\n        _defineProperty(this, \"handleShowEvent\", function (ev) {\n          var chart = _this.chart;\n          if (!_this.enable) return;\n          var plot = chart.get('plotRange');\n          var point = createEvent(ev, chart);\n\n          if (!isPointInPlot(point, plot) && !_this._tooltipCfg.alwaysShow) {\n            // not in chart plot\n            _this.hideTooltip();\n\n            return;\n          }\n\n          var lastTimeStamp = _this.timeStamp;\n          var timeStamp = +new Date();\n\n          if (timeStamp - lastTimeStamp > 16) {\n            _this.showTooltip(point);\n\n            _this.timeStamp = timeStamp;\n          }\n        });\n\n        _defineProperty(this, \"handleHideEvent\", function () {\n          if (!_this.enable) return;\n\n          _this.hideTooltip();\n        });\n\n        this.enable = true;\n        this.cfg = {};\n        this.tooltip = null;\n        this.chart = null;\n        this.timeStamp = 0;\n        mix(this, cfg);\n        var _chart = this.chart;\n\n        var canvas = _chart.get('canvas');\n\n        this.canvas = canvas;\n        this.canvasDom = canvas.get('el');\n      }\n\n      var _proto = TooltipController.prototype;\n\n      _proto._setCrosshairsCfg = function _setCrosshairsCfg() {\n        var self = this;\n        var chart = self.chart;\n        var defaultCfg = mix({}, Global.tooltip);\n        var geoms = chart.get('geoms');\n        var shapes = [];\n        each(geoms, function (geom) {\n          var type = geom.get('type');\n\n          if (shapes.indexOf(type) === -1) {\n            shapes.push(type);\n          }\n        });\n        var coordType = chart.get('coord').type;\n\n        if (geoms.length && (coordType === 'cartesian' || coordType === 'rect')) {\n          if (shapes.length === 1 && ['line', 'area', 'path', 'point'].indexOf(shapes[0]) !== -1) {\n            mix(defaultCfg, {\n              showCrosshairs: true\n            });\n          }\n        }\n\n        return defaultCfg;\n      };\n\n      _proto._getMaxLength = function _getMaxLength(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var _cfg = cfg,\n            layout = _cfg.layout,\n            plotRange = _cfg.plotRange;\n        return layout === 'horizontal' ? plotRange.br.x - plotRange.bl.x : plotRange.bl.y - plotRange.tr.y;\n      };\n\n      _proto.render = function render() {\n        var self = this;\n\n        if (self.tooltip) {\n          return;\n        }\n\n        var chart = self.chart;\n        var canvas = chart.get('canvas');\n        var frontPlot = chart.get('frontPlot').addGroup({\n          className: 'tooltipContainer',\n          zIndex: 10\n        });\n        var backPlot = chart.get('backPlot').addGroup({\n          className: 'tooltipContainer'\n        });\n        var plotRange = chart.get('plotRange');\n        var coord = chart.get('coord');\n\n        var defaultCfg = self._setCrosshairsCfg();\n\n        var cfg = self.cfg; // 通过 chart.tooltip() 接口传入的 tooltip 配置项\n\n        var tooltipCfg = deepMix({\n          plotRange: plotRange,\n          frontPlot: frontPlot,\n          backPlot: backPlot,\n          canvas: canvas,\n          fixed: coord.transposed || coord.isPolar\n        }, defaultCfg, cfg); // 创建 tooltip 实例需要的配置，不应该修改 this.cfg，即用户传入的配置\n\n        tooltipCfg.maxLength = self._getMaxLength(tooltipCfg);\n        this._tooltipCfg = tooltipCfg;\n        var tooltip = new Tooltip(tooltipCfg);\n        self.tooltip = tooltip; // 需要保持tooltip一直显示\n\n        if (tooltipCfg.alwaysShow && self.prePoint) {\n          this.showTooltip(self.prePoint);\n        }\n\n        self.bindEvents();\n      };\n\n      _proto.clear = function clear() {\n        var tooltip = this.tooltip;\n\n        if (tooltip) {\n          tooltip.destroy();\n          this.unBindEvents();\n        }\n\n        this.tooltip = null;\n        this._lastActive = null;\n      };\n\n      _proto._getTooltipMarkerStyle = function _getTooltipMarkerStyle(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var _cfg2 = cfg,\n            type = _cfg2.type,\n            items = _cfg2.items;\n        var tooltipCfg = this._tooltipCfg;\n\n        if (type === 'rect') {\n          var x;\n          var y;\n          var width;\n          var height;\n          var chart = this.chart;\n\n          var _chart$get = chart.get('plotRange'),\n              tl = _chart$get.tl,\n              br = _chart$get.br;\n\n          var coord = chart.get('coord');\n          var firstItem = items[0];\n          var lastItem = items[items.length - 1];\n          var intervalWidth = firstItem.width;\n\n          if (coord.transposed) {\n            x = tl.x;\n            y = lastItem.y - intervalWidth * 0.75;\n            width = br.x - tl.x;\n            height = firstItem.y - lastItem.y + 1.5 * intervalWidth;\n          } else {\n            x = firstItem.x - intervalWidth * 0.75;\n            y = tl.y;\n            width = lastItem.x - firstItem.x + 1.5 * intervalWidth;\n            height = br.y - tl.y;\n          }\n\n          cfg.style = mix({\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            fill: '#CCD6EC',\n            opacity: 0.3\n          }, tooltipCfg.tooltipMarkerStyle);\n        } else {\n          cfg.style = mix({\n            radius: 4,\n            fill: '#fff',\n            lineWidth: 2\n          }, tooltipCfg.tooltipMarkerStyle);\n        }\n\n        return cfg;\n      };\n\n      _proto._setTooltip = function _setTooltip(point, items, tooltipMarkerCfg) {\n        if (tooltipMarkerCfg === void 0) {\n          tooltipMarkerCfg = {};\n        }\n\n        this.prePoint = point;\n        var lastActive = this._lastActive;\n        var tooltip = this.tooltip;\n        var cfg = this._tooltipCfg;\n        items = _uniqItems(items);\n        var chart = this.chart;\n        var coord = chart.get('coord');\n        var yScale = chart.getYScales()[0];\n        var snap = cfg.snap;\n\n        if (snap === false && yScale.isLinear) {\n          var invertPoint = coord.invertPoint(point);\n          var plot = chart.get('plotRange');\n          var tip;\n          var pos;\n\n          if (isPointInPlot(point, plot)) {\n            if (coord.transposed) {\n              tip = yScale.invert(invertPoint.x);\n              pos = point.x;\n              tooltip.setXTipContent(tip);\n              tooltip.setXTipPosition(pos);\n              tooltip.setYCrosshairPosition(pos);\n            } else {\n              tip = yScale.invert(invertPoint.y);\n              pos = point.y;\n              tooltip.setYTipContent(tip);\n              tooltip.setYTipPosition(pos);\n              tooltip.setXCrosshairPosition(pos);\n            }\n          }\n        }\n\n        if (cfg.onShow) {\n          cfg.onShow({\n            x: point.x,\n            y: point.y,\n            tooltip: tooltip,\n            items: items,\n            tooltipMarkerCfg: tooltipMarkerCfg\n          });\n        }\n\n        if (isEqual$1(lastActive, items)) {\n          if (snap === false && (directionEnabled(cfg.crosshairsType, 'y') || cfg.showYTip)) {\n            var canvas = this.chart.get('canvas');\n            canvas.draw();\n          }\n\n          return;\n        }\n\n        this._lastActive = items;\n        var onChange = cfg.onChange;\n\n        if (onChange) {\n          onChange({\n            x: point.x,\n            y: point.y,\n            tooltip: tooltip,\n            items: items,\n            tooltipMarkerCfg: tooltipMarkerCfg\n          });\n        }\n\n        var first = items[0];\n        var title = first.title || first.name;\n        var xTipPosX = first.x;\n\n        if (items.length > 1) {\n          xTipPosX = (items[0].x + items[items.length - 1].x) / 2;\n        }\n\n        tooltip.setContent(title, items, coord.transposed);\n        tooltip.setPosition(items, point);\n\n        if (coord.transposed) {\n          var yTipPosY = first.y;\n\n          if (items.length > 1) {\n            yTipPosY = (items[0].y + items[items.length - 1].y) / 2;\n          }\n\n          tooltip.setYTipContent(title);\n          tooltip.setYTipPosition(yTipPosY);\n          tooltip.setXCrosshairPosition(yTipPosY);\n\n          if (snap) {\n            tooltip.setXTipContent(first.value);\n            tooltip.setXTipPosition(xTipPosX);\n            tooltip.setYCrosshairPosition(xTipPosX);\n          }\n        } else {\n          tooltip.setXTipContent(title);\n          tooltip.setXTipPosition(xTipPosX);\n          tooltip.setYCrosshairPosition(xTipPosX);\n\n          if (snap) {\n            tooltip.setYTipContent(first.value);\n            tooltip.setYTipPosition(first.y);\n            tooltip.setXCrosshairPosition(first.y);\n          }\n        }\n\n        var markerItems = tooltipMarkerCfg.items;\n\n        if (cfg.showTooltipMarker && markerItems.length) {\n          tooltipMarkerCfg = this._getTooltipMarkerStyle(tooltipMarkerCfg);\n          tooltip.setMarkers(tooltipMarkerCfg);\n        } else {\n          tooltip.clearMarkers();\n        }\n\n        tooltip.show();\n      };\n\n      _proto.showTooltip = function showTooltip(point) {\n        var self = this;\n        var chart = self.chart;\n        var tooltipMarkerType;\n        var tooltipMarkerItems = [];\n        var items = [];\n        var cfg = self._tooltipCfg;\n        var showItemMarker = cfg.showItemMarker,\n            itemMarkerStyle = cfg.itemMarkerStyle,\n            alwaysShow = cfg.alwaysShow;\n        var marker;\n\n        if (showItemMarker) {\n          marker = itemMarkerStyle;\n        }\n\n        var geoms = chart.get('geoms');\n        var coord = chart.get('coord');\n        each(geoms, function (geom) {\n          if (geom.get('visible')) {\n            var type = geom.get('type');\n            var records = geom.getSnapRecords(point);\n            var adjust = geom.get('adjust'); // 漏斗图和金子塔图tooltip位置有问题，暂时不开放显示\n\n            if (type === 'interval' && adjust && adjust.type === 'symmetric') {\n              return;\n            }\n\n            each(records, function (record) {\n              if (record.x && record.y) {\n                var x = record.x,\n                    y = record.y,\n                    _origin = record._origin,\n                    color = record.color;\n                var tooltipItem = {\n                  x: x,\n                  y: isArray(y) ? y[1] : y,\n                  color: color || Global.defaultColor,\n                  origin: _origin,\n                  name: getTooltipName(geom, _origin),\n                  value: getTooltipValue(geom, _origin),\n                  title: getTooltipTitle(geom, _origin)\n                };\n\n                if (marker) {\n                  tooltipItem.marker = mix({\n                    fill: color || Global.defaultColor\n                  }, marker);\n                }\n\n                items.push(tooltipItem);\n\n                if (['line', 'area', 'path'].indexOf(type) !== -1) {\n                  tooltipMarkerType = 'circle';\n                  tooltipMarkerItems.push(tooltipItem);\n                } else if (type === 'interval' && (coord.type === 'cartesian' || coord.type === 'rect')) {\n                  tooltipMarkerType = 'rect';\n                  tooltipItem.width = geom.getSize(record._origin);\n                  tooltipMarkerItems.push(tooltipItem);\n                }\n              }\n            });\n          }\n        });\n\n        if (items.length) {\n          var tooltipMarkerCfg = {\n            items: tooltipMarkerItems,\n            type: tooltipMarkerType\n          };\n\n          self._setTooltip(point, items, tooltipMarkerCfg);\n\n          return;\n        }\n\n        if (!alwaysShow) {\n          self.hideTooltip();\n        }\n      };\n\n      _proto.hideTooltip = function hideTooltip() {\n        var cfg = this._tooltipCfg;\n        this._lastActive = null;\n        var tooltip = this.tooltip;\n\n        if (tooltip) {\n          tooltip.hide();\n\n          if (cfg.onHide) {\n            cfg.onHide({\n              tooltip: tooltip\n            });\n          }\n\n          var canvas = this.chart.get('canvas');\n          canvas.draw();\n        }\n      };\n\n      _proto._handleEvent = function _handleEvent(methodName, method, action) {\n        var canvas = this.canvas;\n        each([].concat(methodName), function (aMethod) {\n          if (action === 'bind') {\n            canvas.on(aMethod, method);\n          } else {\n            canvas.off(aMethod, method);\n          }\n        });\n      };\n\n      _proto.bindEvents = function bindEvents() {\n        var cfg = this._tooltipCfg;\n        var triggerOn = cfg.triggerOn,\n            triggerOff = cfg.triggerOff,\n            alwaysShow = cfg.alwaysShow;\n        triggerOn && this._handleEvent(triggerOn, this.handleShowEvent, 'bind'); // 如果 !alwaysShow, 则在手势离开后就隐藏\n\n        if (!alwaysShow) {\n          this._handleEvent(triggerOff, this.handleHideEvent, 'bind');\n        }\n      };\n\n      _proto.unBindEvents = function unBindEvents() {\n        var cfg = this._tooltipCfg;\n        var triggerOn = cfg.triggerOn,\n            triggerOff = cfg.triggerOff,\n            alwaysShow = cfg.alwaysShow;\n        triggerOn && this._handleEvent(triggerOn, this.handleShowEvent, 'unBind');\n\n        if (!alwaysShow) {\n          this._handleEvent(triggerOff, this.handleHideEvent, 'unBind');\n        }\n      };\n\n      return TooltipController;\n    }();\n\n    function init(chart) {\n      var tooltipController = new TooltipController({\n        chart: chart\n      });\n      chart.set('tooltipController', tooltipController);\n\n      chart.tooltip = function (enable, cfg) {\n        if (isObject(enable)) {\n          cfg = enable;\n          enable = true;\n        }\n\n        tooltipController.enable = enable;\n\n        if (cfg) {\n          tooltipController.cfg = cfg;\n        }\n\n        return this;\n      };\n    }\n\n    function afterGeomDraw(chart) {\n      var tooltipController = chart.get('tooltipController');\n      tooltipController.render();\n\n      chart.showTooltip = function (point) {\n        tooltipController.showTooltip(point);\n        return this;\n      };\n\n      chart.hideTooltip = function () {\n        tooltipController.hideTooltip();\n        return this;\n      };\n    }\n\n    function clearInner(chart) {\n      var tooltipController = chart.get('tooltipController');\n      tooltipController.clear();\n    }\n    var tooltip = {\n      init: init,\n      afterGeomDraw: afterGeomDraw,\n      clearInner: clearInner\n    };\n\n    var Tooltip$1 = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init,\n        afterGeomDraw: afterGeomDraw,\n        clearInner: clearInner,\n        'default': tooltip\n    });\n\n    Global.guide = deepMix({\n      line: {\n        style: {\n          stroke: '#a3a3a3',\n          lineWidth: 1\n        },\n        top: true\n      },\n      text: {\n        style: {\n          fill: '#787878',\n          textAlign: 'center',\n          textBaseline: 'middle'\n        },\n        offsetX: 0,\n        offsetY: 0,\n        top: true\n      },\n      rect: {\n        style: {\n          fill: '#fafafa'\n        },\n        top: false\n      },\n      arc: {\n        style: {\n          stroke: '#a3a3a3'\n        },\n        top: true\n      },\n      html: {\n        offsetX: 0,\n        offsetY: 0,\n        alignX: 'center',\n        alignY: 'middle'\n      },\n      tag: {\n        top: true,\n        offsetX: 0,\n        offsetY: 0,\n        side: 4,\n        background: {\n          padding: 5,\n          radius: 2,\n          fill: '#1890FF'\n        },\n        textStyle: {\n          fontSize: 12,\n          fill: '#fff',\n          textAlign: 'center',\n          textBaseline: 'middle'\n        }\n      },\n      point: {\n        top: true,\n        offsetX: 0,\n        offsetY: 0,\n        style: {\n          fill: '#fff',\n          r: 3,\n          lineWidth: 2,\n          stroke: '#1890ff'\n        }\n      }\n    }, Global.guide || {});\n\n    var GuideController = /*#__PURE__*/function () {\n      function GuideController(cfg) {\n        this.guides = [];\n        this.xScale = null;\n        this.yScales = null;\n        this.guideShapes = [];\n        mix(this, cfg);\n      }\n\n      var _proto = GuideController.prototype;\n\n      _proto._toString = function _toString(position) {\n        if (isFunction(position)) {\n          position = position(this.xScale, this.yScales);\n        }\n\n        position = position.toString();\n        return position;\n      };\n\n      _proto._getId = function _getId(shape, guide) {\n        var id = guide.id;\n\n        if (!id) {\n          var type = guide.type;\n\n          if (type === 'arc' || type === 'line' || type === 'rect') {\n            id = this._toString(guide.start) + '-' + this._toString(guide.end);\n          } else {\n            id = this._toString(guide.position);\n          }\n        }\n\n        return id;\n      };\n\n      _proto.paint = function paint(coord) {\n        var self = this;\n        var chart = self.chart,\n            guides = self.guides,\n            xScale = self.xScale,\n            yScales = self.yScales;\n        var guideShapes = [];\n        each(guides, function (guide, idx) {\n          guide.xScale = xScale;\n          guide.yScales = yScales;\n          var container;\n\n          if (guide.type === 'regionFilter') {\n            // TODO: RegionFilter support animation\n            guide.chart = chart;\n          } else {\n            container = guide.top ? self.frontPlot : self.backPlot;\n          }\n\n          guide.coord = coord;\n          guide.container = container;\n          guide.canvas = chart.get('canvas');\n          var shape = guide.render(coord, container);\n\n          if (shape) {\n            var id = self._getId(shape, guide);\n\n            [].concat(shape).forEach(function (s) {\n              s._id = s.get('className') + '-' + id;\n              s.set('index', idx);\n              guideShapes.push(s);\n            });\n          }\n        });\n        self.guideShapes = guideShapes;\n      };\n\n      _proto.clear = function clear() {\n        this.reset();\n        this.guides = [];\n        return this;\n      };\n\n      _proto.reset = function reset() {\n        var guides = this.guides;\n        each(guides, function (guide) {\n          guide.remove();\n        });\n      };\n\n      _proto._createGuide = function _createGuide(type, cfg) {\n        var ClassName = upperFirst(type);\n        var guide = new GuideBase[ClassName](deepMix({}, Global.guide[type], cfg));\n        this.guides.push(guide);\n        return guide;\n      };\n\n      _proto.line = function line(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('line', cfg);\n      };\n\n      _proto.text = function text(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('text', cfg);\n      };\n\n      _proto.arc = function arc(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('arc', cfg);\n      };\n\n      _proto.html = function html(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('html', cfg);\n      };\n\n      _proto.rect = function rect(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('rect', cfg);\n      };\n\n      _proto.tag = function tag(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('tag', cfg);\n      };\n\n      _proto.point = function point(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('point', cfg);\n      };\n\n      _proto.regionFilter = function regionFilter(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        return this._createGuide('regionFilter', cfg);\n      };\n\n      return GuideController;\n    }();\n\n    function init$1(chart) {\n      var guideController = new GuideController({\n        frontPlot: chart.get('frontPlot').addGroup({\n          zIndex: 20,\n          className: 'guideContainer'\n        }),\n        backPlot: chart.get('backPlot').addGroup({\n          className: 'guideContainer'\n        })\n      });\n      chart.set('guideController', guideController);\n      /**\n       * 为图表添加 guide\n       * @return {GuideController} 返回 guide 控制器\n       */\n\n      chart.guide = function () {\n        return guideController;\n      };\n    }\n\n    function afterGeomDraw$1(chart) {\n      var guideController = chart.get('guideController');\n\n      if (!guideController.guides.length) {\n        return;\n      }\n\n      var xScale = chart.getXScale();\n      var yScales = chart.getYScales();\n      var coord = chart.get('coord');\n      guideController.xScale = xScale;\n      guideController.yScales = yScales;\n      guideController.chart = chart; // for regionFilter\n\n      guideController.paint(coord);\n    }\n\n    function clear(chart) {\n      chart.get('guideController').clear();\n    }\n\n    function repaint(chart) {\n      chart.get('guideController').reset();\n    }\n    var guide = {\n      init: init$1,\n      afterGeomDraw: afterGeomDraw$1,\n      clear: clear,\n      repaint: repaint\n    };\n\n    var Guide = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$1,\n        afterGeomDraw: afterGeomDraw$1,\n        clear: clear,\n        repaint: repaint,\n        'default': guide\n    });\n\n    var LEGEND_GAP = 12;\n    var MARKER_SIZE = 3;\n    var DEFAULT_CFG = {\n      itemMarginBottom: 12,\n      itemGap: 10,\n      showTitle: false,\n      titleStyle: {\n        fontSize: 12,\n        fill: '#808080',\n        textAlign: 'start',\n        textBaseline: 'top'\n      },\n      nameStyle: {\n        fill: '#808080',\n        fontSize: 12,\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      valueStyle: {\n        fill: '#000000',\n        fontSize: 12,\n        textAlign: 'start',\n        textBaseline: 'middle'\n      },\n      unCheckStyle: {\n        fill: '#bfbfbf'\n      },\n      itemWidth: 'auto',\n      wordSpace: 6,\n      selectedMode: 'multiple' // 'multiple' or 'single'\n\n    }; // Register the default configuration for Legend\n\n    Global.legend = deepMix({\n      common: DEFAULT_CFG,\n      // common legend configuration\n      right: mix({\n        position: 'right',\n        layout: 'vertical'\n      }, DEFAULT_CFG),\n      left: mix({\n        position: 'left',\n        layout: 'vertical'\n      }, DEFAULT_CFG),\n      top: mix({\n        position: 'top',\n        layout: 'horizontal'\n      }, DEFAULT_CFG),\n      bottom: mix({\n        position: 'bottom',\n        layout: 'horizontal'\n      }, DEFAULT_CFG)\n    }, Global.legend || {});\n\n    function getPaddingByPos(pos, appendPadding) {\n      var padding = 0;\n      appendPadding = parsePadding(appendPadding);\n\n      switch (pos) {\n        case 'top':\n          padding = appendPadding[0];\n          break;\n\n        case 'right':\n          padding = appendPadding[1];\n          break;\n\n        case 'bottom':\n          padding = appendPadding[2];\n          break;\n\n        case 'left':\n          padding = appendPadding[3];\n          break;\n      }\n\n      return padding;\n    }\n\n    var LegendController = /*#__PURE__*/function () {\n      function LegendController(cfg) {\n        var _this = this;\n\n        _defineProperty(this, \"handleEvent\", function (ev) {\n          var self = _this;\n\n          function findItem(x, y) {\n            var result = null;\n            var legends = self.legends;\n            each(legends, function (legendItems) {\n              each(legendItems, function (legend) {\n                var itemsGroup = legend.itemsGroup,\n                    legendHitBoxes = legend.legendHitBoxes;\n                var children = itemsGroup.get('children');\n\n                if (children.length) {\n                  var legendPosX = legend.x;\n                  var legendPosY = legend.y;\n                  each(legendHitBoxes, function (box, index) {\n                    if (x >= box.x + legendPosX && x <= box.x + box.width + legendPosX && y >= box.y + legendPosY && y <= box.height + box.y + legendPosY) {\n                      // inbox\n                      result = {\n                        clickedItem: children[index],\n                        clickedLegend: legend\n                      };\n                      return false;\n                    }\n                  });\n                }\n              });\n            });\n            return result;\n          }\n\n          var chart = self.chart;\n\n          var _createEvent = createEvent(ev, chart),\n              x = _createEvent.x,\n              y = _createEvent.y;\n\n          var clicked = findItem(x, y);\n\n          if (clicked && clicked.clickedLegend.clickable !== false) {\n            var clickedItem = clicked.clickedItem,\n                clickedLegend = clicked.clickedLegend;\n\n            if (clickedLegend.onClick) {\n              ev.clickedItem = clickedItem;\n              clickedLegend.onClick(ev);\n            } else if (!clickedLegend.custom) {\n              var checked = clickedItem.get('checked');\n              var value = clickedItem.get('dataValue');\n              var filteredVals = clickedLegend.filteredVals,\n                  field = clickedLegend.field,\n                  selectedMode = clickedLegend.selectedMode;\n              var isSingeSelected = selectedMode === 'single';\n\n              if (isSingeSelected) {\n                chart.filter(field, function (val) {\n                  return val === value;\n                });\n              } else {\n                if (checked) {\n                  filteredVals.push(value);\n                } else {\n                  remove(filteredVals, value);\n                }\n\n                chart.filter(field, function (val) {\n                  return filteredVals.indexOf(val) === -1;\n                });\n              }\n\n              chart.repaint();\n            }\n          }\n        });\n\n        this.legendCfg = {};\n        this.enable = true;\n        this.position = 'top';\n        mix(this, cfg);\n        var _chart = this.chart;\n        this.canvasDom = _chart.get('canvas').get('el');\n        this.clear();\n      }\n\n      var _proto = LegendController.prototype;\n\n      _proto.addLegend = function addLegend(scale, items, filteredVals) {\n        var self = this;\n        var legendCfg = self.legendCfg;\n        var field = scale.field;\n        var fieldCfg = legendCfg[field];\n\n        if (fieldCfg === false) {\n          return null;\n        }\n\n        if (fieldCfg && fieldCfg.custom) {\n          self.addCustomLegend(field);\n        } else {\n          var position = legendCfg.position || self.position;\n\n          if (fieldCfg && fieldCfg.position) {\n            position = fieldCfg.position;\n          }\n\n          if (scale.isCategory) {\n            self._addCategoryLegend(scale, items, position, filteredVals);\n          }\n        }\n      };\n\n      _proto.addCustomLegend = function addCustomLegend(field) {\n        var self = this;\n        var legendCfg = self.legendCfg;\n\n        if (field && legendCfg[field]) {\n          legendCfg = legendCfg[field];\n        }\n\n        var position = legendCfg.position || self.position;\n        var legends = self.legends;\n        legends[position] = legends[position] || [];\n        var items = legendCfg.items;\n\n        if (!items) {\n          return null;\n        }\n\n        var container = self.container;\n        each(items, function (item) {\n          if (!isPlainObject(item.marker)) {\n            item.marker = {\n              symbol: item.marker || 'circle',\n              fill: item.fill,\n              radius: MARKER_SIZE\n            };\n          } else {\n            item.marker.radius = item.marker.radius || MARKER_SIZE;\n          }\n\n          item.checked = isNil(item.checked) ? true : item.checked;\n          item.name = item.name || item.value;\n        });\n        var legend = new List(deepMix({}, Global.legend[position], legendCfg, {\n          maxLength: self._getMaxLength(position),\n          items: items,\n          parent: container\n        }));\n        legends[position].push(legend);\n      };\n\n      _proto.clear = function clear() {\n        var legends = this.legends;\n        each(legends, function (legendItems) {\n          each(legendItems, function (legend) {\n            legend.clear();\n          });\n        });\n        this.legends = {};\n        this.unBindEvents();\n      };\n\n      _proto._isFiltered = function _isFiltered(scale, values, value) {\n        var rst = false;\n        each(values, function (val) {\n          rst = rst || scale.getText(val) === scale.getText(value);\n\n          if (rst) {\n            return false;\n          }\n        });\n        return rst;\n      };\n\n      _proto._getMaxLength = function _getMaxLength(position) {\n        var chart = this.chart;\n        var appendPadding = parsePadding(chart.get('appendPadding'));\n        return position === 'right' || position === 'left' ? chart.get('height') - (appendPadding[0] + appendPadding[2]) : chart.get('width') - (appendPadding[1] + appendPadding[3]);\n      };\n\n      _proto._addCategoryLegend = function _addCategoryLegend(scale, items, position, filteredVals) {\n        var self = this;\n        var legendCfg = self.legendCfg,\n            legends = self.legends,\n            container = self.container,\n            chart = self.chart;\n        var field = scale.field;\n        legends[position] = legends[position] || [];\n        var symbol = 'circle';\n\n        if (legendCfg[field] && legendCfg[field].marker) {\n          symbol = legendCfg[field].marker;\n        } else if (legendCfg.marker) {\n          symbol = legendCfg.marker;\n        }\n\n        each(items, function (item) {\n          if (isPlainObject(symbol)) {\n            mix(item.marker, symbol);\n          } else {\n            item.marker.symbol = symbol;\n          }\n\n          if (filteredVals) {\n            item.checked = !self._isFiltered(scale, filteredVals, item.dataValue);\n          }\n        });\n        var legendItems = chart.get('legendItems');\n        legendItems[field] = items;\n        var lastCfg = deepMix({}, Global.legend[position], legendCfg[field] || legendCfg, {\n          maxLength: self._getMaxLength(position),\n          items: items,\n          field: field,\n          filteredVals: filteredVals,\n          parent: container\n        });\n\n        if (lastCfg.showTitle) {\n          deepMix(lastCfg, {\n            title: scale.alias || scale.field\n          });\n        }\n\n        var legend = new List(lastCfg);\n        legends[position].push(legend);\n        return legend;\n      };\n\n      _proto._alignLegend = function _alignLegend(legend, pre, position) {\n        var self = this;\n        var _self$plotRange = self.plotRange,\n            tl = _self$plotRange.tl,\n            bl = _self$plotRange.bl;\n        var chart = self.chart;\n        var offsetX = legend.offsetX || 0;\n        var offsetY = legend.offsetY || 0;\n        var chartWidth = chart.get('width');\n        var chartHeight = chart.get('height');\n        var appendPadding = parsePadding(chart.get('appendPadding'));\n        var legendHeight = legend.getHeight();\n        var legendWidth = legend.getWidth();\n        var x = 0;\n        var y = 0;\n\n        if (position === 'left' || position === 'right') {\n          var verticalAlign = legend.verticalAlign || 'middle';\n          var height = Math.abs(tl.y - bl.y);\n          x = position === 'left' ? appendPadding[3] : chartWidth - legendWidth - appendPadding[1];\n          y = (height - legendHeight) / 2 + tl.y;\n\n          if (verticalAlign === 'top') {\n            y = tl.y;\n          } else if (verticalAlign === 'bottom') {\n            y = bl.y - legendHeight;\n          }\n\n          if (pre) {\n            y = pre.get('y') - legendHeight - LEGEND_GAP;\n          }\n        } else {\n          var align = legend.align || 'left';\n          x = appendPadding[3];\n\n          if (align === 'center') {\n            x = chartWidth / 2 - legendWidth / 2;\n          } else if (align === 'right') {\n            x = chartWidth - (legendWidth + appendPadding[1]);\n          }\n\n          y = position === 'top' ? appendPadding[0] + Math.abs(legend.container.getBBox().minY) : chartHeight - legendHeight;\n\n          if (pre) {\n            var preWidth = pre.getWidth();\n            x = pre.x + preWidth + LEGEND_GAP;\n          }\n        }\n\n        if (position === 'bottom' && offsetY > 0) {\n          offsetY = 0;\n        }\n\n        if (position === 'right' && offsetX > 0) {\n          offsetX = 0;\n        }\n\n        legend.moveTo(x + offsetX, y + offsetY);\n      };\n\n      _proto.alignLegends = function alignLegends() {\n        var self = this;\n        var legends = self.legends;\n        each(legends, function (legendItems, position) {\n          each(legendItems, function (legend, index) {\n            var pre = legendItems[index - 1];\n\n            self._alignLegend(legend, pre, position);\n          });\n        });\n        return self;\n      };\n\n      _proto.bindEvents = function bindEvents() {\n        var legendCfg = this.legendCfg;\n        var triggerOn = legendCfg.triggerOn || 'touchstart';\n        addEventListener(this.canvasDom, triggerOn, this.handleEvent);\n      };\n\n      _proto.unBindEvents = function unBindEvents() {\n        var legendCfg = this.legendCfg;\n        var triggerOn = legendCfg.triggerOn || 'touchstart';\n        removeEventListener(this.canvasDom, triggerOn, this.handleEvent);\n      };\n\n      return LegendController;\n    }();\n\n    function init$2(chart) {\n      var legendController = new LegendController({\n        container: chart.get('backPlot'),\n        plotRange: chart.get('plotRange'),\n        chart: chart\n      });\n      chart.set('legendController', legendController);\n\n      chart.legend = function (field, cfg) {\n        var legendCfg = legendController.legendCfg;\n        legendController.enable = true;\n\n        if (isBoolean(field)) {\n          legendController.enable = field;\n          legendCfg = cfg || {};\n        } else if (isObject(field)) {\n          legendCfg = field;\n        } else {\n          legendCfg[field] = cfg;\n        }\n\n        legendController.legendCfg = legendCfg;\n        return this;\n      };\n    }\n\n    function beforeGeomDraw(chart) {\n      var legendController = chart.get('legendController');\n      if (!legendController.enable) return null; // legend is not displayed\n\n      var legendCfg = legendController.legendCfg;\n\n      if (legendCfg && legendCfg.custom) {\n        legendController.addCustomLegend();\n      } else {\n        var legendItems = chart.getLegendItems();\n        var scales = chart.get('scales');\n        var filters = chart.get('filters');\n        each(legendItems, function (items, field) {\n          var scale = scales[field];\n          var values = scale.values;\n          var filteredVals;\n\n          if (filters && filters[field]) {\n            filteredVals = values.filter(function (v) {\n              return !filters[field](v);\n            });\n          } else {\n            filteredVals = [];\n          }\n\n          legendController.addLegend(scale, items, filteredVals);\n        });\n      }\n\n      if (legendCfg && legendCfg.clickable !== false) {\n        legendController.bindEvents();\n      }\n\n      var legends = legendController.legends;\n      var legendRange = {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n      };\n      each(legends, function (legendItems, position) {\n        var padding = 0;\n        each(legendItems, function (legend) {\n          var width = legend.getWidth();\n          var height = legend.getHeight();\n\n          if (position === 'top' || position === 'bottom') {\n            padding = Math.max(padding, height);\n\n            if (legend.offsetY > 0) {\n              padding += legend.offsetY;\n            }\n          } else {\n            padding = Math.max(padding, width);\n\n            if (legend.offsetX > 0) {\n              padding += legend.offsetX;\n            }\n          }\n        });\n        legendRange[position] = padding + getPaddingByPos(position, chart.get('appendPadding'));\n      });\n      chart.set('legendRange', legendRange);\n    }\n\n    function afterGeomDraw$2(chart) {\n      var legendController = chart.get('legendController');\n      legendController.alignLegends();\n    }\n\n    function clearInner$1(chart) {\n      var legendController = chart.get('legendController');\n      legendController.clear();\n      chart.set('legendRange', null);\n    }\n    var legend = {\n      init: init$2,\n      beforeGeomDraw: beforeGeomDraw,\n      afterGeomDraw: afterGeomDraw$2,\n      clearInner: clearInner$1\n    };\n\n    var Legend = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$2,\n        beforeGeomDraw: beforeGeomDraw,\n        afterGeomDraw: afterGeomDraw$2,\n        clearInner: clearInner$1,\n        'default': legend\n    });\n\n    var clock = typeof performance === 'object' && performance.now ? performance : Date;\n\n    var Timeline = /*#__PURE__*/function () {\n      function Timeline() {\n        this.anims = [];\n        this.time = null;\n        this.playing = false;\n        this.canvas = [];\n      }\n\n      var _proto = Timeline.prototype;\n\n      _proto.play = function play() {\n        var self = this;\n        self.time = clock.now();\n        self.playing = true;\n\n        function step() {\n          if (self.playing) {\n            requestAnimationFrame(step);\n            self.update();\n          }\n        }\n\n        requestAnimationFrame(step);\n      };\n\n      _proto.stop = function stop() {\n        this.playing = false;\n        this.time = null;\n        this.canvas = [];\n      };\n\n      _proto.pushAnim = function pushAnim(animInfo) {\n        this.anims.push(animInfo);\n\n        if (this.playing) {\n          return;\n        }\n\n        this.play();\n      };\n\n      _proto.update = function update() {\n        var currentTime = clock.now();\n        this.canvas = [];\n\n        if (!this.anims.length) {\n          this.stop();\n          return;\n        }\n\n        for (var i = 0; i < this.anims.length; i++) {\n          var propertyAnim = this.anims[i];\n\n          if (currentTime < propertyAnim.startTime || propertyAnim.hasEnded) {\n            continue;\n          }\n\n          var shape = propertyAnim.shape; // shape\n\n          if (shape.get('destroyed')) {\n            this.anims.splice(i, 1);\n            i--;\n            continue;\n          }\n\n          var startState = propertyAnim.startState,\n              endState = propertyAnim.endState,\n              interpolate = propertyAnim.interpolate,\n              duration = propertyAnim.duration;\n\n          if (currentTime >= propertyAnim.startTime && !propertyAnim.hasStarted) {\n            propertyAnim.hasStarted = true;\n\n            if (propertyAnim.onStart) {\n              propertyAnim.onStart();\n            }\n          }\n\n          var t = (currentTime - propertyAnim.startTime) / duration;\n          t = Math.max(0, Math.min(t, 1));\n          t = propertyAnim.easing(t);\n\n          if (propertyAnim.onFrame) {\n            propertyAnim.onFrame(t);\n          } else {\n            for (var key in interpolate) {\n              var diff = interpolate[key];\n              var value = diff(t);\n              var newValue = void 0;\n\n              if (key === 'points') {\n                newValue = [];\n                var aLen = Math.max(startState.points.length, endState.points.length);\n\n                for (var j = 0; j < aLen; j += 2) {\n                  newValue.push({\n                    x: value[j],\n                    y: value[j + 1]\n                  });\n                }\n              } else {\n                newValue = value;\n              }\n\n              shape._attrs.attrs[key] = newValue;\n              shape._attrs.bbox = null; // should clear calculated bbox\n            }\n          }\n\n          var canvas = shape.get('canvas');\n\n          if (this.canvas.indexOf(canvas) === -1) {\n            this.canvas.push(canvas);\n          }\n\n          if (propertyAnim.onUpdate) {\n            propertyAnim.onUpdate(t);\n          }\n\n          if (currentTime >= propertyAnim.endTime && !propertyAnim.hasEnded) {\n            propertyAnim.hasEnded = true;\n\n            if (propertyAnim.onEnd) {\n              propertyAnim.onEnd();\n            }\n          }\n\n          if (t === 1) {\n            // end\n            this.anims.splice(i, 1);\n            i--;\n          }\n        }\n\n        this.canvas.map(function (c) {\n          c.draw();\n          return c;\n        });\n        this.time = clock.now();\n      };\n\n      return Timeline;\n    }();\n\n    function linear$1(k) {\n      return k;\n    }\n\n    function quadraticIn(k) {\n      return k * k;\n    }\n\n    function quadraticOut(k) {\n      return k * (2 - k);\n    }\n\n    function quadraticInOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k;\n      }\n\n      return -0.5 * (--k * (k - 2) - 1);\n    }\n\n    function cubicIn(k) {\n      return k * k * k;\n    }\n\n    function cubicOut(k) {\n      return --k * k * k + 1;\n    }\n\n    function cubicInOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k;\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2);\n    }\n\n    function elasticIn(k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n      if (k === 0) return 0;\n      if (k === 1) return 1;\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(1 / a);\n      }\n\n      return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n    }\n\n    function elasticOut(k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n      if (k === 0) return 0;\n      if (k === 1) return 1;\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(1 / a);\n      }\n\n      return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;\n    }\n\n    function elasticInOut(k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n      if (k === 0) return 0;\n      if (k === 1) return 1;\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(1 / a);\n      }\n\n      if ((k *= 2) < 1) {\n        return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n      }\n\n      return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n    }\n\n    function backIn(k) {\n      var s = 1.70158;\n      return k * k * ((s + 1) * k - s);\n    }\n\n    function backOut(k) {\n      var s = 1.70158;\n      return (k = k - 1) * k * ((s + 1) * k + s) + 1;\n    }\n\n    function backInOut(k) {\n      var s = 1.70158 * 1.525;\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s));\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    }\n\n    function bounceIn(k) {\n      return 1 - bounceOut(1 - k);\n    }\n\n    function bounceOut(k) {\n      if ((k /= 1) < 1 / 2.75) {\n        return 7.5625 * k * k;\n      } else if (k < 2 / 2.75) {\n        return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n      } else if (k < 2.5 / 2.75) {\n        return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n      }\n\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n    }\n\n    function bounceInOut(k) {\n      if (k < 0.5) {\n        return bounceIn(k * 2) * 0.5;\n      }\n\n      return bounceOut(k * 2 - 1) * 0.5 + 0.5;\n    }\n\n    var Easing = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        linear: linear$1,\n        quadraticIn: quadraticIn,\n        quadraticOut: quadraticOut,\n        quadraticInOut: quadraticInOut,\n        cubicIn: cubicIn,\n        cubicOut: cubicOut,\n        cubicInOut: cubicInOut,\n        elasticIn: elasticIn,\n        elasticOut: elasticOut,\n        elasticInOut: elasticInOut,\n        backIn: backIn,\n        backOut: backOut,\n        backInOut: backInOut,\n        bounceIn: bounceIn,\n        bounceOut: bounceOut,\n        bounceInOut: bounceInOut\n    });\n\n    function plainArray(arr) {\n      var result = [];\n\n      for (var i = 0, len = arr.length; i < len; i++) {\n        if (arr[i]) {\n          result.push(arr[i].x);\n          result.push(arr[i].y);\n        }\n      }\n\n      return result;\n    }\n\n    function interpolateNumber(a, b) {\n      a = +a;\n      b -= a;\n      return function (t) {\n        return a + b * t;\n      };\n    }\n\n    function interpolateArray(a, b) {\n      var nb = b ? b.length : 0;\n      var na = a ? Math.min(nb, a.length) : 0;\n      var x = new Array(na);\n      var c = new Array(nb);\n      var i;\n\n      for (i = 0; i < na; ++i) {\n        x[i] = interpolateNumber(a[i], b[i]);\n      }\n\n      for (; i < nb; ++i) {\n        c[i] = b[i];\n      }\n\n      return function (t) {\n        for (i = 0; i < na; ++i) {\n          c[i] = x[i](t);\n        }\n\n        return c;\n      };\n    }\n\n    var Animator = /*#__PURE__*/function () {\n      function Animator(shape, source, timeline) {\n        this.hasStarted = false;\n        this.hasEnded = false;\n        this.shape = shape;\n        this.source = source;\n        this.timeline = timeline;\n        this.animate = null;\n      } // delay, attrs, duration, easing\n\n\n      var _proto = Animator.prototype;\n\n      _proto.to = function to(cfg) {\n        if (cfg === void 0) {\n          cfg = {};\n        }\n\n        var delay = cfg.delay || 0;\n        var attrs = cfg.attrs || {};\n        var duration = cfg.duration || 1000;\n        var easing; // 缓动函数\n\n        if (typeof cfg.easing === 'function') {\n          easing = cfg.easing;\n        } else {\n          easing = Easing[cfg.easing] || linear$1;\n        }\n\n        var animInfo = {\n          shape: this.shape,\n          startTime: this.timeline.time + delay,\n          duration: duration,\n          easing: easing\n        };\n        var interpolate = {}; // 差值函数\n\n        for (var attrName in attrs) {\n          var startValue = this.source[attrName];\n          var endValue = attrs[attrName];\n\n          if (attrName === 'points') {\n            startValue = plainArray(startValue);\n            endValue = plainArray(endValue);\n            interpolate.points = interpolateArray(startValue, endValue);\n            this.source.points = startValue;\n            attrs.points = endValue;\n          } else if (attrName === 'matrix') {\n            interpolate.matrix = interpolateArray(startValue, endValue);\n          } else {\n            interpolate[attrName] = interpolateNumber(startValue, endValue);\n          }\n        }\n\n        animInfo.interpolate = interpolate;\n        animInfo.startState = this.source;\n        animInfo.endState = attrs;\n        animInfo.endTime = animInfo.startTime + duration;\n        this.timeline.pushAnim(animInfo);\n        this.animate = animInfo;\n        return this;\n      };\n\n      _proto.onFrame = function onFrame(callback) {\n        // 自定义每一帧动画的动作\n        if (this.animate) {\n          this.animate.onFrame = function (frame) {\n            callback(frame);\n          };\n        }\n\n        return this;\n      };\n\n      _proto.onStart = function onStart(callback) {\n        if (this.animate) {\n          this.animate.onStart = function () {\n            callback();\n          };\n        }\n\n        return this;\n      };\n\n      _proto.onUpdate = function onUpdate(callback) {\n        if (this.animate) {\n          this.animate.onUpdate = function (frame) {\n            callback(frame);\n          };\n        }\n\n        return this;\n      };\n\n      _proto.onEnd = function onEnd(callback) {\n        if (this.animate) {\n          this.animate.onEnd = function () {\n            callback();\n          };\n        }\n\n        return this;\n      };\n\n      return Animator;\n    }();\n\n    var defaultAnimationCfg = {\n      appear: {\n        duration: 450,\n        easing: 'quadraticOut'\n      },\n      // 'appear' animation options\n      update: {\n        duration: 300,\n        easing: 'quadraticOut'\n      },\n      // 'update' animation options\n      enter: {\n        duration: 300,\n        easing: 'quadraticOut'\n      },\n      // 'enter' animation options\n      leave: {\n        duration: 350,\n        easing: 'quadraticIn'\n      } // 'leave' animation options\n\n    };\n    var Animate = {\n      defaultCfg: {},\n      Action: {},\n      getAnimation: function getAnimation(geomType, coord, animationType) {\n        var geomAnimateCfg = this.defaultCfg[geomType];\n\n        if (geomAnimateCfg) {\n          var animation = geomAnimateCfg[animationType];\n\n          if (isFunction(animation)) {\n            return animation(coord);\n          }\n        }\n\n        return false;\n      },\n      getAnimateCfg: function getAnimateCfg(geomType, animationType) {\n        var defaultCfg = defaultAnimationCfg[animationType];\n        var geomConfig = this.defaultCfg[geomType];\n\n        if (geomConfig && geomConfig.cfg && geomConfig.cfg[animationType]) {\n          return deepMix({}, defaultCfg, geomConfig.cfg[animationType]);\n        }\n\n        return defaultCfg;\n      },\n      registerAnimation: function registerAnimation(animationName, animationFun) {\n        var _extends2;\n\n        if (!this.Action) {\n          this.Action = {};\n        }\n\n        this.Action = _extends({}, this.Action, (_extends2 = {}, _extends2[animationName] = animationFun, _extends2));\n      }\n    };\n\n    /**\n     * Utility\n     * @author sima.zhang1990@gmail.com\n     */\n\n    function getCoordInfo(coord) {\n      var start = coord.start;\n      var end = coord.end;\n      return {\n        start: start,\n        end: end,\n        width: end.x - start.x,\n        height: Math.abs(end.y - start.y)\n      };\n    }\n\n    function getScaledMatrix(shape, v, direct) {\n      var scaledMatrix;\n      shape.apply(v);\n      var x = v[0];\n      var y = v[1];\n\n      if (direct === 'x') {\n        shape.transform([['t', x, y], ['s', 0.01, 1], ['t', -x, -y]]);\n        var matrix = shape.getMatrix();\n        scaledMatrix = Matrix.transform(matrix, [['t', x, y], ['s', 100, 1], ['t', -x, -y]]);\n      } else if (direct === 'y') {\n        shape.transform([['t', x, y], ['s', 1, 0.01], ['t', -x, -y]]);\n\n        var _matrix = shape.getMatrix();\n\n        scaledMatrix = Matrix.transform(_matrix, [['t', x, y], ['s', 1, 100], ['t', -x, -y]]);\n      } else if (direct === 'xy') {\n        shape.transform([['t', x, y], ['s', 0.01, 0.01], ['t', -x, -y]]);\n\n        var _matrix2 = shape.getMatrix();\n\n        scaledMatrix = Matrix.transform(_matrix2, [['t', x, y], ['s', 100, 100], ['t', -x, -y]]);\n      }\n\n      return scaledMatrix;\n    }\n\n    function getAnimateParam(animateCfg, index, id) {\n      var result = {};\n\n      if (animateCfg.delay) {\n        result.delay = isFunction(animateCfg.delay) ? animateCfg.delay(index, id) : animateCfg.delay;\n      }\n\n      result.easing = animateCfg.easing;\n      result.duration = animateCfg.duration;\n      result.delay = animateCfg.delay;\n      return result;\n    }\n\n    function doAnimation(shape, endState, animateCfg, callback) {\n      var id = shape._id;\n      var index = shape.get('index');\n\n      var _getAnimateParam = getAnimateParam(animateCfg, index, id),\n          easing = _getAnimateParam.easing,\n          delay = _getAnimateParam.delay,\n          duration = _getAnimateParam.duration;\n\n      var anim = shape.animate().to({\n        attrs: endState,\n        duration: duration,\n        delay: delay,\n        easing: easing\n      });\n\n      if (callback) {\n        anim.onEnd(function () {\n          callback();\n        });\n      }\n    }\n\n    /**\n     * Animation functions for shape\n     * @author sima.zhang1990@gmail.com\n     */\n    /*\n    function waveIn(shape, animateCfg, coord) {\n      const clip = Helpers.getClip(coord);\n      clip.set('canvas', shape.get('canvas'));\n      shape.attr('clip', clip);\n      const onEnd = function() {\n        shape.attr('clip', null);\n        clip.remove(true);\n      };\n      Helpers.doAnimation(clip, clip.endState, animateCfg, onEnd);\n    }\n\n    function scaleInX(shape, animateCfg) {\n      const box = shape.getBBox();\n      const points = shape.get('origin').points;\n      let x;\n      const y = (box.minY + box.maxY) / 2;\n\n      if (points[0].y - points[1].y > 0) { // 当顶点在零点之下\n        x = box.maxX;\n      } else {\n        x = box.minX;\n      }\n      const scaledMatrix = Helpers.getScaledMatrix(shape, [ x, y ], 'x');\n      Helpers.doAnimation(shape, { matrix: scaledMatrix }, animateCfg);\n    }\n\n    function scaleInY(shape, animateCfg) {\n      const box = shape.getBBox();\n      const points = shape.get('origin').points;\n      const x = (box.minX + box.maxX) / 2;\n      let y;\n\n      if (points[0].y - points[1].y <= 0) { // 当顶点在零点之下\n        y = box.maxY;\n      } else {\n        y = box.minY;\n      }\n      const scaledMatrix = Helpers.getScaledMatrix(shape, [ x, y ], 'x');\n      Helpers.doAnimation(shape, { matrix: scaledMatrix }, animateCfg);\n    }\n    */\n\n    function fadeIn(shape, animateCfg) {\n      var fillOpacity = isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity');\n      var strokeOpacity = isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity');\n      shape.attr('fillOpacity', 0);\n      shape.attr('strokeOpacity', 0);\n      var endState = {\n        fillOpacity: fillOpacity,\n        strokeOpacity: strokeOpacity\n      };\n      doAnimation(shape, endState, animateCfg);\n    }\n\n    var ShapeAction = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        fadeIn: fadeIn\n    });\n\n    /**\n     * Group animate functions\n     * @author sima.zhang1990@gmail.com\n     */\n\n    function _groupScaleIn(container, animateCfg, coord, zeroY, type) {\n      var _getCoordInfo = getCoordInfo(coord),\n          start = _getCoordInfo.start,\n          end = _getCoordInfo.end,\n          width = _getCoordInfo.width,\n          height = _getCoordInfo.height;\n\n      var x;\n      var y;\n      var clip = new Shape$2.Rect({\n        attrs: {\n          x: start.x,\n          y: end.y,\n          width: width,\n          height: height\n        }\n      });\n\n      if (type === 'y') {\n        x = start.x + width / 2;\n        y = zeroY.y < start.y ? zeroY.y : start.y;\n      } else if (type === 'x') {\n        x = zeroY.x > start.x ? zeroY.x : start.x;\n        y = start.y + height / 2;\n      } else if (type === 'xy') {\n        if (coord.isPolar) {\n          x = coord.center.x;\n          y = coord.center.y;\n        } else {\n          x = (start.x + end.x) / 2;\n          y = (start.y + end.y) / 2;\n        }\n      }\n\n      var endMatrix = getScaledMatrix(clip, [x, y], type);\n      clip.isClip = true;\n      clip.endState = {\n        matrix: endMatrix\n      };\n      clip.set('canvas', container.get('canvas'));\n      container.attr('clip', clip);\n\n      var onEnd = function onEnd() {\n        container.attr('clip', null);\n        clip.remove(true);\n      };\n\n      doAnimation(clip, clip.endState, animateCfg, onEnd);\n    }\n\n    function _shapeScale(container, animateCfg, type) {\n      var shapes = container.get('children');\n      var x;\n      var y;\n      var endMatrix;\n\n      for (var i = 0, len = shapes.length; i < len; i++) {\n        var shape = shapes[i];\n        var box = shape.getBBox();\n        x = (box.minX + box.maxX) / 2;\n        y = (box.minY + box.maxY) / 2;\n        endMatrix = getScaledMatrix(shape, [x, y], type);\n        doAnimation(shape, {\n          matrix: endMatrix\n        }, animateCfg);\n      }\n    }\n\n    function groupScaleInX(container, animateCfg, coord, zeroY) {\n      _groupScaleIn(container, animateCfg, coord, zeroY, 'x');\n    }\n\n    function groupScaleInY(container, animateCfg, coord, zeroY) {\n      _groupScaleIn(container, animateCfg, coord, zeroY, 'y');\n    }\n\n    function groupScaleInXY(container, animateCfg, coord, zeroY) {\n      _groupScaleIn(container, animateCfg, coord, zeroY, 'xy');\n    }\n\n    function shapesScaleInX(container, animateCfg) {\n      _shapeScale(container, animateCfg, 'x');\n    }\n\n    function shapesScaleInY(container, animateCfg) {\n      _shapeScale(container, animateCfg, 'y');\n    }\n\n    function shapesScaleInXY(container, animateCfg) {\n      _shapeScale(container, animateCfg, 'xy');\n    }\n\n    function groupWaveIn(container, animateCfg, coord) {\n      var clip = getClip(coord);\n      clip.set('canvas', container.get('canvas'));\n      container.attr('clip', clip);\n\n      var onEnd = function onEnd() {\n        container.attr('clip', null);\n        clip.remove(true);\n      };\n\n      var endState = {};\n\n      if (coord.isPolar) {\n        var startAngle = coord.startAngle,\n            endAngle = coord.endAngle;\n        endState.endAngle = endAngle;\n        clip.attr('endAngle', startAngle);\n      } else {\n        var start = coord.start,\n            end = coord.end;\n        var width = Math.abs(start.x - end.x);\n        var height = Math.abs(start.y - end.y);\n\n        if (coord.isTransposed) {\n          clip.attr('height', 0);\n          endState.height = height;\n        } else {\n          clip.attr('width', 0);\n          endState.width = width;\n        }\n      }\n\n      doAnimation(clip, endState, animateCfg, onEnd);\n    }\n\n    var GroupAction = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        groupWaveIn: groupWaveIn,\n        groupScaleInX: groupScaleInX,\n        groupScaleInY: groupScaleInY,\n        groupScaleInXY: groupScaleInXY,\n        shapesScaleInX: shapesScaleInX,\n        shapesScaleInY: shapesScaleInY,\n        shapesScaleInXY: shapesScaleInXY\n    });\n\n    /**\n     * Handle the detail animations\n     * @author sima.zhang1990@gmail.com\n     */\n    var timeline;\n\n    Element.prototype.animate = function () {\n      var attrs = mix({}, this.get('attrs'));\n      return new Animator(this, attrs, timeline);\n    };\n\n    Chart.prototype.animate = function (cfg) {\n      this.set('animate', cfg);\n      return this;\n    };\n\n    Animate.Action = ShapeAction;\n    Animate.defaultCfg = {\n      interval: {\n        enter: function enter(coord) {\n          if (coord.isPolar && coord.transposed) {\n            // for pie chart\n            return function (shape) {\n              shape.set('zIndex', -1);\n              var container = shape.get('parent');\n              container.sort();\n            };\n          }\n\n          return fadeIn;\n        }\n      },\n      area: {\n        enter: function enter(coord) {\n          if (coord.isPolar) return null;\n          return fadeIn;\n        }\n      },\n      line: {\n        enter: function enter(coord) {\n          if (coord.isPolar) return null;\n          return fadeIn;\n        }\n      },\n      path: {\n        enter: function enter(coord) {\n          if (coord.isPolar) return null;\n          return fadeIn;\n        }\n      }\n    };\n    var GROUP_ANIMATION = {\n      line: function line(coord) {\n        if (coord.isPolar) {\n          return groupScaleInXY;\n        }\n\n        return groupWaveIn;\n      },\n      area: function area(coord) {\n        if (coord.isPolar) {\n          return groupScaleInXY;\n        }\n\n        return groupWaveIn;\n      },\n      path: function path(coord) {\n        if (coord.isPolar) {\n          return groupScaleInXY;\n        }\n\n        return groupWaveIn;\n      },\n      point: function point() {\n        return shapesScaleInXY;\n      },\n      interval: function interval(coord) {\n        var result;\n\n        if (coord.isPolar) {\n          // polar coodinate\n          result = groupScaleInXY;\n\n          if (coord.transposed) {\n            // pie chart\n            result = groupWaveIn;\n          }\n        } else {\n          result = coord.transposed ? groupScaleInX : groupScaleInY;\n        }\n\n        return result;\n      },\n      schema: function schema() {\n        return groupWaveIn;\n      }\n    };\n\n    function diff(fromAttrs, toAttrs) {\n      var endState = {};\n\n      for (var k in toAttrs) {\n        if (isNumber(fromAttrs[k]) && fromAttrs[k] !== toAttrs[k]) {\n          endState[k] = toAttrs[k];\n        } else if (isArray(fromAttrs[k]) && JSON.stringify(fromAttrs[k]) !== JSON.stringify(toAttrs[k])) {\n          endState[k] = toAttrs[k];\n        }\n      }\n\n      return endState;\n    } // Add a unique id identifier to each shape\n\n\n    function _getShapeId(geom, dataObj, geomIdx) {\n      var type = geom.get('type');\n      var id = 'geom' + geomIdx + '-' + type;\n      var xScale = geom.getXScale();\n      var yScale = geom.getYScale();\n      var xField = xScale.field || 'x';\n      var yField = yScale.field || 'y';\n      var yVal = dataObj[yField];\n      var xVal;\n\n      if (xScale.isIdentity) {\n        xVal = xScale.value;\n      } else {\n        xVal = dataObj[xField];\n      }\n\n      if (type === 'interval' || type === 'schema') {\n        id += '-' + xVal;\n      } else if (type === 'line' || type === 'area' || type === 'path') {\n        id += '-' + type;\n      } else {\n        id += xScale.isCategory ? '-' + xVal : '-' + xVal + '-' + yVal;\n      }\n\n      var groupScales = geom._getGroupScales();\n\n      each(groupScales, function (groupScale) {\n        var field = groupScale.field;\n\n        if (groupScale.type !== 'identity') {\n          id += '-' + dataObj[field];\n        }\n      });\n      return id;\n    } // get geometry's shapes\n\n\n    function getShapes(geoms, chart, coord) {\n      var shapes = [];\n      each(geoms, function (geom, geomIdx) {\n        var geomContainer = geom.get('container');\n        var geomShapes = geomContainer.get('children');\n        var type = geom.get('type');\n        var animateCfg = isNil(geom.get('animateCfg')) ? _getAnimateCfgByShapeType(type, chart) : geom.get('animateCfg');\n\n        if (animateCfg !== false) {\n          each(geomShapes, function (shape, index) {\n            if (shape.get('className') === type) {\n              shape._id = _getShapeId(geom, shape.get('origin')._origin, geomIdx);\n              shape.set('coord', coord);\n              shape.set('animateCfg', animateCfg);\n              shape.set('index', index);\n              shapes.push(shape);\n            }\n          });\n        }\n\n        geom.set('shapes', geomShapes);\n      });\n      return shapes;\n    }\n\n    function cache(shapes) {\n      var rst = {};\n\n      for (var i = 0, len = shapes.length; i < len; i++) {\n        var shape = shapes[i];\n        if (!shape._id || shape.isClip) continue;\n        var id = shape._id;\n        rst[id] = {\n          _id: id,\n          type: shape.get('type'),\n          // the type of shape\n          attrs: mix({}, shape._attrs.attrs),\n          // the graphics attributes of shape\n          className: shape.get('className'),\n          geomType: shape.get('className'),\n          index: shape.get('index'),\n          coord: shape.get('coord'),\n          animateCfg: shape.get('animateCfg')\n        };\n      }\n\n      return rst;\n    }\n\n    function getAnimate(geomType, coord, animationType, animationName) {\n      var result;\n\n      if (isFunction(animationName)) {\n        result = animationName;\n      } else if (isString(animationName)) {\n        result = Animate.Action[animationName];\n      } else {\n        result = Animate.getAnimation(geomType, coord, animationType);\n      }\n\n      return result;\n    }\n\n    function getAnimateCfg(geomType, animationType, animateCfg) {\n      if (animateCfg === false || isObject(animateCfg) && animateCfg[animationType] === false) {\n        return false;\n      }\n\n      var defaultCfg = Animate.getAnimateCfg(geomType, animationType);\n\n      if (animateCfg && animateCfg[animationType]) {\n        return deepMix({}, defaultCfg, animateCfg[animationType]);\n      }\n\n      return defaultCfg;\n    }\n\n    function addAnimate(cache, shapes, canvas) {\n      var animate;\n      var animateCfg; // the order of animation: leave -> update -> enter\n\n      var updateShapes = [];\n      var newShapes = [];\n      each(shapes, function (shape) {\n        var result = cache[shape._id];\n\n        if (!result) {\n          newShapes.push(shape);\n        } else {\n          shape.set('cacheShape', result);\n          updateShapes.push(shape);\n          delete cache[shape._id];\n        }\n      }); // first do the leave animation\n\n      each(cache, function (deletedShape) {\n        var className = deletedShape.className,\n            coord = deletedShape.coord,\n            _id = deletedShape._id,\n            attrs = deletedShape.attrs,\n            index = deletedShape.index,\n            type = deletedShape.type;\n        animateCfg = getAnimateCfg(className, 'leave', deletedShape.animateCfg);\n        if (animateCfg === false) return true;\n        animate = getAnimate(className, coord, 'leave', animateCfg.animation);\n\n        if (isFunction(animate)) {\n          var tempShape = canvas.addShape(type, {\n            attrs: attrs,\n            index: index,\n            canvas: canvas,\n            className: className\n          });\n          tempShape._id = _id;\n          animate(tempShape, animateCfg, coord);\n        }\n      }); // then do the update animation\n\n      each(updateShapes, function (updateShape) {\n        var className = updateShape.get('className');\n        animateCfg = getAnimateCfg(className, 'update', updateShape.get('animateCfg'));\n        if (animateCfg === false) return true;\n        var coord = updateShape.get('coord');\n        var cacheAttrs = updateShape.get('cacheShape').attrs;\n        var endState = diff(cacheAttrs, updateShape._attrs.attrs); // 判断如果属性相同的话就不进行变换\n\n        if (Object.keys(endState).length) {\n          animate = getAnimate(className, coord, 'update', animateCfg.animation);\n\n          if (isFunction(animate)) {\n            animate(updateShape, animateCfg, coord);\n          } else {\n            updateShape.attr(cacheAttrs);\n            updateShape.animate().to({\n              attrs: endState,\n              duration: animateCfg.duration,\n              easing: animateCfg.easing,\n              delay: animateCfg.delay\n            }).onEnd(function () {\n              updateShape.set('cacheShape', null);\n            });\n          }\n        }\n      }); // last, enter animation\n\n      each(newShapes, function (newShape) {\n        // 新图形元素的进场元素\n        var className = newShape.get('className');\n        var coord = newShape.get('coord');\n        animateCfg = getAnimateCfg(className, 'enter', newShape.get('animateCfg'));\n        if (animateCfg === false) return true;\n        animate = getAnimate(className, coord, 'enter', animateCfg.animation);\n\n        if (isFunction(animate)) {\n          if (className === 'interval' && coord.isPolar && coord.transposed) {\n            var index = newShape.get('index');\n            var lastShape = updateShapes[index - 1];\n            animate(newShape, animateCfg, lastShape);\n          } else {\n            animate(newShape, animateCfg, coord);\n          }\n        }\n      });\n    }\n\n    function _getAnimateCfgByShapeType(type, chart) {\n      if (!type) {\n        return null;\n      }\n\n      var animateCfg = chart.get('animate');\n\n      if (type.indexOf('guide-tag') > -1) {\n        type = 'guide-tag';\n      }\n\n      if (isObject(animateCfg)) {\n        return animateCfg[type];\n      }\n\n      if (animateCfg === false) {\n        return false;\n      }\n\n      return null;\n    }\n\n    function afterCanvasInit()\n    /* chart */\n    {\n      timeline = new Timeline();\n      timeline.play();\n    }\n\n    function beforeCanvasDraw(chart) {\n      if (chart.get('animate') === false) {\n        return;\n      }\n\n      var isUpdate = chart.get('isUpdate');\n      var canvas = chart.get('canvas');\n      var coord = chart.get('coord');\n      var geoms = chart.get('geoms');\n      var caches = canvas.get('caches') || [];\n\n      if (caches.length === 0) {\n        isUpdate = false;\n      }\n\n      var cacheShapes = getShapes(geoms, chart, coord);\n\n      var _chart$get = chart.get('axisController'),\n          frontPlot = _chart$get.frontPlot,\n          backPlot = _chart$get.backPlot;\n\n      var axisShapes = frontPlot.get('children').concat(backPlot.get('children'));\n      var guideShapes = [];\n\n      if (chart.get('guideController')) {\n        guideShapes = chart.get('guideController').guideShapes;\n      }\n\n      var componentShapes = [];\n      axisShapes.concat(guideShapes).forEach(function (s) {\n        var className = s.get('className');\n\n        var animateCfg = _getAnimateCfgByShapeType(className, chart);\n\n        s.set('coord', coord);\n        s.set('animateCfg', animateCfg);\n        componentShapes.push(s);\n        cacheShapes.push(s);\n      });\n      canvas.set('caches', cache(cacheShapes));\n\n      if (isUpdate) {\n        addAnimate(caches, cacheShapes, canvas);\n      } else {\n        // do the appear animation\n        var animateCfg;\n        var animate;\n        each(geoms, function (geom) {\n          var type = geom.get('type');\n          var geomCfg = isNil(geom.get('animateCfg')) ? _getAnimateCfgByShapeType(type, chart) : geom.get('animateCfg');\n\n          if (geomCfg !== false) {\n            animateCfg = getAnimateCfg(type, 'appear', geomCfg);\n            animate = getAnimate(type, coord, 'appear', animateCfg.animation);\n\n            if (isFunction(animate)) {\n              var shapes = geom.get('shapes');\n              each(shapes, function (shape) {\n                animate(shape, animateCfg, coord);\n              });\n            } else if (GROUP_ANIMATION[type]) {\n              // do the default animation\n              animate = GroupAction[animateCfg.animation] || GROUP_ANIMATION[type](coord);\n              var yScale = geom.getYScale();\n              var zeroY = coord.convertPoint({\n                x: 0,\n                y: yScale.scale(geom.getYMinValue())\n              });\n              var container = geom.get('container');\n              animate && animate(container, animateCfg, coord, zeroY);\n            }\n          }\n        }); // do the animation of components\n\n        each(componentShapes, function (shape) {\n          var animateCfg = shape.get('animateCfg');\n          var className = shape.get('className');\n\n          if (animateCfg && animateCfg.appear) {\n            // if user configure\n            var defaultCfg = Animate.getAnimateCfg(className, 'appear');\n            var appearCfg = deepMix({}, defaultCfg, animateCfg.appear);\n\n            var _animate = getAnimate(className, coord, 'appear', appearCfg.animation);\n\n            if (isFunction(_animate)) {\n              _animate(shape, appearCfg, coord);\n            }\n          }\n        });\n      }\n    }\n\n    function afterCanvasDestroyed()\n    /* chart */\n    {\n      timeline.stop();\n    }\n    var detail = {\n      afterCanvasInit: afterCanvasInit,\n      beforeCanvasDraw: beforeCanvasDraw,\n      afterCanvasDestroyed: afterCanvasDestroyed\n    };\n\n    var Animation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        afterCanvasInit: afterCanvasInit,\n        beforeCanvasDraw: beforeCanvasDraw,\n        afterCanvasDestroyed: afterCanvasDestroyed,\n        'default': detail\n    });\n\n    Chart._Interactions = {};\n\n    Chart.registerInteraction = function (type, constructor) {\n      Chart._Interactions[type] = constructor;\n    };\n\n    Chart.getInteraction = function (type) {\n      return Chart._Interactions[type];\n    };\n\n    Chart.prototype.interaction = function (type, cfg) {\n      var interactions = this._interactions || {};\n\n      if (interactions[type]) {\n        // if reprated, destroy last\n        interactions[type].destroy();\n      }\n\n      var Ctor = Chart.getInteraction(type);\n      var interact = new Ctor(cfg, this);\n      interactions[type] = interact;\n      this._interactions = interactions;\n      return this;\n    };\n\n    Chart.prototype.clearInteraction = function (type) {\n      var interactions = this._interactions;\n      if (!interactions) return;\n\n      if (type) {\n        interactions[type] && interactions[type].destroy();\n        delete interactions[type];\n      } else {\n        each(interactions, function (interaction, key) {\n          interaction.destroy();\n          delete interactions[key];\n        });\n      }\n\n      return this;\n    };\n\n    function isValuesEqual(values, newValues) {\n      if (values.length !== newValues.length) {\n        return false;\n      }\n\n      var lastIndex = values.length - 1;\n      return values[0] === newValues[0] && values[lastIndex] === newValues[lastIndex];\n    } // 不同交互之间共享的上下文\n\n\n    var defaultRange = [0, 1];\n\n    var Context = /*#__PURE__*/function () {\n      // 最开始的原始值\n      // 当前显示的范围\n      // 缩放最小的点数\n      // 最小的缩放比例, 默认通过minCount计算\n      // minScale = 0.01;\n      // 交互开始时，ticks个数，主要为了每次缩放后，更新ticks个数\n      // lastTickCount;\n      function Context(chart) {\n        var _this = this;\n\n        _defineProperty(this, \"chart\", null);\n\n        _defineProperty(this, \"values\", null);\n\n        _defineProperty(this, \"range\", defaultRange);\n\n        _defineProperty(this, \"startRange\", defaultRange);\n\n        _defineProperty(this, \"minCount\", 10);\n\n        _defineProperty(this, \"_afterinit\", function () {\n          // 初始化value值\n          var scale = _this.getPinchScale(); // 记录原始全量数据\n\n\n          var values = [].concat(scale.values);\n          _this.values = values; // 最小的缩放比例\n\n          if (!_this.minScale) {\n            _this.minScale = _this.minCount / values.length;\n          } // 初始化的时候有设置range，则初始化成默认比例\n\n\n          if (_this.range !== defaultRange) {\n            _this.updateRange(_this.range);\n\n            _this.updateTicks();\n          }\n        });\n\n        _defineProperty(this, \"_afterdatachange\", function () {\n          _this.updateRange(_this.range);\n        });\n\n        this.chart = chart;\n\n        this._initEvent(chart);\n      }\n\n      var _proto = Context.prototype;\n\n      _proto._initEvent = function _initEvent(chart) {\n        // 在整体初始化后还需要设置一些初始状态\n        chart.on(EVENT_AFTER_INIT, this._afterinit);\n        chart.on(EVENT_AFTER_DATA_CHANGE, this._afterdatachange);\n      } // 缩放的主轴scale\n      ;\n\n      _proto.getPinchScale = function getPinchScale() {\n        var chart = this.chart; // 默认缩放x轴\n\n        var scale = chart.getXScale();\n        return scale;\n      } // 跟随轴的scale\n      ;\n\n      _proto.getFollowScale = function getFollowScale() {\n        var chart = this.chart; // 默认缩放x轴\n\n        var scales = chart.getYScales() || [];\n        return scales[0];\n      };\n\n      _proto.start = function start() {\n        var range = this.range;\n        var scale = this.getPinchScale();\n        var start = range[0],\n            end = range[1]; // 记录交互起始的范围\n\n        this.startRange = [start, end]; // 记录开始时的ticks个数\n\n        this.lastTickCount = scale.tickCount;\n      };\n\n      _proto.doZoom = function doZoom(leftScale, rightScale, zoom) {\n        var range = this.startRange,\n            minScale = this.minScale;\n        var start = range[0],\n            end = range[1];\n        var zoomOffset = 1 - zoom;\n        var rangeLen = end - start;\n        var rangeOffset = rangeLen * zoomOffset;\n        var leftOffset = rangeOffset * leftScale;\n        var rightOffset = rangeOffset * rightScale;\n        var newStart = Math.max(0, start - leftOffset);\n        var newEnd = Math.min(1, end + rightOffset);\n        var newRange = [newStart, newEnd]; // 如果已经到了最小比例，则不能再继续再放大\n\n        if (newEnd - newStart < minScale) {\n          return;\n        }\n\n        this.updateRange(newRange);\n      };\n\n      _proto.doMove = function doMove(ratio) {\n        // 不管是0， 还是其他，都不用处理\n        if (!ratio) return;\n        var range = this.startRange;\n        var start = range[0],\n            end = range[1];\n        var rangeLen = end - start;\n        var rangeOffset = rangeLen * ratio;\n        var newStart = start - rangeOffset;\n        var newEnd = end - rangeOffset; // 处理边界值\n\n        var newRange;\n\n        if (newStart < 0) {\n          newRange = [0, rangeLen];\n        } else if (newEnd > 1) {\n          newRange = [1 - rangeLen, 1];\n        } else {\n          newRange = [newStart, newEnd];\n        }\n\n        this.updateRange(newRange);\n      };\n\n      _proto.updateRange = function updateRange(range) {\n        var values = this.values; // 0， 1 的范围之间\n\n        var start = range[0],\n            end = range[1]; // start 不能小于0\n\n        start = Math.max(0, start); // end 不能大于1\n\n        end = Math.min(1, end); // 设置当前的范围\n\n        this.range = [start, end];\n        var len = values.length;\n        var valueStart = start * len;\n        var valueEnd = end * len; // 从原始数据里截取需要显示的数据\n\n        var newValues = values.slice(valueStart, valueEnd);\n        this.repaint(newValues);\n      };\n\n      _proto.repaint = function repaint(newValues) {\n        var chart = this.chart;\n        var scale = this.getPinchScale();\n        var currentValues = scale.values,\n            ticks = scale.ticks; // 如果新数组和当前显示的数组相同，则不更新\n\n        if (isValuesEqual(currentValues, newValues)) {\n          return;\n        } // 更新主轴values\n\n\n        this.updateScale(scale, {\n          ticks: ticks,\n          values: newValues\n        });\n        this.updateFollowScale(scale, newValues);\n        chart.repaint();\n      };\n\n      _proto.updateFollowScale = function updateFollowScale(pinchScale, pinchValues) {\n        var chart = this.chart;\n        var followScale = this.getFollowScale();\n        var pinchField = pinchScale.field,\n            pinchScaleType = pinchScale.type;\n        var followField = followScale.field; // 根据主轴的value值，找到所有从轴的value值\n\n        var values = []; // 转成map，让查找性能更高\n\n        var pinchValueMap = {};\n        pinchValues.forEach(function (item) {\n          pinchValueMap[item] = true;\n        });\n        var data = chart.get('data');\n        data.forEach(function (item) {\n          if (pinchScaleType === 'timeCat') {\n            var value = toTimeStamp(item[pinchField]);\n\n            if (pinchValueMap[value]) {\n              values.push(item[followField]);\n            }\n          }\n        });\n\n        var _getRange = getRange$1(values),\n            min = _getRange.min,\n            max = _getRange.max;\n\n        this.updateScale(followScale, {\n          min: min,\n          max: max,\n          nice: true\n        });\n      };\n\n      _proto.updateScale = function updateScale(scale, cfg) {\n        if (!scale) {\n          return;\n        }\n\n        scale.change(cfg);\n      } // 上一次的tick个数\n      ;\n\n      _proto.updateTicks = function updateTicks() {\n        var chart = this.chart,\n            values = this.values;\n        var scale = this.getPinchScale();\n        var currentValues = scale.values,\n            tickCount = scale.tickCount; // 根据当前数据的比例，和定义的tickCount计算应该需要多少个ticks\n\n        var newTickCount = Math.round(tickCount * values.length / currentValues.length);\n        var catTicks = getTickMethod('cat');\n        var ticks = catTicks({\n          tickCount: newTickCount,\n          values: values\n        });\n        this.updateScale(scale, {\n          ticks: ticks,\n          values: currentValues\n        }); // 更新完后，需要重新绘制一次\n\n        chart.repaint();\n      };\n\n      _proto.destroy = function destroy() {\n        var chart = this.chart;\n        chart.off(EVENT_AFTER_INIT, this._afterinit);\n        chart.off(EVENT_AFTER_DATA_CHANGE, this._afterdatachange);\n      };\n\n      return Context;\n    }();\n\n    var Base$2 = /*#__PURE__*/function () {\n      var _proto = Base.prototype;\n\n      // 交互的上下文\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {};\n      };\n\n      _proto.getInteractionContext = function getInteractionContext(chart) {\n        var interactionContext = chart.get('interactionContext');\n\n        if (interactionContext) {\n          return interactionContext;\n        }\n\n        interactionContext = new Context(chart);\n        chart.set('interactionContext', interactionContext);\n        return interactionContext;\n      };\n\n      function Base(cfg, chart) {\n        var _this = this;\n\n        _defineProperty(this, \"type\", '');\n\n        _defineProperty(this, \"startEvent\", 'touchstart');\n\n        _defineProperty(this, \"processEvent\", 'touchmove');\n\n        _defineProperty(this, \"endEvent\", 'touchend');\n\n        _defineProperty(this, \"resetEvent\", null);\n\n        _defineProperty(this, \"context\", null);\n\n        _defineProperty(this, \"_start\", function (ev) {\n          _this.preStart && _this.preStart(ev);\n\n          _this.start(ev);\n\n          _this.onStart && _this.onStart(ev);\n        });\n\n        _defineProperty(this, \"_process\", function (ev) {\n          _this.preProcess && _this.preProcess(ev);\n\n          _this.process(ev);\n\n          _this.onProcess && _this.onProcess(ev);\n        });\n\n        _defineProperty(this, \"_end\", function (ev) {\n          _this.preEnd && _this.preEnd(ev);\n\n          _this.end(ev);\n\n          _this.onEnd && _this.onEnd(ev);\n        });\n\n        _defineProperty(this, \"_reset\", function (ev) {\n          _this.preReset && _this.preReset(ev);\n\n          _this.reset(ev);\n\n          _this.onReset && _this.onReset(ev);\n        });\n\n        mix(this, this.getDefaultCfg(), cfg);\n        this.context = this.getInteractionContext(chart);\n        this.chart = chart; // 只处理range, 暂时先这么处理后面再看情况调整\n\n        var range = this.range;\n\n        if (range) {\n          this.context.range = range;\n        }\n\n        this._bindEvents(chart);\n      }\n\n      _proto._bindEvents = function _bindEvents(chart) {\n        var startEvent = this.startEvent,\n            processEvent = this.processEvent,\n            endEvent = this.endEvent,\n            resetEvent = this.resetEvent;\n        var canvas = chart.get('canvas'); // 统一绑定事件\n\n        canvas.on(startEvent, this._start);\n        canvas.on(processEvent, this._process);\n        canvas.on(endEvent, this._end);\n        canvas.on(resetEvent, this._reset);\n      };\n\n      _proto._clearEvents = function _clearEvents() {\n        var chart = this.chart,\n            startEvent = this.startEvent,\n            processEvent = this.processEvent,\n            endEvent = this.endEvent,\n            resetEvent = this.resetEvent;\n        var canvas = chart.get('canvas'); // 统一绑定事件\n\n        canvas.off(startEvent, this._start);\n        canvas.off(processEvent, this._process);\n        canvas.off(endEvent, this._end);\n        canvas.off(resetEvent, this._start);\n      };\n\n      // override\n      _proto.start = function start() {} // override\n      ;\n\n      _proto.process = function process() {} // override\n      ;\n\n      _proto.end = function end() {} // override\n      ;\n\n      _proto.reset = function reset() {};\n\n      _proto.destroy = function destroy() {\n        this.context.destroy();\n\n        this._clearEvents();\n      };\n\n      return Base;\n    }();\n\n    var Pan = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Pan, _Base);\n\n      function Pan() {\n        return _Base.apply(this, arguments) || this;\n      }\n\n      var _proto = Pan.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          type: 'pan',\n          startEvent: 'panstart',\n          processEvent: 'pan',\n          endEvent: 'panend'\n        };\n      };\n\n      _proto.start = function start() {\n        var context = this.context;\n        context.start();\n      };\n\n      _proto.process = function process(e) {\n        var direction = e.direction,\n            deltaX = e.deltaX;\n\n        if (direction === 'up' || direction === 'down') {\n          return;\n        }\n\n        e.preventDefault && e.preventDefault();\n        var context = this.context;\n        var chart = context.chart;\n        var coord = chart.get('coord');\n        var start = coord.start,\n            end = coord.end;\n        var coordWidth = end.x - start.x;\n        var ratio = deltaX / coordWidth;\n        context.doMove(ratio);\n      };\n\n      return Pan;\n    }(Base$2);\n\n    var Pinch = /*#__PURE__*/function (_Base) {\n      _inheritsLoose(Pinch, _Base);\n\n      var _proto = Pinch.prototype;\n\n      _proto.getDefaultCfg = function getDefaultCfg() {\n        return {\n          type: 'pinch',\n          startEvent: 'pinchstart',\n          processEvent: 'pinch',\n          endEvent: 'pinchend'\n        };\n      };\n\n      function Pinch(cfg, chart) {\n        var _this;\n\n        _this = _Base.call(this, cfg, chart) || this;\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            context = _assertThisInitialize.context;\n\n        mix(context, cfg);\n        return _this;\n      }\n\n      _proto.start = function start() {\n        var context = this.context;\n        context.start();\n      };\n\n      _proto.process = function process(e) {\n        e.preventDefault && e.preventDefault();\n        var zoom = e.zoom,\n            center = e.center;\n        var context = this.context;\n        var chart = context.chart;\n        var coord = chart.get('coord');\n        var start = coord.start,\n            end = coord.end;\n        var coordWidth = end.x - start.x;\n        var leftLen = Math.abs(center.x - start.x);\n        var rightLen = Math.abs(end.x - center.x); // 计算左右缩放的比例\n\n        var leftScale = leftLen / coordWidth;\n        var rightScale = rightLen / coordWidth;\n        context.doZoom(leftScale, rightScale, zoom);\n      };\n\n      _proto.end = function end() {\n        // 缩放完成后再更新ticks\n        var context = this.context;\n        context.updateTicks();\n      };\n\n      return Pinch;\n    }(Base$2);\n\n    Chart.registerInteraction('pan', Pan);\n    Chart.registerInteraction('pinch', Pinch);\n\n    /**\n     * Default, without interactins\n     */\n    var Component = {\n      Marker: Marker\n    }; // register plugins\n\n    Chart.plugins.register([Tooltip$1, Legend, Guide, Animation]); // 默认添加交互\n    var index = {\n      Component: Component,\n      Global: Global,\n      Chart: Chart,\n      Shape: Shape$1,\n      G: G,\n      Util: Util,\n      Helper: Helper,\n      track: track,\n      Animate: Animate\n    };\n\n    exports.Animate = Animate;\n    exports.Chart = Chart;\n    exports.Component = Component;\n    exports.G = G;\n    exports.Global = Global;\n    exports.Helper = Helper;\n    exports.Shape = Shape$1;\n    exports.Util = Util;\n    exports.default = index;\n    exports.track = track;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n"],"sourceRoot":""}